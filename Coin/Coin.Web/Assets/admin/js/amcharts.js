if(!AmCharts)var AmCharts={themes:{},maps:{},inheriting:{},charts:[],onReadyArray:[],useUTC:!1,updateRate:40,uid:0,lang:{},translations:{},mapTranslations:{},windows:{},initHandlers:[]};AmCharts.Class=function(n){var t=function(){arguments[0]!==AmCharts.inheriting&&(this.events={},this.construct.apply(this,arguments))},i;n.inherits?(t.prototype=new n.inherits(AmCharts.inheriting),t.base=n.inherits.prototype,delete n.inherits):(t.prototype.createEvents=function(){for(var n=0,t=arguments.length;n<t;n++)this.events[arguments[n]]=[]},t.prototype.listenTo=function(n,t,i){this.removeListener(n,t,i);n.events[t].push({handler:i,scope:this})},t.prototype.addListener=function(n,t,i){this.removeListener(this,n,t);this.events[n].push({handler:t,scope:i})},t.prototype.removeListener=function(n,t,i){if(n&&n.events)for(n=n.events[t],t=n.length-1;0<=t;t--)n[t].handler===i&&n.splice(t,1)},t.prototype.fire=function(n,t){for(var r,u=this.events[n],i=0,f=u.length;i<f;i++)r=u[i],r.handler.call(r.scope,t)});for(i in n)t.prototype[i]=n[i];return t};AmCharts.addChart=function(n){AmCharts.charts.push(n)};AmCharts.removeChart=function(n){for(var i=AmCharts.charts,t=i.length-1;0<=t;t--)i[t]==n&&i.splice(t,1)};AmCharts.isModern=!0;AmCharts.getIEVersion=function(){var i=0,n,t;return"Microsoft Internet Explorer"==navigator.appName?(n=navigator.userAgent,t=/MSIE ([0-9]{1,}[.0-9]{0,})/,null!=t.exec(n)&&(i=parseFloat(RegExp.$1))):"Netscape"==navigator.appName&&(n=navigator.userAgent,t=/Trident\/.*rv:([0-9]{1,}[.0-9]{0,})/,null!=t.exec(n)&&(i=parseFloat(RegExp.$1))),i};AmCharts.applyLang=function(n,t){var i=AmCharts.translations;t.dayNames=AmCharts.extend({},AmCharts.dayNames);t.shortDayNames=AmCharts.extend({},AmCharts.shortDayNames);t.monthNames=AmCharts.extend({},AmCharts.monthNames);t.shortMonthNames=AmCharts.extend({},AmCharts.shortMonthNames);i&&(i=i[n])&&(AmCharts.lang=i,i.monthNames&&(t.dayNames=AmCharts.extend({},i.dayNames),t.shortDayNames=AmCharts.extend({},i.shortDayNames),t.monthNames=AmCharts.extend({},i.monthNames),t.shortMonthNames=AmCharts.extend({},i.shortMonthNames)))};AmCharts.IEversion=AmCharts.getIEVersion();9>AmCharts.IEversion&&0<AmCharts.IEversion&&(AmCharts.isModern=!1,AmCharts.isIE=!0);AmCharts.dx=0;AmCharts.dy=0;(document.addEventListener||window.opera)&&(AmCharts.isNN=!0,AmCharts.isIE=!1,AmCharts.dx=.5,AmCharts.dy=.5);document.attachEvent&&(AmCharts.isNN=!1,AmCharts.isIE=!0,AmCharts.isModern||(AmCharts.dx=0,AmCharts.dy=0));window.chrome&&(AmCharts.chrome=!0);AmCharts.handleMouseUp=function(n){for(var i,r=AmCharts.charts,t=0;t<r.length;t++)i=r[t],i&&i.handleReleaseOutside&&i.handleReleaseOutside(n)};AmCharts.handleMouseMove=function(n){for(var i,r=AmCharts.charts,t=0;t<r.length;t++)i=r[t],i&&i.handleMouseMove&&i.handleMouseMove(n)};AmCharts.handleWheel=function(n){for(var t,r=AmCharts.charts,i=0;i<r.length;i++)if(t=r[i],t&&t.mouseIsOver){t.mouseWheelScrollEnabled||t.mouseWheelZoomEnabled?t.handleWheel&&t.handleWheel(n):n.stopPropagation&&n.stopPropagation();break}};AmCharts.resetMouseOver=function(){for(var i,t=AmCharts.charts,n=0;n<t.length;n++)i=t[n],i&&(i.mouseIsOver=!1)};AmCharts.ready=function(n){AmCharts.onReadyArray.push(n)};AmCharts.handleLoad=function(){var t,n,i;for(AmCharts.isReady=!0,t=AmCharts.onReadyArray,n=0;n<t.length;n++)i=t[n],isNaN(AmCharts.processDelay)?i():setTimeout(i,AmCharts.processDelay*n)};AmCharts.addInitHandler=function(n,t){AmCharts.initHandlers.push({method:n,types:t})};AmCharts.callInitHandler=function(n){var r=AmCharts.initHandlers,i,t;if(AmCharts.initHandlers)for(i=0;i<r.length;i++)t=r[i],t.types?AmCharts.isInArray(t.types,n.type)&&t.method(n):t.method(n)};AmCharts.getUniqueId=function(){return AmCharts.uid++,"AmChartsEl-"+AmCharts.uid};AmCharts.isNN&&(document.addEventListener("mousemove",AmCharts.handleMouseMove,!0),document.addEventListener("mouseup",AmCharts.handleMouseUp,!0),window.addEventListener("load",AmCharts.handleLoad,!0),window.addEventListener("DOMMouseScroll",AmCharts.handleWheel,!0),document.addEventListener("mousewheel",AmCharts.handleWheel,!0));AmCharts.isIE&&(document.attachEvent("onmousemove",AmCharts.handleMouseMove),document.attachEvent("onmouseup",AmCharts.handleMouseUp),window.attachEvent("onload",AmCharts.handleLoad));AmCharts.clear=function(){var t=AmCharts.charts,n;if(t)for(n=0;n<t.length;n++)t[n].clear();AmCharts.resizeInt&&clearInterval(AmCharts.resizeInt);AmCharts.charts=null;AmCharts.isNN&&(document.removeEventListener("mousemove",AmCharts.handleMouseMove,!0),document.removeEventListener("mouseup",AmCharts.handleMouseUp,!0),window.removeEventListener("load",AmCharts.handleLoad,!0),window.removeEventListener("DOMMouseScroll",AmCharts.handleWheel,!0),document.removeEventListener("mousewheel",AmCharts.handleWheel,!0));AmCharts.isIE&&(document.detachEvent("onmousemove",AmCharts.handleMouseMove),document.detachEvent("onmouseup",AmCharts.handleMouseUp),window.detachEvent("onload",AmCharts.handleLoad))};AmCharts.makeChart=function(n,t,i){var f=t.type,u=t.theme,r;AmCharts.isString(u)&&(u=AmCharts.themes[u],t.theme=u);switch(f){case"serial":r=new AmCharts.AmSerialChart(u);break;case"xy":r=new AmCharts.AmXYChart(u);break;case"pie":r=new AmCharts.AmPieChart(u);break;case"radar":r=new AmCharts.AmRadarChart(u);break;case"gauge":r=new AmCharts.AmAngularGauge(u);break;case"funnel":r=new AmCharts.AmFunnelChart(u);break;case"map":r=new AmCharts.AmMap(u);break;case"stock":r=new AmCharts.AmStockChart(u);break;case"gantt":r=new AmCharts.AmGanttChart(u)}return AmCharts.extend(r,t),AmCharts.isReady?isNaN(i)?r.write(n):setTimeout(function(){AmCharts.realWrite(r,n)},i):AmCharts.ready(function(){isNaN(i)?r.write(n):setTimeout(function(){AmCharts.realWrite(r,n)},i)}),r};AmCharts.realWrite=function(n,t){n.write(t)};AmCharts.resizeInt=setInterval(function(){AmCharts.checkSize.call()},200);AmCharts.checkSize=function(){var t=AmCharts.charts,n;if(t)for(n=0;n<t.length;n++)t[n].validateSize()};AmCharts.bezierX=3;AmCharts.bezierY=6;AmCharts.toBoolean=function(n,t){if(void 0===n)return t;switch(String(n).toLowerCase()){case"true":case"yes":case"1":return!0;case"false":case"no":case"0":case null:return!1;default:return Boolean(n)}};AmCharts.removeFromArray=function(n,t){var i;if(void 0!=t&&void 0!=n)for(i=n.length-1;0<=i;i--)n[i]==t&&n.splice(i,1)};AmCharts.isInArray=function(n,t){for(var i=0;i<n.length;i++)if(n[i]==t)return!0;return!1};AmCharts.getDecimals=function(n){var t=0;return isNaN(n)||(n=String(n),-1!=n.indexOf("e-")?t=Number(n.split("-")[1]):-1!=n.indexOf(".")&&(t=n.split(".")[1].length)),t};AmCharts.wrappedText=function(n,t,i,r,u,f,e,o,s){var c=AmCharts.text(n,t,i,r,u,f,e),v="\n",l,a,h;if(AmCharts.isModern||(v="<br>"),10<s)return c;if(c){if(l=c.getBBox(),l.width>o){for(l=Math.ceil(l.width/o),c.remove(),c=[],h=0;-1<(index=t.indexOf(" ",h));)c.push(index),h=index+1;for(Math.round(t.length/2),h=0;h<c.length;h+=Math.ceil(c.length/l))a=c[h],t=t.substr(0,a)+v+t.substr(a+1);if(isNaN(a)){if(0==s)for(h=1;h<l;h++)a=Math.round(t.length/l*h),t=t.substr(0,a)+v+t.substr(a);return AmCharts.text(n,t,i,r,u,f,e)}return AmCharts.wrappedText(n,t,i,r,u,f,e,o,s+1)}return c}};AmCharts.getStyle=function(n,t){var i="";return document.defaultView&&document.defaultView.getComputedStyle?i=document.defaultView.getComputedStyle(n,"").getPropertyValue(t):n.currentStyle&&(t=t.replace(/\-(\w)/g,function(n,t){return t.toUpperCase()}),i=n.currentStyle[t]),i};AmCharts.removePx=function(n){if(void 0!=n)return Number(n.substring(0,n.length-2))};AmCharts.getURL=function(n,t){if(n)if("_self"!=t&&t)if("_top"==t&&window.top)window.top.location.href=n;else if("_parent"==t&&window.parent)window.parent.location.href=n;else if("_blank"==t)window.open(n);else{var i=document.getElementsByName(t)[0];i?i.src=n:(i=AmCharts.windows[t])?i.opener&&!i.opener.closed?i.location.href=n:AmCharts.windows[t]=window.open(n):AmCharts.windows[t]=window.open(n)}else window.location.href=n};AmCharts.ifArray=function(n){return n&&0<n.length?!0:!1};AmCharts.callMethod=function(n,t){for(var i,e,u,f,r=0;r<t.length;r++)if(i=t[r],i&&(i[n]&&i[n](),e=i.length,0<e))for(u=0;u<e;u++)f=i[u],f&&f[n]&&f[n]()};AmCharts.toNumber=function(n){return"number"==typeof n?n:Number(String(n).replace(/[^0-9\-.]+/g,""))};AmCharts.toColor=function(n){var t,i;if(""!==n&&void 0!==n)if(-1!=n.indexOf(","))for(n=n.split(","),t=0;t<n.length;t++)i=n[t].substring(n[t].length-6,n[t].length),n[t]="#"+i;else n=n.substring(n.length-6,n.length),n="#"+n;return n};AmCharts.toCoordinate=function(n,t,i){var r;return void 0!==n&&(n=String(n),i&&i<t&&(t=i),r=Number(n),-1!=n.indexOf("!")&&(r=t-Number(n.substr(1))),-1!=n.indexOf("%")&&(r=t*Number(n.substr(0,n.length-1))/100)),r};AmCharts.fitToBounds=function(n,t,i){return n<t&&(n=t),n>i&&(n=i),n};AmCharts.isDefined=function(n){return void 0===n?!1:!0};AmCharts.stripNumbers=function(n){return n.replace(/[0-9]+/g,"")};AmCharts.roundTo=function(n,t){if(0>t)return n;var i=Math.pow(10,t);return Math.round(n*i)/i};AmCharts.toFixed=function(n,t){var i=String(Math.round(n*Math.pow(10,t))),r,u;if(0<t){if(r=i.length,r<t)for(u=0;u<t-r;u++)i="0"+i;return r=i.substring(0,i.length-t),""===r&&(r=0),r+"."+i.substring(i.length-t,i.length)}return String(i)};AmCharts.formatDuration=function(n,t,i,r,u,f){var e=AmCharts.intervals,s=f.decimalSeparator,o;if(n>=e[t].contains)return o=n-Math.floor(n/e[t].contains)*e[t].contains,"ss"==t&&(o=AmCharts.formatNumber(o,f),1==o.split(s)[0].length&&(o="0"+o)),("mm"==t||"hh"==t)&&10>o&&(o="0"+o),i=o+""+r[t]+""+i,n=Math.floor(n/e[t].contains),t=e[t].nextInterval,AmCharts.formatDuration(n,t,i,r,u,f);if("ss"==t&&(n=AmCharts.formatNumber(n,f),1==n.split(s)[0].length&&(n="0"+n)),("mm"==t||"hh"==t)&&10>n&&(n="0"+n),i=n+""+r[t]+""+i,e[u].count>e[t].count)for(n=e[t].count;n<e[u].count;n++)t=e[t].nextInterval,"ss"==t||"mm"==t||"hh"==t?i="00"+r[t]+""+i:"DD"==t&&(i="0"+r[t]+""+i);return":"==i.charAt(i.length-1)&&(i=i.substring(0,i.length-1)),i};AmCharts.formatNumber=function(n,t,i,r,u){var h,c,f,s,o,e;if(n=AmCharts.roundTo(n,t.precision),isNaN(i)&&(i=t.precision),h=t.decimalSeparator,t=t.thousandsSeparator,c=0>n?"-":"",n=Math.abs(n),s=String(n),o=!1,-1!=s.indexOf("e")&&(o=!0),0<=i&&!o&&(s=AmCharts.toFixed(n,i)),f="",o)f=s;else{for(s=s.split("."),o=String(s[0]),e=o.length;0<=e;e-=3)f=e!=o.length?0!==e?o.substring(e-3,e)+t+f:o.substring(e-3,e)+f:o.substring(e-3,e);void 0!==s[1]&&(f=f+h+s[1]);void 0!==i&&0<i&&"0"!=f&&(f=AmCharts.addZeroes(f,h,i))}return f=c+f,""===c&&!0===r&&0!==n&&(f="+"+f),!0===u&&(f+="%"),f};AmCharts.addZeroes=function(n,t,i){return n=n.split(t),void 0===n[1]&&0<i&&(n[1]="0"),n[1].length<i?(n[1]+="0",AmCharts.addZeroes(n[0]+t+n[1],t,i)):void 0!==n[1]?n[0]+t+n[1]:n[0]};AmCharts.scientificToNormal=function(n){var t,i,r;if(n=String(n).split("e"),"-"==n[1].substr(0,1)){for(t="0.",i=0;i<Math.abs(Number(n[1]))-1;i++)t+="0";t+=n[0].split(".").join("")}else for(r=0,t=n[0].split("."),t[1]&&(r=t[1].length),t=n[0].split(".").join(""),i=0;i<Math.abs(Number(n[1]))-r;i++)t+="0";return t};AmCharts.toScientific=function(n,t){if(0===n)return"0";var i=Math.floor(Math.log(Math.abs(n))*Math.LOG10E);return Math.pow(10,i),mantissa=String(mantissa).split(".").join(t),String(mantissa)+"e"+i};AmCharts.randomColor=function(){return"#"+("00000"+(16777216*Math.random()<<0).toString(16)).substr(-6)};AmCharts.hitTest=function(n,t,i){var r=!1,f=n.x,e=n.x+n.width,o=n.y,s=n.y+n.height,u=AmCharts.isInRectangle;return r||(r=u(f,o,t)),r||(r=u(f,s,t)),r||(r=u(e,o,t)),r||(r=u(e,s,t)),r||!0===i||(r=AmCharts.hitTest(t,n,!0)),r};AmCharts.isInRectangle=function(n,t,i){return n>=i.x-5&&n<=i.x+i.width+5&&t>=i.y-5&&t<=i.y+i.height+5?!0:!1};AmCharts.isPercents=function(n){if(-1!=String(n).indexOf("%"))return!0};AmCharts.findPosX=function(n){var t=n,i=n.offsetLeft;if(n.offsetParent){for(;n=n.offsetParent;)i+=n.offsetLeft;for(;(t=t.parentNode)&&t!=document.body;)i-=t.scrollLeft||0}return i};AmCharts.findPosY=function(n){var t=n,i=n.offsetTop;if(n.offsetParent){for(;n=n.offsetParent;)i+=n.offsetTop;for(;(t=t.parentNode)&&t!=document.body;)i-=t.scrollTop||0}return i};AmCharts.findIfFixed=function(n){if(n.offsetParent)for(;n=n.offsetParent;)if("fixed"==AmCharts.getStyle(n,"position"))return!0;return!1};AmCharts.findIfAuto=function(n){return n.style&&"auto"==AmCharts.getStyle(n,"overflow")?!0:n.parentNode?AmCharts.findIfAuto(n.parentNode):!1};AmCharts.findScrollLeft=function(n,t){return n.scrollLeft&&(t+=n.scrollLeft),n.parentNode?AmCharts.findScrollLeft(n.parentNode,t):t};AmCharts.findScrollTop=function(n,t){return n.scrollTop&&(t+=n.scrollTop),n.parentNode?AmCharts.findScrollTop(n.parentNode,t):t};AmCharts.formatValue=function(n,t,i,r,u,f,e,o){var h,c,s;if(t)for(void 0===u&&(u=""),h=0;h<i.length;h++)c=i[h],s=t[c],void 0!==s&&(s=f?AmCharts.addPrefix(s,o,e,r):AmCharts.formatNumber(s,r),n=n.replace(new RegExp("\\[\\["+u+""+c+"\\]\\]","g"),s));return n};AmCharts.formatDataContextValue=function(n,t){var u,r,i;if(n)for(u=n.match(/\[\[.*?\]\]/g),r=0;r<u.length;r++)i=u[r],i=i.substr(2,i.length-4),void 0!==t[i]&&(n=n.replace(new RegExp("\\[\\["+i+"\\]\\]","g"),t[i]));return n};AmCharts.massReplace=function(n,t){var i,r;for(i in t)t.hasOwnProperty(i)&&(r=t[i],void 0===r&&(r=""),n=n.replace(i,r));return n};AmCharts.cleanFromEmpty=function(n){return n.replace(/\[\[[^\]]*\]\]/g,"")};AmCharts.addPrefix=function(n,t,i,r,u){var s=AmCharts.formatNumber(n,r),h="",f,e,o;if(0===n)return"0";if(0>n&&(h="-"),n=Math.abs(n),1<n){for(f=t.length-1;-1<f;f--)if(n>=t[f].number&&(e=n/t[f].number,o=Number(r.precision),1>o&&(o=1),i=AmCharts.roundTo(e,o),o=AmCharts.formatNumber(i,{precision:-1,decimalSeparator:r.decimalSeparator,thousandsSeparator:r.thousandsSeparator}),!u||e==i)){s=h+""+o+""+t[f].prefix;break}}else for(f=0;f<i.length;f++)if(n<=i[f].number){e=n/i[f].number;o=Math.abs(Math.round(Math.log(e)*Math.LOG10E));e=AmCharts.roundTo(e,o);s=h+""+e+""+i[f].prefix;break}return s};AmCharts.remove=function(n){n&&n.remove()};AmCharts.recommended=function(){var n="js";return document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")||swfobject&&swfobject.hasFlashPlayerVersion("8")&&(n="flash"),n};AmCharts.getEffect=function(n){return">"==n&&(n="easeOutSine"),"<"==n&&(n="easeInSine"),"elastic"==n&&(n="easeOutElastic"),n};AmCharts.getObjById=function(n,t){for(var u,r,i=0;i<n.length;i++)r=n[i],r.id==t&&(u=r);return u};AmCharts.applyTheme=function(n,t,i){t||(t=AmCharts.theme);t&&t[i]&&AmCharts.extend(n,t[i])};AmCharts.isString=function(n){return"string"==typeof n?!0:!1};AmCharts.extend=function(n,t,i){var r;n||(n={});for(r in t)i?n.hasOwnProperty(r)||(n[r]=t[r]):n[r]=t[r];return n};AmCharts.copyProperties=function(n,t){for(var i in n)n.hasOwnProperty(i)&&"events"!=i&&void 0!==n[i]&&"function"!=typeof n[i]&&"cname"!=i&&(t[i]=n[i])};AmCharts.processObject=function(n,t,i,r){return!1==n instanceof t&&(n=r?AmCharts.extend(new t(i),n):AmCharts.extend(n,new t(i),!0)),n};AmCharts.fixNewLines=function(n){var t=RegExp("\\n","g");return n&&(n=n.replace(t,"<br />")),n};AmCharts.fixBrakes=function(n){if(AmCharts.isModern){var t=RegExp("<br>","g");n&&(n=n.replace(t,"\n"))}else n=AmCharts.fixNewLines(n);return n};AmCharts.deleteObject=function(n,t){if(n&&((void 0===t||null===t)&&(t=20),0!==t))if("[object Array]"===Object.prototype.toString.call(n))for(var i=0;i<n.length;i++)AmCharts.deleteObject(n[i],t-1),n[i]=null;else if(n&&!n.tagName)try{for(i in n)n[i]&&("object"==typeof n[i]&&AmCharts.deleteObject(n[i],t-1),"function"!=typeof n[i]&&(n[i]=null))}catch(r){}};AmCharts.bounce=function(n,t,i,r,u){return(t/=u)<1/2.75?7.5625*r*t*t+i:t<2/2.75?r*(7.5625*(t-=1.5/2.75)*t+.75)+i:t<2.5/2.75?r*(7.5625*(t-=2.25/2.75)*t+.9375)+i:r*(7.5625*(t-=2.625/2.75)*t+.984375)+i};AmCharts.easeInSine=function(n,t,i,r,u){return-r*Math.cos(t/u*(Math.PI/2))+r+i};AmCharts.easeOutSine=function(n,t,i,r,u){return r*Math.sin(t/u*(Math.PI/2))+i};AmCharts.easeOutElastic=function(n,t,i,r,u){n=1.70158;var f=0,e=r;return 0===t?i:1==(t/=u)?i+r:(f||(f=.3*u),e<Math.abs(r)?(e=r,n=f/4):n=f/(2*Math.PI)*Math.asin(r/e),e*Math.pow(2,-10*t)*Math.sin(2*(t*u-n)*Math.PI/f)+r+i)};AmCharts.fixStepE=function(n){n=n.toExponential(0).split("e");var t=Number(n[1]);return 9==Number(n[0])&&t++,AmCharts.generateNumber(1,t)};AmCharts.generateNumber=function(n,t){for(var i="",u=0>t?Math.abs(t)-1:Math.abs(t),r=0;r<u;r++)i+="0";return 0>t?Number("0."+i+String(n)):Number(String(n)+i)};AmCharts.setCN=function(n,t,i,r){if(n.addClassNames&&t&&(t=t.node)&&i){var u=t.getAttribute("class");n=n.classNamePrefix+"-";r&&(n="");u?t.setAttribute("class",u+" "+n+i):t.setAttribute("class",n+i)}};AmCharts.parseDefs=function(n,t){var i,r,u;for(i in n)if(r=typeof n[i],0<n[i].length&&"object"==r)for(r=0;r<n[i].length;r++)u=document.createElementNS(AmCharts.SVG_NS,i),t.appendChild(u),AmCharts.parseDefs(n[i][r],u);else"object"==r?(u=document.createElementNS(AmCharts.SVG_NS,i),t.appendChild(u),AmCharts.parseDefs(n[i],u)):t.setAttribute(i,n[i])};AmCharts.AxisBase=AmCharts.Class({construct:function(n){this.createEvents("clickItem","rollOverItem","rollOutItem");this.viY=this.viX=this.y=this.x=this.dy=this.dx=0;this.axisThickness=1;this.axisColor="#000000";this.axisAlpha=1;this.gridCount=this.tickLength=5;this.gridAlpha=.15;this.gridThickness=1;this.gridColor="#000000";this.dashLength=0;this.labelFrequency=1;this.showLastLabel=this.showFirstLabel=!0;this.fillColor="#FFFFFF";this.fillAlpha=0;this.labelsEnabled=!0;this.labelRotation=0;this.autoGridCount=!0;this.offset=0;this.guides=[];this.visible=!0;this.counter=0;this.guides=[];this.ignoreAxisWidth=this.inside=!1;this.minHorizontalGap=75;this.minVerticalGap=35;this.titleBold=!0;this.minorGridEnabled=!1;this.minorGridAlpha=.07;this.autoWrap=!1;this.titleAlign="middle";this.labelOffset=0;this.bcn="axis-";this.periods=[{period:"ss",count:1},{period:"ss",count:5},{period:"ss",count:10},{period:"ss",count:30},{period:"mm",count:1},{period:"mm",count:5},{period:"mm",count:10},{period:"mm",count:30},{period:"hh",count:1},{period:"hh",count:3},{period:"hh",count:6},{period:"hh",count:12},{period:"DD",count:1},{period:"DD",count:2},{period:"DD",count:3},{period:"DD",count:4},{period:"DD",count:5},{period:"WW",count:1},{period:"MM",count:1},{period:"MM",count:2},{period:"MM",count:3},{period:"MM",count:6},{period:"YYYY",count:1},{period:"YYYY",count:2},{period:"YYYY",count:5},{period:"YYYY",count:10},{period:"YYYY",count:50},{period:"YYYY",count:100}];this.dateFormats=[{period:"fff",format:"JJ:NN:SS"},{period:"ss",format:"JJ:NN:SS"},{period:"mm",format:"JJ:NN"},{period:"hh",format:"JJ:NN"},{period:"DD",format:"MMM DD"},{period:"WW",format:"MMM DD"},{period:"MM",format:"MMM"},{period:"YYYY",format:"YYYY"}];this.nextPeriod={fff:"ss",ss:"mm",mm:"hh",hh:"DD",DD:"MM",MM:"YYYY"};AmCharts.applyTheme(this,n,"AxisBase")},zoom:function(n,t){this.start=n;this.end=t;this.dataChanged=!0;this.draw()},fixAxisPosition:function(){var n=this.position;"H"==this.orientation?("left"==n&&(n="bottom"),"right"==n&&(n="top")):("bottom"==n&&(n="left"),"top"==n&&(n="right"));this.position=n},draw:function(){var n=this.chart,t,i;this.allLabels=[];this.counter=0;this.destroy();this.fixAxisPosition();this.labels=[];t=n.container;i=t.set();n.gridSet.push(i);this.set=i;t=t.set();n.axesLabelsSet.push(t);this.labelsSet=t;this.axisLine=new this.axisRenderer(this);this.autoGridCount?("V"==this.orientation?(n=this.height/this.minVerticalGap,3>n&&(n=3)):n=this.width/this.minHorizontalGap,this.gridCountR=Math.max(n,1)):this.gridCountR=this.gridCount;this.axisWidth=this.axisLine.axisWidth;this.addTitle()},setOrientation:function(n){this.orientation=n?"H":"V"},addTitle:function(){var t=this.title,n,i,r;this.titleLabel=null;t&&(n=this.chart,i=this.titleColor,void 0===i&&(i=n.color),r=this.titleFontSize,isNaN(r)&&(r=n.fontSize+1),t=AmCharts.text(n.container,t,i,n.fontFamily,r,this.titleAlign,this.titleBold),AmCharts.setCN(n,t,this.bcn+"title"),this.titleLabel=t)},positionTitle:function(){var u=this.titleLabel,t,f,n,i,e;if(u){i=this.labelsSet;n={};0<i.length()?n=i.getBBox():(n.x=0,n.y=0,n.width=this.viW,n.height=this.viH);i.push(u);i=n.x;e=n.y;AmCharts.VML&&(this.rotate?i-=this.x:e-=this.y);var a=n.width,n=n.height,o=this.viW,s=this.viH,h=0,c=u.getBBox().height/2,l=this.inside,r=this.titleAlign;switch(this.position){case"top":t="left"==r?-1:"right"==r?o:o/2;f=e-10-c;break;case"bottom":t="left"==r?-1:"right"==r?o:o/2;f=e+n+10+c;break;case"left":t=i-10-c;l&&(t-=5);f="left"==r?s+1:"right"==r?-1:s/2;h=-90;break;case"right":t=i+a+10+c-3;l&&(t+=7);f="left"==r?s+2:"right"==r?-2:s/2;h=-90}this.marginsChanged?(u.translate(t,f),this.tx=t,this.ty=f):u.translate(this.tx,this.ty);this.marginsChanged=!1;0!==h&&u.rotate(h)}},pushAxisItem:function(n,t){var r=this,i=n.graphics();0<i.length()&&(t?r.labelsSet.push(i):r.set.push(i));(i=n.getLabel())&&(this.labelsSet.push(i),i.click(function(t){r.handleMouse(t,n,"clickItem")}).mouseover(function(t){r.handleMouse(t,n,"rollOverItem")}).mouseout(function(t){r.handleMouse(t,n,"rollOutItem")}))},handleMouse:function(n,t,i){this.fire(i,{type:i,value:t.value,serialDataItem:t.serialDataItem,axis:this,target:t.label,chart:this.chart,event:n})},addGuide:function(n){for(var t=this.guides,r=!1,u=t.length,i=0;i<t.length;i++)t[i]==n&&(r=!0,u=i);n=AmCharts.processObject(n,AmCharts.Guide,this.theme);n.id||(n.id="guideAuto"+u+"_"+(new Date).getTime());r||t.push(n)},removeGuide:function(n){for(var i=this.guides,t=0;t<i.length;t++)i[t]==n&&i.splice(t,1)},handleGuideOver:function(n){clearTimeout(this.chart.hoverInt);var t=n.graphics.getBBox(),r=t.x+t.width/2,t=t.y+t.height/2,i=n.fillColor;void 0===i&&(i=n.lineColor);this.chart.showBalloon(n.balloonText,i,!0,r,t)},handleGuideOut:function(){this.chart.hideBalloon()},addEventListeners:function(n,t){var i=this;n.mouseover(function(){i.handleGuideOver(t)});n.touchstart(function(){i.handleGuideOver(t)});n.mouseout(function(){i.handleGuideOut(t)})},getBBox:function(){var n=this.labelsSet.getBBox();return AmCharts.VML||(n={x:n.x+this.x,y:n.y+this.y,width:n.width,height:n.height}),n},destroy:function(){AmCharts.remove(this.set);AmCharts.remove(this.labelsSet);var n=this.axisLine;n&&AmCharts.remove(n.set);AmCharts.remove(this.grid0)},chooseMinorFrequency:function(n){for(var t=10;0<t;t--)if(n/t==Math.round(n/t))return n/t},choosePeriod:function(n){var i=AmCharts.getPeriodDuration(this.periods[n].period,this.periods[n].count),r=Math.ceil(this.timeDifference/i),t=this.periods;return this.timeDifference<i&&0<n?t[n-1]:r<=this.gridCountR?t[n]:n+1<t.length?this.choosePeriod(n+1):t[n]},parseDatesDraw:function(){var s,d=this.chart,g=this.showFirstLabel,nt=this.showLastLabel,u,n="",i=AmCharts.extractPeriod(this.minPeriod),h=AmCharts.getPeriodDuration(i.period,i.count),f,a,w,c,t,v=this.firstDayOfWeek,tt=this.boldPeriodBeginning,y,k,p;s=this.minorGridEnabled;var l,it=this.gridAlpha,b,o=this.choosePeriod(0),e=o.period,o=o.count,r=AmCharts.getPeriodDuration(e,o);if(r<h&&(e=i.period,o=i.count,r=h),i=e,"WW"==i&&(i="DD"),this.stepWidth=this.getStepWidth(this.timeDifference),y=Math.ceil(this.timeDifference/r)+5,k=f=AmCharts.resetDateToMin(new Date(this.startTime-r),e,o,v).getTime(),i==e&&1==o&&this.centerLabelOnFullPeriod&&(w=r*this.stepWidth),this.cellWidth=h*this.stepWidth,c=Math.round(f/r),h=-1,c/2==Math.round(c/2)&&(h=-2,f-=r),c=this.firstTime,p=0,s&&1<o&&(l=this.chooseMinorFrequency(o),b=AmCharts.getPeriodDuration(e,l)),0<this.gridCountR)for(s=h;s<=y;s++){if(t=c+r*(s+Math.floor((k-c)/r))-p,"DD"==e&&(t+=36e5),t=AmCharts.resetDateToMin(new Date(t),e,o,v).getTime(),"MM"==e&&(u=(t-f)/r,1.5<=(t-f)/r&&(t=t-(u-1)*r+AmCharts.getPeriodDuration("DD",3),t=AmCharts.resetDateToMin(new Date(t),e,1).getTime(),p+=r)),u=(t-this.startTime)*this.stepWidth,u=this.rotate?u+(this.x-this.viX):"date"==this.type?this.axisWidth-u+(this.y-this.viY):u+(this.y-this.viY),n=!1,this.nextPeriod[i]&&(n=this.checkPeriodChange(this.nextPeriod[i],1,t,f,i)),f=!1,n&&this.markPeriodChange?(n=this.dateFormatsObject[this.nextPeriod[i]],this.twoLineMode&&(n=this.dateFormatsObject[i]+"\n"+n,n=AmCharts.fixBrakes(n)),f=!0):n=this.dateFormatsObject[i],tt||(f=!1),this.currentDateFormat=n,n=AmCharts.formatDate(new Date(t),n,d),(s!=h||g)&&(s!=y||nt)||(n=" "),this.labelFunction&&(n=this.labelFunction(n,new Date(t),this,e,o,a).toString()),this.boldLabels&&(f=!0),a=new this.axisItemRenderer(this,u,n,!1,w,0,!1,f),this.pushAxisItem(a),a=f=t,!isNaN(l))for(u=1;u<o;u+=l)this.gridAlpha=this.minorGridAlpha,n=t+b*u,n=AmCharts.resetDateToMin(new Date(n),e,l,v).getTime(),n=new this.axisItemRenderer(this,(n-this.startTime)*this.stepWidth),this.pushAxisItem(n);this.gridAlpha=it}},chooseMinorFrequency:function(n){for(var t=10;0<t;t--)if(n/t==Math.round(n/t))return n/t},choosePeriod:function(n){var i=AmCharts.getPeriodDuration(this.periods[n].period,this.periods[n].count),r=Math.ceil(this.timeDifference/i),t=this.periods;return this.timeDifference<i&&0<n?t[n-1]:r<=this.gridCountR?t[n]:n+1<t.length?this.choosePeriod(n+1):t[n]},getStepWidth:function(n){var t;return this.startOnAxis?(t=this.axisWidth/(n-1),1==n&&(t=this.axisWidth)):t=this.axisWidth/n,t},timeZoom:function(n,t){this.startTime=n;this.endTime=t},minDuration:function(){var n=AmCharts.extractPeriod(this.minPeriod);return AmCharts.getPeriodDuration(n.period,n.count)},checkPeriodChange:function(n,t,i,r,u){i=new Date(i);var e=new Date(r),f=this.firstDayOfWeek;return r=t,"DD"==n&&(t=1),i=AmCharts.resetDateToMin(i,n,t,f).getTime(),t=AmCharts.resetDateToMin(e,n,t,f).getTime(),"DD"==n&&"hh"!=u&&i-t<=AmCharts.getPeriodDuration(n,r)?!1:i!=t?!0:!1},generateDFObject:function(){var n,t;for(this.dateFormatsObject={},n=0;n<this.dateFormats.length;n++)t=this.dateFormats[n],this.dateFormatsObject[t.period]=t.format}});AmCharts.ValueAxis=AmCharts.Class({inherits:AmCharts.AxisBase,construct:function(n){this.cname="ValueAxis";this.createEvents("axisChanged","logarithmicAxisFailed","axisSelfZoomed","axisZoomed");AmCharts.ValueAxis.base.construct.call(this,n);this.dataChanged=!0;this.stackType="none";this.position="left";this.unitPosition="right";this.recalculateToPercents=this.includeHidden=this.includeGuidesInMinMax=this.integersOnly=!1;this.durationUnits={DD:"d. ",hh:":",mm:":",ss:""};this.scrollbar=!1;this.baseValue=0;this.radarCategoriesEnabled=!0;this.gridType="polygons";this.useScientificNotation=!1;this.axisTitleOffset=10;this.minMaxMultiplier=1;this.logGridLimit=2;this.totalTextOffset=this.treatZeroAs=0;this.minPeriod="ss";AmCharts.applyTheme(this,n,this.cname)},updateData:function(){0>=this.gridCountR&&(this.gridCountR=1);this.totals=[];this.data=this.chart.chartData;var n=this.chart;"xy"!=n.type&&(this.stackGraphs("smoothedLine"),this.stackGraphs("line"),this.stackGraphs("column"),this.stackGraphs("step"));this.recalculateToPercents&&this.recalculate();this.synchronizationMultiplier&&this.synchronizeWith?(AmCharts.isString(this.synchronizeWith)&&(this.synchronizeWith=n.getValueAxisById(this.synchronizeWith)),this.synchronizeWith&&(this.synchronizeWithAxis(this.synchronizeWith),this.foundGraphs=!0)):(this.foundGraphs=!1,this.getMinMax())},draw:function(){var r,k,u,p,o,c,f,w,i,h,y,s,a,l,d,tt,v,e;if(AmCharts.ValueAxis.base.draw.call(this),r=this.chart,k=this.set,AmCharts.setCN(r,this.set,"value-axis value-axis-"+this.id),AmCharts.setCN(r,this.labelsSet,"value-axis value-axis-"+this.id),AmCharts.setCN(r,this.axisLine.axisSet,"value-axis value-axis-"+this.id),u=this.type,"duration"==u&&(this.duration="ss"),!0===this.dataChanged&&(this.updateData(),this.dataChanged=!1),"date"==u&&(this.logarithmic=!1,this.min=this.minRR,this.max=this.maxRR,this.minimumDate&&(this.min=this.minimumDate.getTime()),this.maximumDate&&(this.max=this.maximumDate.getTime())),this.logarithmic&&(p=this.treatZeroAs,o=this.getMin(0,this.data.length-1),0<p&&0==o&&(this.minReal=o=p),0>=o||0>=this.minimum)){this.fire("logarithmicAxisFailed",{type:"logarithmicAxisFailed",chart:r});return}this.grid0=null;var n,t,it=r.dx,rt=r.dy,p=!1,o=this.logarithmic;if(isNaN(this.min)||isNaN(this.max)||!this.foundGraphs||Infinity==this.min||-Infinity==this.max)p=!0;else{var ut=this.labelFrequency,ft=this.showFirstLabel,et=this.showLastLabel,g=1;if(n=0,this.minCalc=this.min,this.maxCalc=this.max,this.strictMinMax&&(isNaN(this.minimum)||(this.min=this.minimum),isNaN(this.maximum)||(this.max=this.maximum)),isNaN(this.minZoom)||(this.min=this.minZoom),isNaN(this.maxZoom)||(this.max=this.maxZoom),c=Math.round((this.maxCalc-this.minCalc)/this.step)+1,!0===o?(f=Math.log(this.max)*Math.LOG10E-Math.log(this.minReal)*Math.LOG10E,this.stepWidth=this.axisWidth/f,f>this.logGridLimit&&(c=Math.ceil(Math.log(this.max)*Math.LOG10E)+1,n=Math.round(Math.log(this.minReal)*Math.LOG10E),c>this.gridCountR&&(g=Math.ceil(c/this.gridCountR)))):this.stepWidth=this.axisWidth/(this.max-this.min),s=0,1>this.step&&-1<this.step&&(s=AmCharts.getDecimals(this.step)),this.integersOnly&&(s=0),s>this.maxDecCount&&(s=this.maxDecCount),w=this.precision,isNaN(w)||(s=w),this.max=AmCharts.roundTo(this.max,this.maxDecCount),this.min=AmCharts.roundTo(this.min,this.maxDecCount),t={},t.precision=s,t.decimalSeparator=r.nf.decimalSeparator,t.thousandsSeparator=r.nf.thousandsSeparator,this.numberFormatter=t,l=this.guides,h=l.length,0<h){for(v=this.fillAlpha,t=this.fillAlpha=0;t<h;t++){var e=l[t],b=NaN,nt=e.above;isNaN(e.toValue)||(b=this.getCoordinate(e.toValue),i=new this.axisItemRenderer(this,b,"",!0,NaN,NaN,e),this.pushAxisItem(i,nt));y=NaN;isNaN(e.value)||(y=this.getCoordinate(e.value),i=new this.axisItemRenderer(this,y,e.label,!0,NaN,(b-y)/2,e),this.pushAxisItem(i,nt));isNaN(b-y)||(i=new this.guideFillRenderer(this,y,b,e),this.pushAxisItem(i,nt),i=i.graphics(),e.graphics=i,e.balloonText&&this.addEventListeners(i,e))}this.fillAlpha=v}for(this.exponential=!1,t=n;t<c;t+=g)l=AmCharts.roundTo(this.step*t+this.min,s),-1!=String(l).indexOf("e")&&(this.exponential=!0,String(l).split("e"));if(this.duration&&(this.maxInterval=AmCharts.getMaxInterval(this.max,this.duration)),s=this.step,l=this.minorGridAlpha,this.minorGridEnabled&&(a=this.getMinorGridStep(s,this.stepWidth*s)),"date"==u)this.generateDFObject(),this.timeDifference=this.max-this.min,this.maxTime=this.lastTime=this.max,this.startTime=this.firstTime=this.min,this.parseDatesDraw();else for(t=n;t<c;t+=g)if((u=s*t+this.minCalc,o&&this.max-this.min>5*this.min&&(u-=this.min),u=AmCharts.roundTo(u,this.maxDecCount+1),!this.integersOnly||Math.round(u)==u)&&(isNaN(w)||Number(AmCharts.toFixed(u,w))==u)&&(!0===o&&(0===u&&(u=this.minReal),f>this.logGridLimit&&(u=Math.pow(10,t))),i=this.formatValue(u,!1,t),Math.round(t/ut)!=t/ut&&(i=void 0),(0!==t||ft)&&(t!=c-1||et)||(i=" "),n=this.getCoordinate(u),i=new this.axisItemRenderer(this,n,i,void 0,void 0,void 0,void 0,this.boldLabels),this.pushAxisItem(i),u==this.baseValue&&"radar"!=r.type&&(v=this.viW,e=this.viH,i=this.viX,h=this.viY,"H"==this.orientation?0<=n&&n<=v+1&&(d=[n,n,n+it],tt=[e,0,rt]):0<=n&&n<=e+1&&(d=[0,v,v+it],tt=[n,n,n+rt]),d&&(n=AmCharts.fitToBounds(2*this.gridAlpha,0,1),n=AmCharts.line(r.container,d,tt,this.gridColor,n,1,this.dashLength),n.translate(i,h),this.grid0=n,r.axesSet.push(n),n.toBack(),AmCharts.setCN(r,n,this.bcn+"zero-grid-"+this.id),AmCharts.setCN(r,n,this.bcn+"zero-grid"))),!isNaN(a)&&0<l&&t<c-1)){for(n=this.gridAlpha,this.gridAlpha=this.minorGridAlpha,i=1;i<s/a;i++)h=this.getCoordinate(u+a*i),h=new this.axisItemRenderer(this,h,"",!1,0,0,!1,!1,0,!0),this.pushAxisItem(h);this.gridAlpha=n}f=this.baseValue;this.min>this.baseValue&&this.max>this.baseValue&&(f=this.min);this.min<this.baseValue&&this.max<this.baseValue&&(f=this.max);o&&f<this.minReal&&(f=this.minReal);this.baseCoord=this.getCoordinate(f);f={type:"axisChanged",target:this,chart:r};f.min=o?this.minReal:this.min;f.max=this.max;this.fire("axisChanged",f);this.axisCreated=!0}o=this.axisLine.set;f=this.labelsSet;this.positionTitle();"radar"!=r.type?(r=this.viX,a=this.viY,k.translate(r,a),f.translate(r,a)):o.toFront();!this.visible||p?(k.hide(),o.hide(),f.hide()):(k.show(),o.show(),f.show());this.axisY=this.y-this.viY;this.axisX=this.x-this.viX},formatValue:function(n,t,i){var u=this.exponential,e=this.logarithmic,r=this.numberFormatter,f=this.chart;return!0===this.logarithmic&&(u=-1!=String(n).indexOf("e")?!0:!1),this.useScientificNotation&&(u=!0),this.usePrefixes&&(u=!1),u?(t=-1==String(n).indexOf("e")?n.toExponential(15):String(n),i=t.split("e"),t=Number(i[0]),i=Number(i[1]),t=AmCharts.roundTo(t,14),10==t&&(t=1,i+=1),t=t+"e"+i,0===n&&(t="0"),1==n&&(t="1")):(e&&(u=String(n).split("."),u[1]?(r.precision=u[1].length,0>i&&(r.precision=Math.abs(i)),t&&1<n&&(r.precision=0)):r.precision=-1),t=this.usePrefixes?AmCharts.addPrefix(n,f.prefixesOfBigNumbers,f.prefixesOfSmallNumbers,r,!t):AmCharts.formatNumber(n,r,r.precision)),this.duration&&(t=AmCharts.formatDuration(n,this.duration,"",this.durationUnits,this.maxInterval,r)),"date"==this.type&&(t=AmCharts.formatDate(new Date(n),this.currentDateFormat,f)),this.recalculateToPercents?t+="%":(r=this.unit)&&(t="left"==this.unitPosition?r+t:t+r),this.labelFunction&&(t=this.labelFunction(n,t,this).toString()),t},getMinorGridStep:function(n,t){var f=[5,4,2],e,u,i,r;for(60>t&&f.shift(),e=Math.floor(Math.log(Math.abs(n))*Math.LOG10E),u=0;u<f.length;u++)if(i=n/f[u],r=Math.floor(Math.log(Math.abs(i))*Math.LOG10E),!(0<Math.abs(e-r)))if(1>n){if(r=Math.pow(10,-r)*i,r==Math.round(r))return i}else if(i==Math.round(i))return i},stackGraphs:function(n){var s=this.stackType,y,c;"stacked"==s&&(s="regular");"line"==s&&(s="none");"100% stacked"==s&&(s="100%");this.stackType=s;var h=[],f=[],e=[],l=[],u,a=this.chart.graphs,t,i,r,o,p=this.baseValue,v=!1;if(("line"==n||"step"==n||"smoothedLine"==n)&&(v=!0),v&&("regular"==s||"100%"==s))for(o=0;o<a.length;o++)r=a[o],r.hidden||(i=r.type,r.chart==this.chart&&r.valueAxis==this&&n==i&&r.stackable&&(t&&(r.stackGraph=t),t=r));for(t=this.start;t<=this.end;t++)for(y=0,o=0;o<a.length;o++)(r=a[o],r.hidden)?r.newStack&&(e[t]=NaN,f[t]=NaN):(i=r.type,r.chart==this.chart&&r.valueAxis==this&&n==i&&r.stackable)&&((i=this.data[t].axes[this.id].graphs[r.id],u=i.values.value,isNaN(u))?r.newStack&&(e[t]=NaN,f[t]=NaN):(c=AmCharts.getDecimals(u),y<c&&(y=c),isNaN(l[t])?l[t]=Math.abs(u):l[t]+=Math.abs(u),l[t]=AmCharts.roundTo(l[t],y),c=r.fillToGraph,v&&c&&(c=this.data[t].axes[this.id].graphs[c.id])&&(i.values.open=c.values.value),"regular"==s&&(v&&(isNaN(h[t])?(h[t]=u,i.values.close=u,i.values.open=this.baseValue):(i.values.close=isNaN(u)?h[t]:u+h[t],i.values.open=h[t],h[t]=i.values.close)),"column"==n&&(r.newStack&&(e[t]=NaN,f[t]=NaN),i.values.close=u,0>u?(i.values.close=u,isNaN(f[t])?i.values.open=p:(i.values.close+=f[t],i.values.open=f[t]),f[t]=i.values.close):(i.values.close=u,isNaN(e[t])?i.values.open=p:(i.values.close+=e[t],i.values.open=e[t]),e[t]=i.values.close)))));for(t=this.start;t<=this.end;t++)for(o=0;o<a.length;o++)(r=a[o],r.hidden)?r.newStack&&(e[t]=NaN,f[t]=NaN):(i=r.type,r.chart==this.chart&&r.valueAxis==this&&n==i&&r.stackable&&(i=this.data[t].axes[this.id].graphs[r.id],u=i.values.value,isNaN(u)||(h=u/l[t]*100,i.values.percents=h,i.values.total=l[t],r.newStack&&(e[t]=NaN,f[t]=NaN),"100%"==s&&(isNaN(f[t])&&(f[t]=0),isNaN(e[t])&&(e[t]=0),0>h?(i.values.close=AmCharts.fitToBounds(h+f[t],-100,100),i.values.open=f[t],f[t]=i.values.close):(i.values.close=AmCharts.fitToBounds(h+e[t],-100,100),i.values.open=e[t],e[t]=i.values.close)))))},recalculate:function(){for(var t=this.chart,c=t.graphs,r,u,n,f,e,o=0;o<c.length;o++)if(r=c[o],r.valueAxis==this){u="value";("candlestick"==r.type||"ohlc"==r.type)&&(u="open");var s,i,h=this.end+2,h=AmCharts.fitToBounds(this.end+1,0,this.data.length-1),f=this.start;if(0<f&&f--,i=this.start,r.compareFromStart&&(i=0),!isNaN(t.startTime)&&(n=t.categoryAxis)){var l=n.minDuration(),l=new Date(t.startTime+l/2),a=AmCharts.resetDateToMin(new Date(t.startTime),n.minPeriod).getTime();AmCharts.resetDateToMin(new Date(l),n.minPeriod).getTime()>a&&i++}for((n=t.recalculateFromDate)&&(n=AmCharts.getDate(n,t.dataDateFormat,"fff"),i=t.getClosestIndex(t.chartData,"time",n.getTime(),!0,0,t.chartData.length),h=t.chartData.length-1),n=i;n<=h&&(i=this.data[n].axes[this.id].graphs[r.id],s=i.values[u],isNaN(s));n++);for(this.recBaseValue=s,u=f;u<=h;u++){i=this.data[u].axes[this.id].graphs[r.id];i.percents={};f=i.values;for(e in f)i.percents[e]="percents"!=e?f[e]/s*100-100:f[e]}}},getMinMax:function(){for(var t=!1,r=this.chart,n=r.graphs,u,i=0;i<n.length;i++)u=n[i].type,("line"==u||"step"==u||"smoothedLine"==u)&&this.expandMinMax&&(t=!0);if(t&&(0<this.start&&this.start--,this.end<this.data.length-1&&this.end++),"serial"==r.type&&(!0!==r.categoryAxis.parseDates||t||this.end<this.data.length-1&&this.end++),t=this.minMaxMultiplier,this.min=this.getMin(this.start,this.end),this.max=this.getMax(),this.minRR=this.min,this.maxRR=this.max,t=(this.max-this.min)*(t-1),this.min-=t,this.max+=t,t=this.guides.length,this.includeGuidesInMinMax&&0<t)for(r=0;r<t;r++)n=this.guides[r],n.toValue<this.min&&(this.min=n.toValue),n.value<this.min&&(this.min=n.value),n.toValue>this.max&&(this.max=n.toValue),n.value>this.max&&(this.max=n.value);isNaN(this.minimum)||(this.min=this.minimum);isNaN(this.maximum)||(this.max=this.maximum);this.minimumDate&&(this.min=this.minimumDate.getTime());this.maximumDate&&(this.max=this.maximumDate.getTime());this.min>this.max&&(t=this.max,this.max=this.min,this.min=t);isNaN(this.minTemp)||(this.min=this.minTemp);isNaN(this.maxTemp)||(this.max=this.maxTemp);this.minReal=this.min;this.maxReal=this.max;0===this.min&&0===this.max&&(this.max=9);this.min>this.max&&(this.min=this.max-1);t=this.min;r=this.max;n=this.max-this.min;i=0===n?Math.pow(10,Math.floor(Math.log(Math.abs(this.max))*Math.LOG10E))/10:Math.pow(10,Math.floor(Math.log(Math.abs(n))*Math.LOG10E))/10;isNaN(this.maximum)&&isNaN(this.maxTemp)&&(this.max=Math.ceil(this.max/i)*i+i);isNaN(this.minimum)&&isNaN(this.minTemp)&&(this.min=Math.floor(this.min/i)*i-i);0>this.min&&0<=t&&(this.min=0);0<this.max&&0>=r&&(this.max=0);"100%"==this.stackType&&(this.min=0>this.min?-100:0,this.max=0>this.max?0:100);n=this.max-this.min;i=Math.pow(10,Math.floor(Math.log(Math.abs(n))*Math.LOG10E))/10;this.step=Math.ceil(n/this.gridCountR/i)*i;n=Math.pow(10,Math.floor(Math.log(Math.abs(this.step))*Math.LOG10E));n=AmCharts.fixStepE(n);i=Math.ceil(this.step/n);5<i&&(i=10);5>=i&&2<i&&(i=5);this.step=Math.ceil(this.step/(n*i))*n*i;1>n?(this.maxDecCount=Math.abs(Math.log(Math.abs(n))*Math.LOG10E),this.maxDecCount=Math.round(this.maxDecCount),this.step=AmCharts.roundTo(this.step,this.maxDecCount+1)):this.maxDecCount=0;this.min=this.step*Math.floor(this.min/this.step);this.max=this.step*Math.ceil(this.max/this.step);0>this.min&&0<=t&&(this.min=0);0<this.max&&0>=r&&(this.max=0);1<this.minReal&&1<this.max-this.minReal&&(this.minReal=Math.floor(this.minReal));n=Math.pow(10,Math.floor(Math.log(Math.abs(this.minReal))*Math.LOG10E));0===this.min&&(this.minReal=n);0===this.min&&1<this.minReal&&(this.minReal=1);0<this.min&&0<this.minReal-this.step&&(this.minReal=this.min+this.step<this.minReal?this.min+this.step:this.min);this.logarithmic&&(2<Math.log(r)*Math.LOG10E-Math.log(t)*Math.LOG10E?(this.minReal=this.min=Math.pow(10,Math.floor(Math.log(Math.abs(t))*Math.LOG10E)),this.max=Math.pow(10,Math.ceil(Math.log(Math.abs(r))*Math.LOG10E))):(r=Math.pow(10,Math.floor(Math.log(Math.abs(this.min))*Math.LOG10E))/10,t=Math.pow(10,Math.floor(Math.log(Math.abs(t))*Math.LOG10E))/10,r<t&&(this.minReal=this.min=10*t)))},getMin:function(n,t){for(var r,f,e,i,u,o,s=n;s<=t;s++){f=this.data[s].axes[this.id].graphs;for(e in f)if(f.hasOwnProperty(e)&&(i=this.chart.getGraphById(e),i.includeInMinMax&&(!i.hidden||this.includeHidden)))if(isNaN(r)&&(r=Infinity),this.foundGraphs=!0,i=f[e].values,this.recalculateToPercents&&(i=f[e].percents),this.minMaxField)u=i[this.minMaxField],u<r&&(r=u);else for(o in i)i.hasOwnProperty(o)&&"percents"!=o&&"total"!=o&&(u=i[o],u<r&&(r=u))}return r},getMax:function(){for(var t,r,u,n,i,f,e=this.start;e<=this.end;e++){r=this.data[e].axes[this.id].graphs;for(u in r)if(r.hasOwnProperty(u)&&(n=this.chart.getGraphById(u),n.includeInMinMax&&(!n.hidden||this.includeHidden)))if(isNaN(t)&&(t=-Infinity),this.foundGraphs=!0,n=r[u].values,this.recalculateToPercents&&(n=r[u].percents),this.minMaxField)i=n[this.minMaxField],i>t&&(t=i);else for(f in n)n.hasOwnProperty(f)&&"percents"!=f&&"total"!=f&&(i=n[f],i>t&&(t=i))}return t},dispatchZoomEvent:function(n,t){var i={type:"axisZoomed",startValue:n,endValue:t,target:this,chart:this.chart};this.fire(i.type,i)},zoomOut:function(){var n=this.chart;"xy"!=n.type&&(this.maxZoom=this.minZoom=void 0,n.updateAfterValueZoom())},zoomToValues:function(n,t){var i=this.chart;"xy"==i.type?(t<n&&(i=t,t=n,n=i),n<this.min&&(n=this.min),t>this.max&&(t=this.max),i={type:"axisSelfZoomed"},i.chart=this.chart,i.valueAxis=this,i.multiplier=this.axisWidth/Math.abs(this.getCoordinate(t)-this.getCoordinate(n)),i.startValue=n,i.endValue=t,i.position="V"==this.orientation?this.reversed?this.getCoordinate(n):this.getCoordinate(t):this.reversed?this.getCoordinate(t):this.getCoordinate(n),this.fire(i.type,i)):(this.minZoom=n,this.maxZoom=t,i.updateAfterValueZoom())},coordinateToValue:function(n){if(isNaN(n))return NaN;var i=this.axisWidth,t=this.stepWidth,u=this.reversed,f=this.rotate,r=this.min,e=this.minReal;return!0===this.logarithmic?Math.pow(10,(f?!0===u?(i-n)/t:n/t:!0===u?n/t:(i-n)/t)+Math.log(e)*Math.LOG10E):!0===u?f?r-(n-i)/t:n/t+r:f?n/t+r:r-(n-i)/t},getCoordinate:function(n){if(isNaN(n))return NaN;var t=this.rotate,f=this.reversed,r=this.axisWidth,i=this.stepWidth,u=this.min,e=this.minReal;return!0===this.logarithmic?(0==n&&(n=this.treatZeroAs),n=Math.log(n)*Math.LOG10E-Math.log(e)*Math.LOG10E,t=t?!0===f?r-i*n:i*n:!0===f?i*n:r-i*n):t=!0===f?t?r-i*(n-u):i*(n-u):t?i*(n-u):r-i*(n-u),t=this.rotate?t+(this.x-this.viX):t+(this.y-this.viY),1e7<Math.abs(t)&&(t=1e7*(t/Math.abs(t))),Math.round(t)},synchronizeWithAxis:function(n){this.synchronizeWith=n;this.listenTo(this.synchronizeWith,"axisChanged",this.handleSynchronization)},handleSynchronization:function(n){var t=this.synchronizeWith;n=t.min;var r=t.max,t=t.step,i=this.synchronizationMultiplier;i&&(this.min=n*i,this.max=r*i,this.step=t*i,n=Math.pow(10,Math.floor(Math.log(Math.abs(this.step))*Math.LOG10E)),n=Math.abs(Math.log(Math.abs(n))*Math.LOG10E),this.maxDecCount=n=Math.round(n),this.draw())}});AmCharts.RecAxis=AmCharts.Class({construct:function(n){var u=n.chart,t=n.axisThickness,i=n.axisColor,h=n.axisAlpha,f=n.offset,c=n.dx,r=n.dy,e=n.viX,o=n.viY,s=n.viH,a=n.viW,l=u.container;"H"==n.orientation?(i=AmCharts.line(l,[0,a],[0,0],i,h,t),this.axisWidth=n.width,"bottom"==n.position?(r=t/2+f+s+o-1,t=e):(r=-t/2-f+o+r,t=c+e)):(this.axisWidth=n.height,"right"==n.position?(i=AmCharts.line(l,[0,0,-c],[0,s,s-r],i,h,t),r=o+r,t=t/2+f+c+a+e-1):(i=AmCharts.line(l,[0,0],[0,s],i,h,t),r=o,t=-t/2-f+e));i.translate(t,r);t=u.container.set();t.push(i);u.axesSet.push(t);AmCharts.setCN(u,i,n.bcn+"line");this.axisSet=t;this.set=i}});AmCharts.RecItem=AmCharts.Class({construct:function(n,t,i,r,u,f,e,o,s,h,c,l){var d,ti,b,wt,ft,yt,tt,p;t=Math.round(t);d=n.chart;this.value=i;void 0==i&&(i="");s||(s=0);void 0==r&&(r=!0);ti=d.fontFamily;b=n.fontSize;void 0==b&&(b=d.fontSize);wt=n.color;void 0==wt&&(wt=d.color);void 0!==c&&(wt=c);ft=n.chart.container;yt=ft.set();this.set=yt;var ot=n.axisThickness,fi=n.axisColor,gt=n.axisAlpha,v=n.tickLength,kt=n.gridAlpha,dt=n.gridThickness,ii=n.gridColor,ri=n.dashLength,ei=n.fillColor,ni=n.fillAlpha,oi=n.labelsEnabled;c=n.labelRotation;var ui=n.counter,k=n.inside,st=n.labelOffset,ut=n.dx,it=n.dy,si=n.orientation,ht=n.position,bt=n.previousCoord,nt=n.viH,ct=n.viW,lt=n.offset,rt,et;e?(void 0!=e.id&&(l=d.classNamePrefix+"-guide-"+e.id),oi=!0,isNaN(e.tickLength)||(v=e.tickLength),void 0!=e.lineColor&&(ii=e.lineColor),void 0!=e.color&&(wt=e.color),isNaN(e.lineAlpha)||(kt=e.lineAlpha),isNaN(e.dashLength)||(ri=e.dashLength),isNaN(e.lineThickness)||(dt=e.lineThickness),!0===e.inside&&(k=!0),isNaN(e.labelRotation)||(c=e.labelRotation),isNaN(e.fontSize)||(b=e.fontSize),e.position&&(ht=e.position),void 0!==e.boldLabel&&(o=e.boldLabel),isNaN(e.labelOffset)||(st=e.labelOffset)):""===i&&(v=0);tt="start";u&&(tt="middle");var w=c*Math.PI/180,at,vt,y=0,a=0,pt=0,g=at=0,hi=0;"V"==si&&(c=0);oi&&(p=n.autoWrap&&0===c?AmCharts.wrappedText(ft,i,wt,ti,b,tt,o,u,0):AmCharts.text(ft,i,wt,ti,b,tt,o),tt=p.getBBox(),g=tt.width,hi=tt.height);"H"==si?(0<=t&&t<=ct+1&&(0<v&&0<gt&&t+s<=ct+1&&(rt=AmCharts.line(ft,[t+s,t+s],[0,v],fi,gt,dt),yt.push(rt)),0<kt&&(et=AmCharts.line(ft,[t,t+ut,t+ut],[nt,nt+it,it],ii,kt,dt,ri),yt.push(et))),a=0,y=t,e&&90==c&&k&&(y-=b),!1===r?(tt="start",a="bottom"==ht?k?a+v:a-v:k?a-v:a+v,y+=3,u&&(y+=u/2-3,tt="middle"),0<c&&(tt="middle")):tt="middle",1==ui&&0<ni&&!e&&!h&&bt<ct&&(r=AmCharts.fitToBounds(t,0,ct),bt=AmCharts.fitToBounds(bt,0,ct),at=r-bt,0<at&&(vt=AmCharts.rect(ft,at,n.height,ei,ni),vt.translate(r-at+ut,it),yt.push(vt))),"bottom"==ht?(a+=nt+b/2+lt,k?(0<c?(a=nt-g/2*Math.sin(w)-v-3,y+=g/2*Math.cos(w)-2):0>c?(a=nt+g*Math.sin(w)-v-1,y+=-g*Math.cos(w)-hi*Math.sin(w)-4):a-=v+b+3+3,a-=st):(0<c?(a=nt+g/2*Math.sin(w)+v+3,y-=g/2*Math.cos(w)):0>c?(a=nt+v+3-g/2*Math.sin(w)+2,y+=g/2*Math.cos(w)):a+=v+ot+3+3,a+=st)):(a+=it+b/2-lt,y+=ut,k?(0<c?(a=g/2*Math.sin(w)+v+3,y-=g/2*Math.cos(w)):a+=v+3,a+=st):(0<c?(a=-(g/2)*Math.sin(w)-v-6,y+=g/2*Math.cos(w)):a-=v+b+3+ot+3,a-=st)),"bottom"==ht?at=(k?nt-v-1:nt+ot-1)+lt:(pt=ut,at=(k?it:it-v-ot+1)-lt),f&&(y+=f),f=y,0<c&&(f+=g/2*Math.cos(w)),p&&(b=0,k&&(b=g/2*Math.cos(w)),f+b>ct+2||0>f))&&(p.remove(),p=null):(0<=t&&t<=nt+1&&(0<v&&0<gt&&t+s<=nt+1&&(rt=AmCharts.line(ft,[0,v],[t+s,t+s],fi,gt,dt),yt.push(rt)),0<kt&&(et=AmCharts.line(ft,[0,ut,ct+ut],[t,t+it,t+it],ii,kt,dt,ri),yt.push(et))),tt="end",(!0===k&&"left"==ht||!1===k&&"right"==ht)&&(tt="start"),a=t-b/2,1==ui&&0<ni&&!e&&!h&&(r=AmCharts.fitToBounds(t,0,nt),bt=AmCharts.fitToBounds(bt,0,nt),w=r-bt,vt=AmCharts.polygon(ft,[0,n.width,n.width,0],[0,0,w,w],ei,ni),vt.translate(ut,r-w+it),yt.push(vt)),a+=b/2,"right"==ht?(y+=ut+ct+lt,a+=it,k?(f||(a-=b/2+3),y=y-(v+4)-st):(y+=v+4+ot,a-=2,y+=st)):k?(y+=v+4-lt,f||(a-=b/2+3),e&&(y+=ut,a+=it),y+=st):(y+=-v-ot-6-lt,a-=2,y-=st),rt&&("right"==ht?(pt+=ut+lt+ct,at+=it,pt=k?pt-ot:pt+ot):(pt-=lt,k||(pt-=v+ot))),f&&(a+=f),k=-3,"right"==ht&&(k+=it),p&&(a>nt+1||a<k)&&(p.remove(),p=null));rt&&(rt.translate(pt,at),AmCharts.setCN(d,rt,n.bcn+"tick"),AmCharts.setCN(d,rt,l,!0),e&&AmCharts.setCN(d,rt,"guide"));!1===n.visible&&(rt&&rt.remove(),p&&(p.remove(),p=null));p&&(p.attr({"text-anchor":tt}),p.translate(y,a),0!==c&&p.rotate(-c,n.chart.backgroundColor),n.allLabels.push(p),this.label=p,AmCharts.setCN(d,p,n.bcn+"label"),AmCharts.setCN(d,p,l,!0),e&&AmCharts.setCN(d,p,"guide"));et&&(AmCharts.setCN(d,et,n.bcn+"grid"),AmCharts.setCN(d,et,l,!0),e&&AmCharts.setCN(d,et,"guide"));vt&&(AmCharts.setCN(d,vt,n.bcn+"fill"),AmCharts.setCN(d,vt,l,!0));h?et&&AmCharts.setCN(d,et,n.bcn+"grid-minor"):(n.counter=0===ui?1:0,n.previousCoord=t);0===this.set.node.childNodes.length&&this.set.remove()},graphics:function(){return this.set},getLabel:function(){return this.label}});AmCharts.RecFill=AmCharts.Class({construct:function(n,t,i,r){var h=n.dx,c=n.dy,u=n.orientation,s=0,e,f,o;i<t&&(f=t,t=i,i=f);e=r.fillAlpha;isNaN(e)&&(e=0);f=n.chart.container;o=r.fillColor;"V"==u?(t=AmCharts.fitToBounds(t,0,n.viH),i=AmCharts.fitToBounds(i,0,n.viH)):(t=AmCharts.fitToBounds(t,0,n.viW),i=AmCharts.fitToBounds(i,0,n.viW));i-=t;isNaN(i)&&(i=4,s=2,e=0);0>i&&"object"==typeof o&&(o=o.join(",").split(",").reverse());"V"==u?(u=AmCharts.rect(f,n.viW,i,o,e),u.translate(h,t-s+c)):(u=AmCharts.rect(f,i,n.viH,o,e),u.translate(t-s+h,c));AmCharts.setCN(n.chart,u,"guide-fill");r.id&&AmCharts.setCN(n.chart,u,"guide-fill-"+r.id);this.set=f.set([u])},graphics:function(){return this.set},getLabel:function(){}});AmCharts.AmChart=AmCharts.Class({construct:function(n){this.theme=n;this.classNamePrefix="amcharts";this.addClassNames=!1;this.version="3.14.0";AmCharts.addChart(this);this.createEvents("dataUpdated","init","rendered","drawn","failed","resized");this.height=this.width="100%";this.dataChanged=!0;this.chartCreated=!1;this.previousWidth=this.previousHeight=0;this.backgroundColor="#FFFFFF";this.borderAlpha=this.backgroundAlpha=0;this.color=this.borderColor="#000000";this.fontFamily="Verdana";this.fontSize=11;this.usePrefixes=!1;this.precision=-1;this.percentPrecision=2;this.decimalSeparator=".";this.thousandsSeparator=",";this.labels=[];this.allLabels=[];this.titles=[];this.marginRight=this.marginLeft=this.autoMarginOffset=0;this.timeOuts=[];this.creditsPosition="top-left";var i=document.createElement("div"),t=i.style;t.overflow="hidden";t.position="relative";t.textAlign="left";this.chartDiv=i;i=document.createElement("div");t=i.style;t.overflow="hidden";t.position="relative";t.textAlign="left";this.legendDiv=i;this.titleHeight=0;this.hideBalloonTime=150;this.handDrawScatter=2;this.handDrawThickness=1;this.prefixesOfBigNumbers=[{number:1e3,prefix:"k"},{number:1e6,prefix:"M"},{number:1e9,prefix:"G"},{number:1e12,prefix:"T"},{number:1e15,prefix:"P"},{number:1e18,prefix:"E"},{number:1e21,prefix:"Z"},{number:1e24,prefix:"Y"}];this.prefixesOfSmallNumbers=[{number:1e-24,prefix:"y"},{number:1e-21,prefix:"z"},{number:1e-18,prefix:"a"},{number:1e-15,prefix:"f"},{number:1e-12,prefix:"p"},{number:1e-9,prefix:"n"},{number:1e-6,prefix:"Î¼"},{number:.001,prefix:"m"}];this.panEventsEnabled=!0;this.product="amcharts";this.animations=[];this.balloon=new AmCharts.AmBalloon(this.theme);this.balloon.chart=this;AmCharts.applyTheme(this,n,"AmChart")},drawChart:function(){this.drawBackground();this.redrawLabels();this.drawTitles();this.brr()},drawBackground:function(){var i,r;AmCharts.remove(this.background);var t=this.container,n=this.backgroundColor,u=this.backgroundAlpha,f=this.set;AmCharts.isModern||0!==u||(u=.001);i=this.updateWidth();this.realWidth=i;r=this.updateHeight();this.realHeight=r;n=AmCharts.polygon(t,[0,i-1,i-1,0],[0,0,r-1,r-1],n,u,1,this.borderColor,this.borderAlpha);AmCharts.setCN(this,n,"bg");this.background=n;f.push(n);(n=this.backgroundImage)&&(this.path&&(n=this.path+n),t=t.image(n,0,0,i,r),AmCharts.setCN(this,n,"bg-image"),this.bgImg=t,f.push(t))},drawTitles:function(){var f=this.titles,e,u,n,r,i,t;if(AmCharts.ifArray(f))for(e=20,u=0;u<f.length;u++)n=f[u],n=AmCharts.processObject(n,AmCharts.Title,this.theme),!1!==n.enabled&&(t=n.color,void 0===t&&(t=this.color),r=n.size,isNaN(r)&&(r=this.fontSize+2),isNaN(n.alpha),i=this.marginLeft,t=AmCharts.text(this.container,n.text,t,this.fontFamily,r),t.translate(i+(this.realWidth-this.marginRight-i)/2,e),t.node.style.pointerEvents="none",AmCharts.setCN(this,t,"title"),n.id&&AmCharts.setCN(this,t,"title-"+n.id),i=!0,void 0!==n.bold&&(i=n.bold),i&&t.attr({"font-weight":"bold"}),t.attr({opacity:n.alpha}),e+=r+6,this.freeLabelsSet.push(t))},write:function(n){var u,t,s;if(n="object"!=typeof n?document.getElementById(n):n){for(;n.firstChild;)n.removeChild(n.firstChild);this.div=n;n.style.overflow="hidden";n.style.textAlign="left";var r=this.chartDiv,e=this.legendDiv,i=this.legend,f=e.style,o=r.style;if(this.measure(),this.previousHeight=this.divRealHeight,this.previousWidth=this.divRealWidth,t=document.createElement("div"),u=t.style,u.position="relative",this.containerDiv=t,t.className=this.classNamePrefix+"-main-div",r.className=this.classNamePrefix+"-chart-div",n.appendChild(t),s=this.exportConfig,s&&AmCharts.AmExport&&!this.AmExport&&(this.AmExport=new AmCharts.AmExport(this,s)),this.amExport&&AmCharts.AmExport&&(this.AmExport=AmCharts.extend(this.amExport,new AmCharts.AmExport(this),!0)),this.AmExport&&this.AmExport.init&&this.AmExport.init(),i)if(i=this.addLegend(i,i.divId),i.enabled)switch(i.position){case"bottom":t.appendChild(r);t.appendChild(e);break;case"top":t.appendChild(e);t.appendChild(r);break;case"absolute":u.width=n.style.width;u.height=n.style.height;f.position="absolute";o.position="absolute";void 0!==i.left&&(f.left=i.left+"px");void 0!==i.right&&(f.right=i.right+"px");void 0!==i.top&&(f.top=i.top+"px");void 0!==i.bottom&&(f.bottom=i.bottom+"px");i.marginLeft=0;i.marginRight=0;t.appendChild(r);t.appendChild(e);break;case"right":u.width=n.style.width;u.height=n.style.height;f.position="relative";o.position="absolute";t.appendChild(r);t.appendChild(e);break;case"left":u.width=n.style.width;u.height=n.style.height;f.position="absolute";o.position="relative";t.appendChild(r);t.appendChild(e);break;case"outside":t.appendChild(r)}else t.appendChild(r);else t.appendChild(r);this.listenersAdded||(this.addListeners(),this.listenersAdded=!0);this.initChart()}},createLabelsSet:function(){AmCharts.remove(this.labelsSet);this.labelsSet=this.container.set();this.freeLabelsSet.push(this.labelsSet)},initChart:function(){var n,t;this.initHC||(AmCharts.callInitHandler(this),this.initHC=!0);this.renderFix();AmCharts.applyLang(this.language,this);n=this.numberFormatter;n&&(isNaN(n.precision)||(this.precision=n.precision),void 0!==n.thousandsSeparator&&(this.thousandsSeparator=n.thousandsSeparator),void 0!==n.decimalSeparator&&(this.decimalSeparator=n.decimalSeparator));(n=this.percentFormatter)&&!isNaN(n.precision)&&(this.percentPrecision=n.precision);this.nf={precision:this.precision,thousandsSeparator:this.thousandsSeparator,decimalSeparator:this.decimalSeparator};this.pf={precision:this.percentPrecision,thousandsSeparator:this.thousandsSeparator,decimalSeparator:this.decimalSeparator};this.divIsFixed=AmCharts.findIfFixed(this.chartDiv);this.destroy();this.startInterval();n=0;document.attachEvent&&!window.opera&&(n=1);this.dmouseX=this.dmouseY=0;t=document.getElementsByTagName("html")[0];t&&window.getComputedStyle&&(t=window.getComputedStyle(t,null))&&(this.dmouseY=AmCharts.removePx(t.getPropertyValue("margin-top")),this.dmouseX=AmCharts.removePx(t.getPropertyValue("margin-left")));this.mouseMode=n;(n=this.container)?(n.container.innerHTML="",n.width=this.realWidth,n.height=this.realHeight,n.addDefs(this),this.chartDiv.appendChild(n.container)):n=new AmCharts.AmDraw(this.chartDiv,this.realWidth,this.realHeight,this);n.chart=this;AmCharts.VML||AmCharts.SVG?(n.handDrawn=this.handDrawn,n.handDrawScatter=this.handDrawScatter,n.handDrawThickness=this.handDrawThickness,this.container=n,this.set&&this.set.remove(),this.set=n.set(),this.gridSet&&this.gridSet.remove(),this.gridSet=n.set(),this.cursorLineSet&&this.cursorLineSet.remove(),this.cursorLineSet=n.set(),this.graphsBehindSet&&this.graphsBehindSet.remove(),this.graphsBehindSet=n.set(),this.bulletBehindSet&&this.bulletBehindSet.remove(),this.bulletBehindSet=n.set(),this.columnSet&&this.columnSet.remove(),this.columnSet=n.set(),this.graphsSet&&this.graphsSet.remove(),this.graphsSet=n.set(),this.trendLinesSet&&this.trendLinesSet.remove(),this.trendLinesSet=n.set(),this.axesSet&&this.axesSet.remove(),this.axesSet=n.set(),this.cursorSet&&this.cursorSet.remove(),this.cursorSet=n.set(),this.scrollbarsSet&&this.scrollbarsSet.remove(),this.scrollbarsSet=n.set(),this.bulletSet&&this.bulletSet.remove(),this.bulletSet=n.set(),this.freeLabelsSet&&this.freeLabelsSet.remove(),this.axesLabelsSet&&this.axesLabelsSet.remove(),this.axesLabelsSet=n.set(),this.freeLabelsSet=n.set(),this.balloonsSet&&this.balloonsSet.remove(),this.balloonsSet=n.set(),this.zoomButtonSet&&this.zoomButtonSet.remove(),this.zoomButtonSet=n.set(),this.linkSet&&this.linkSet.remove(),this.linkSet=n.set()):this.fire("failed",{type:"failed",chart:this})},premeasure:function(){var n=this.div,t,i;n&&(t=n.offsetWidth,i=n.offsetHeight,n.clientHeight&&(t=n.clientWidth,i=n.clientHeight),(t!=this.mw||i!=this.mh)&&(this.mw=t,this.mh=i,this.measure()))},measure:function(){var n=this.div;if(n){var u=this.chartDiv,i=n.offsetWidth,r=n.offsetHeight,f=this.container;n.clientHeight&&(i=n.clientWidth,r=n.clientHeight);var t=AmCharts.removePx(AmCharts.getStyle(n,"padding-left")),e=AmCharts.removePx(AmCharts.getStyle(n,"padding-right")),o=AmCharts.removePx(AmCharts.getStyle(n,"padding-top")),s=AmCharts.removePx(AmCharts.getStyle(n,"padding-bottom"));isNaN(t)||(i-=t);isNaN(e)||(i-=e);isNaN(o)||(r-=o);isNaN(s)||(r-=s);t=n.style;n=t.width;t=t.height;-1!=n.indexOf("px")&&(i=AmCharts.removePx(n));-1!=t.indexOf("px")&&(r=AmCharts.removePx(t));r=Math.round(r);i=Math.round(i);n=Math.round(AmCharts.toCoordinate(this.width,i));t=Math.round(AmCharts.toCoordinate(this.height,r));(i!=this.previousWidth||r!=this.previousHeight)&&0<n&&0<t&&(u.style.width=n+"px",u.style.height=t+"px",f&&f.setSize(n,t),this.balloon=AmCharts.processObject(this.balloon,AmCharts.AmBalloon,this.theme),this.balloon.chart=this,this.balloon.setBounds(2,2,n-2,t));this.realWidth=n;this.realHeight=t;this.divRealWidth=i;this.divRealHeight=r}},destroy:function(){this.chartDiv.innerHTML="";this.clearTimeOuts();this.interval&&clearInterval(this.interval);this.interval=NaN;this.legend&&this.legend.destroy()},clearTimeOuts:function(){var t=this.timeOuts,n;if(t)for(n=0;n<t.length;n++)clearTimeout(t[n]);this.timeOuts=[]},clear:function(n){if(AmCharts.callMethod("clear",[this.chartScrollbar,this.scrollbarV,this.scrollbarH,this.chartCursor]),this.chartCursor=this.scrollbarH=this.scrollbarV=this.chartScrollbar=null,this.clearTimeOuts(),this.interval&&clearInterval(this.interval),this.container&&(this.container.remove(this.chartDiv),this.container.remove(this.legendDiv)),n||AmCharts.removeChart(this),n=this.div)for(;n.firstChild;)n.removeChild(n.firstChild);this.legend&&this.legend.destroy()},setMouseCursor:function(n){"auto"==n&&AmCharts.isNN&&(n="default");this.chartDiv.style.cursor=n;this.legendDiv.style.cursor=n},redrawLabels:function(){var t,n;for(this.labels=[],t=this.allLabels,this.createLabelsSet(),n=0;n<t.length;n++)this.drawLabel(t[n])},drawLabel:function(n){if(this.container&&!1!==n.enabled){n=AmCharts.processObject(n,AmCharts.Label,this.theme);var r=n.y,t=n.text,i=n.align,e=n.size,o=n.color,u=n.rotation,s=n.alpha,h=n.bold,f=AmCharts.toCoordinate(n.x,this.realWidth),r=AmCharts.toCoordinate(r,this.realHeight);f||(f=0);r||(r=0);void 0===o&&(o=this.color);isNaN(e)&&(e=this.fontSize);i||(i="start");"left"==i&&(i="start");"right"==i&&(i="end");"center"==i&&(i="middle",u?r=this.realHeight-r+r/2:f=this.realWidth/2-f);void 0===s&&(s=1);void 0===u&&(u=0);r+=e/2;t=AmCharts.text(this.container,t,o,this.fontFamily,e,i,h,s);t.translate(f,r);AmCharts.setCN(this,t,"label");n.id&&AmCharts.setCN(this,t,"label-"+n.id);0!==u&&t.rotate(u);n.url?(t.setAttr("cursor","pointer"),t.click(function(){AmCharts.getURL(n.url)})):t.node.style.pointerEvents="none";this.labelsSet.push(t);this.labels.push(t)}},addLabel:function(n,t,i,r,u,f,e,o,s,h){n={x:n,y:t,text:i,align:r,size:u,color:f,alpha:o,rotation:e,bold:s,url:h,enabled:!0};this.container&&this.drawLabel(n);this.allLabels.push(n)},clearLabels:function(){for(var t=this.labels,n=t.length-1;0<=n;n--)t[n].remove();this.labels=[];this.allLabels=[]},updateHeight:function(){var n=this.divRealHeight,t=this.legend,i;return t&&(i=this.legendDiv.offsetHeight,t=t.position,("top"==t||"bottom"==t)&&(n-=i,(0>n||isNaN(n))&&(n=0),this.chartDiv.style.height=n+"px")),n},updateWidth:function(){var t=this.divRealWidth,f=this.divRealHeight,n=this.legend,i,r;if(n){i=this.legendDiv;r=i.offsetWidth;isNaN(n.width)||(r=n.width);n.ieW&&(r=n.ieW);var e=i.offsetHeight,i=i.style,u=this.chartDiv.style,n=n.position;("right"==n||"left"==n)&&(t-=r,(0>t||isNaN(t))&&(t=0),u.width=t+"px","left"==n?(u.left=r+"px",i.left="0px"):(u.left="0px",i.left=t+"px"),f>e&&(i.top=(f-e)/2+"px"))}return t},getTitleHeight:function(){var t=0,r=this.titles,u=!0,i,n;if(0<r.length){for(t=20,i=0;i<r.length;i++)n=r[i],!1!==n.enabled&&(u=!1,n=n.size,isNaN(n)&&(n=this.fontSize+2),t+=n+6);u&&(t=0)}return t},addTitle:function(n,t,i,r,u){return isNaN(t)&&(t=this.fontSize+2),n={text:n,size:t,color:i,alpha:r,bold:u,enabled:!0},this.titles.push(n),n},handleWheel:function(n){var t=0;n||(n=window.event);n.wheelDelta?t=n.wheelDelta/120:n.detail&&(t=-n.detail/3);t&&this.handleWheelReal(t,n.shiftKey);n.preventDefault&&n.preventDefault()},handleWheelReal:function(){},addListeners:function(){var n=this,t=n.chartDiv;document.addEventListener?(n.panEventsEnabled&&(t.style.msTouchAction="none"),"ontouchstart"in document.documentElement&&(t.addEventListener("touchstart",function(t){n.handleTouchMove.call(n,t);n.handleTouchStart.call(n,t)},!0),t.addEventListener("touchmove",function(t){n.handleTouchMove.call(n,t)},!0),t.addEventListener("touchend",function(t){n.handleTouchEnd.call(n,t)},!0)),t.addEventListener("mousedown",function(t){n.mouseIsOver=!0;n.handleMouseMove.call(n,t);n.handleMouseDown.call(n,t)},!0),t.addEventListener("mouseover",function(t){n.handleMouseOver.call(n,t)},!0),t.addEventListener("mouseout",function(t){n.handleMouseOut.call(n,t)},!0)):(t.attachEvent("onmousedown",function(t){n.handleMouseDown.call(n,t)}),t.attachEvent("onmouseover",function(t){n.handleMouseOver.call(n,t)}),t.attachEvent("onmouseout",function(t){n.handleMouseOut.call(n,t)}))},dispDUpd:function(){if(!this.skipEvents){var n;this.dispatchDataUpdated&&(this.dispatchDataUpdated=!1,n="dataUpdated",this.fire(n,{type:n,chart:this}));this.chartCreated||(n="init",this.fire(n,{type:n,chart:this}));this.chartRendered||(n="rendered",this.fire(n,{type:n,chart:this}),this.chartRendered=!0);n="drawn";this.fire(n,{type:n,chart:this})}this.skipEvents=!1},validateSize:function(){var n=this,t,i;n.premeasure();(n.divRealWidth!=n.previousWidth||n.divRealHeight!=n.previousHeight)&&(t=n.legend,0<n.realWidth&&0<n.realHeight&&(n.sizeChanged=!0,t&&(clearTimeout(n.legendInitTO),i=setTimeout(function(){t.invalidateSize()},100),n.timeOuts.push(i),n.legendInitTO=i),"xy"!=n.type?n.marginsUpdated=!1:(n.marginsUpdated=!0,n.selfZoom=!0),clearTimeout(n.initTO),i=setTimeout(function(){n.initChart()},10),n.timeOuts.push(i),n.initTO=i),n.fire("resized",{type:"resized",chart:n}),n.renderFix(),t&&t.renderFix&&t.renderFix(),n.previousHeight=n.divRealHeight,n.previousWidth=n.divRealWidth)},invalidateSize:function(){this.previousHeight=this.previousWidth=NaN;this.invalidateSizeReal()},invalidateSizeReal:function(){var n=this,t;n.marginsUpdated=!1;clearTimeout(n.validateTO);t=setTimeout(function(){n.validateSize()},5);n.timeOuts.push(t);n.validateTO=t},validateData:function(n){this.chartCreated&&(this.dataChanged=!0,this.marginsUpdated="xy"!=this.type?!1:!0,this.initChart(n))},validateNow:function(n,t){this.initTO&&clearTimeout(this.initTO);n&&(this.dataChanged=!0);this.skipEvents=t;this.chartRendered=!1;this.write(this.div)},showItem:function(n){n.hidden=!1;this.initChart()},hideItem:function(n){n.hidden=!0;this.initChart()},hideBalloon:function(){var n=this;clearInterval(n.hoverInt);clearTimeout(n.balloonTO);n.hoverInt=setTimeout(function(){n.hideBalloonReal.call(n)},n.hideBalloonTime)},cleanChart:function(){},hideBalloonReal:function(){var n=this.balloon;n&&n.hide()},showBalloon:function(n,t,i,r,u){var f=this;clearTimeout(f.balloonTO);clearInterval(f.hoverInt);f.balloonTO=setTimeout(function(){f.showBalloonReal.call(f,n,t,i,r,u)},1)},showBalloonReal:function(n,t,i,r,u){this.handleMouseMove();var f=this.balloon;f.enabled&&(f.followCursor(!1),f.changeColor(t),!i||f.fixedPosition?(f.setPosition(r,u),f.followCursor(!1)):f.followCursor(!0),n&&f.showBalloon(n))},handleTouchMove:function(n){this.hideBalloon();var t=this.chartDiv;n.touches&&(n=n.touches.item(0),this.mouseX=n.pageX-AmCharts.findPosX(t),this.mouseY=n.pageY-AmCharts.findPosY(t))},handleMouseOver:function(){AmCharts.resetMouseOver();this.mouseIsOver=!0},handleMouseOut:function(){AmCharts.resetMouseOver();this.mouseIsOver=!1},handleMouseMove:function(n){var i,r,t,u,f;if(this.mouseIsOver&&(t=this.chartDiv,n||(n=window.event),n)){this.posX=AmCharts.findPosX(t);this.posY=AmCharts.findPosY(t);switch(this.mouseMode){case 1:i=n.clientX-this.posX;r=n.clientY-this.posY;this.divIsFixed||(t=document.body,t&&(u=t.scrollLeft,y1=t.scrollTop),(t=document.documentElement)&&(f=t.scrollLeft,y2=t.scrollTop),u=Math.max(u,f),f=Math.max(y1,y2),i+=u,r+=f);break;case 0:this.divIsFixed?(i=n.clientX-this.posX,r=n.clientY-this.posY):(i=n.pageX-this.posX,r=n.pageY-this.posY)}n.touches&&(n=n.touches.item(0),i=n.pageX-this.posX,r=n.pageY-this.posY);this.mouseX=i-this.dmouseX;this.mouseY=r-this.dmouseY}},handleTouchStart:function(n){this.handleMouseDown(n)},handleTouchEnd:function(n){AmCharts.resetMouseOver();this.handleReleaseOutside(n)},handleReleaseOutside:function(){},handleMouseDown:function(n){AmCharts.resetMouseOver();this.mouseIsOver=!0;n&&n.preventDefault&&(this.panEventsEnabled?n.preventDefault():n.touches||n.preventDefault())},addLegend:function(n,t){n=AmCharts.processObject(n,AmCharts.AmLegend,this.theme);n.divId=t;var i;return i="object"!=typeof t&&t?document.getElementById(t):t,this.legend=n,n.chart=this,i?(n.div=i,n.position="outside",n.autoMargins=!1):n.div=this.legendDiv,i=this.handleLegendEvent,this.listenTo(n,"showItem",i),this.listenTo(n,"hideItem",i),this.listenTo(n,"clickMarker",i),this.listenTo(n,"rollOverItem",i),this.listenTo(n,"rollOutItem",i),this.listenTo(n,"rollOverMarker",i),this.listenTo(n,"rollOutMarker",i),this.listenTo(n,"clickLabel",i),n},removeLegend:function(){this.legend=void 0;this.legendDiv.innerHTML=""},handleResize:function(){(AmCharts.isPercents(this.width)||AmCharts.isPercents(this.height))&&this.invalidateSizeReal();this.renderFix()},renderFix:function(){if(!AmCharts.VML){var n=this.container;n&&n.renderFix()}},getSVG:function(){if(AmCharts.hasSVG)return this.container},animate:function(n,t,i,r,u,f,e){return n["an_"+t]&&AmCharts.removeFromArray(this.animations,n["an_"+t]),i={obj:n,frame:0,attribute:t,from:i,to:r,time:u,effect:f,suffix:e},n["an_"+t]=i,this.animations.push(i),i},setLegendData:function(n){var t=this.legend;t&&t.setData(n)},startInterval:function(){var n=this;clearInterval(n.interval);n.interval=setInterval(function(){n.updateAnimations.call(n)},AmCharts.updateRate)},stopAnim:function(n){AmCharts.removeFromArray(this.animations,n)},updateAnimations:function(){var t;for(this.container&&this.container.update(),t=this.animations.length-1;0<=t;t--){var n=this.animations[t],i=1e3*n.time/AmCharts.updateRate,f=n.frame+1,r=n.obj,u=n.attribute;if(f<=i){n.frame++;var e=Number(n.from),o=Number(n.to)-e,i=AmCharts[n.effect](0,f,e,o,i);0===o?(this.animations.splice(t,1),r.node.style[u]=Number(n.to)+n.suffix):r.node.style[u]=i+n.suffix}else r.node.style[u]=Number(n.to)+n.suffix,this.animations.splice(t,1)}},inIframe:function(){try{return window.self!==window.top}catch(n){return!0}},brr:function(){}});AmCharts.Slice=AmCharts.Class({construct:function(){}});AmCharts.SerialDataItem=AmCharts.Class({construct:function(){}});AmCharts.GraphDataItem=AmCharts.Class({construct:function(){}});AmCharts.Guide=AmCharts.Class({construct:function(n){this.cname="Guide";AmCharts.applyTheme(this,n,this.cname)}});AmCharts.Title=AmCharts.Class({construct:function(n){this.cname="Title";AmCharts.applyTheme(this,n,this.cname)}});AmCharts.Label=AmCharts.Class({construct:function(n){this.cname="Label";AmCharts.applyTheme(this,n,this.cname)}});AmCharts.AmGraph=AmCharts.Class({construct:function(n){this.cname="AmGraph";this.createEvents("rollOverGraphItem","rollOutGraphItem","clickGraphItem","doubleClickGraphItem","rightClickGraphItem","clickGraph","rollOverGraph","rollOutGraph");this.type="line";this.stackable=!0;this.columnCount=1;this.columnIndex=0;this.centerCustomBullets=this.showBalloon=!0;this.maxBulletSize=50;this.minBulletSize=4;this.balloonText="[[value]]";this.hidden=this.scrollbar=this.animationPlayed=!1;this.pointPosition="middle";this.depthCount=1;this.includeInMinMax=!0;this.negativeBase=0;this.visibleInLegend=!0;this.showAllValueLabels=!1;this.showBulletsAt=this.showBalloonAt="close";this.lineThickness=1;this.dashLength=0;this.connect=!0;this.lineAlpha=1;this.bullet="none";this.bulletBorderThickness=2;this.bulletBorderAlpha=0;this.bulletAlpha=1;this.bulletSize=8;this.cornerRadiusTop=this.hideBulletsCount=this.bulletOffset=0;this.cursorBulletAlpha=1;this.gradientOrientation="vertical";this.dy=this.dx=0;this.periodValue="";this.clustered=!0;this.periodSpan=1;this.y=this.x=0;this.switchable=!0;this.tcc=this.minDistance=1;this.labelRotation=0;this.labelAnchor="auto";this.labelOffset=3;this.bcn="graph-";this.dateFormat="MMM DD, YYYY";AmCharts.applyTheme(this,n,this.cname)},draw:function(){var n=this.chart,e=n.type,r,t,i,u,f;isNaN(this.precision)||(this.numberFormatter?this.numberFormatter.precision=this.precision:this.numberFormatter={precision:this.precision,decimalSeparator:n.decimalSeparator,thousandsSeparator:n.thousandsSeparator});r=n.container;this.container=r;this.destroy();t=r.set();i=r.set();this.behindColumns?(n.graphsBehindSet.push(t),n.bulletBehindSet.push(i)):(n.graphsSet.push(t),n.bulletSet.push(i));u=this.bulletAxis;AmCharts.isString(u)&&(this.bulletAxis=n.getValueAxisById(u));this.bulletSet=i;this.scrollbar||(u=n.marginLeftReal,f=n.marginTopReal,t.translate(u,f),i.translate(u,f));r=r.set();AmCharts.remove(this.columnsSet);t.push(r);this.set=t;AmCharts.setCN(n,t,"graph-"+this.type);AmCharts.setCN(n,t,"graph-"+this.id);AmCharts.setCN(n,i,"graph-"+this.type);AmCharts.setCN(n,i,"graph-"+this.id);this.columnsSet=r;this.columnsArray=[];this.ownColumns=[];this.allBullets=[];this.animationArray=[];t=this.labelPosition;t||(i=this.valueAxis.stackType,t="top","column"==this.type&&(n.rotate&&(t="right"),"100%"==i||"regular"==i)&&(t="middle"),this.labelPosition=t);AmCharts.ifArray(this.data)&&(n=!1,"xy"==e?this.xAxis.axisCreated&&this.yAxis.axisCreated&&(n=!0):this.valueAxis.axisCreated&&(n=!0),!this.hidden&&n&&this.createGraph())},createGraph:function(){var n=this,t=n.chart;if(n.startAlpha=t.startAlpha,n.seqAn=t.sequencedAnimation,n.baseCoord=n.valueAxis.baseCoord,void 0===n.fillAlphas&&(n.fillAlphas=0),n.bulletColorR=n.bulletColor,void 0===n.bulletColorR&&(n.bulletColorR=n.lineColorR,n.bulletColorNegative=n.negativeLineColor),void 0===n.bulletAlpha&&(n.bulletAlpha=n.lineAlpha),t=t.type,"gantt"==t&&(t="serial"),clearTimeout(n.playedTO),!isNaN(n.valueAxis.min)&&!isNaN(n.valueAxis.max)){switch(t){case"serial":n.categoryAxis&&(n.createSerialGraph(),"candlestick"==n.type&&1>n.valueAxis.minMaxMultiplier&&n.positiveClip(n.set));break;case"radar":n.createRadarGraph();break;case"xy":n.createXYGraph();n.positiveClip(n.set)}n.playedTO=setTimeout(function(){n.setAnimationPlayed.call(n)},500*n.chart.startDuration)}},setAnimationPlayed:function(){this.animationPlayed=!0},createXYGraph:function(){var o=[],s=[],e=this.xAxis,h=this.yAxis,i;for(this.pmh=h.viH+1,this.pmw=e.viW+1,this.pmy=this.pmx=0,i=this.start;i<=this.end;i++){var n=this.data[i].axes[e.id].graphs[this.id],t=n.values,u=t.x,f=t.y,t=e.getCoordinate(u),r=h.getCoordinate(f);isNaN(u)||isNaN(f)||!(o.push(t),s.push(r),n.x=t,n.y=r,u=this.createBullet(n,t,r,i),f=this.labelText)||(n=this.createLabel(n,t,r,f),this.positionLabel(t,r,n,u),this.allBullets.push(n))}this.drawLineGraph(o,s);this.launchAnimation()},createRadarGraph:function(){for(var c=this.valueAxis.stackType,u=[],f=[],o,s,t,n,i,e,h,r=this.start;r<=this.end;r++)t=this.data[r].axes[this.valueAxis.id].graphs[this.id],n="none"==c||"3d"==c?t.values.value:t.values.close,isNaN(n)?(this.drawLineGraph(u,f),u=[],f=[]):(i=this.y-(this.valueAxis.getCoordinate(n)-this.height),e=180-360/(this.end-this.start+1)*r,n=i*Math.sin(e/180*Math.PI),i*=Math.cos(e/180*Math.PI),u.push(n),f.push(i),e=this.createBullet(t,n,i,r),h=this.labelText,h&&(t=this.createLabel(t,n,i,h),this.positionLabel(n,i,t,e),this.allBullets.push(t)),isNaN(o)&&(o=n),isNaN(s)&&(s=i));u.push(o);f.push(s);this.drawLineGraph(u,f);this.launchAnimation()},positionLabel:function(n,t,i,r,u,f){var o,s,e;if(u="middle",f=!1,o=this.labelPosition,s=i.getBBox(),r){var l=r.graphDataItem,h=this.chart.rotate,c=l.isNegative,p=this.chart;t-=s.height/8;switch(o){case"top":o=h?"top":c?"bottom":"top";break;case"right":o=h?c?"left":"right":"right";break;case"bottom":o=h?"bottom":c?"top":"bottom";break;case"left":o=h?c?"right":"left":"left"}var a=l.columnGraphics,v=0,y=0;a&&(v=a.x,y=a.y);e=this.labelOffset;switch(o){case"top":t-=r.size/2+s.height/2+e;break;case"right":u="start";n+=r.size/2+e;break;case"bottom":t+=r.size/2+s.height/2+e;break;case"left":u="end";n-=r.size/2+e;break;case"inside":"column"==this.type&&(f=!0,h?c?(u="end",n=v-3-e):(u="start",n=v+3+e):t=c?y+7+e:y-10-e);break;case"middle":"column"==this.type&&(f=!0,h?n-=(n-v)/2+e-3:t-=(t-y)/2+e-3)}return"auto"!=this.labelAnchor&&(u=this.labelAnchor),i.attr({"text-anchor":u}),this.labelRotation&&i.rotate(this.labelRotation),i.translate(n,t),s=i.getBBox(),!this.showAllValueLabels&&a&&f&&(s.height>l.columnHeight||s.width>l.columnWidth)&&(i.remove(),i=!1),i&&("serial"==p.type||"gantt"==p.type)&&(h?(0>t||t>this.height)&&(i.remove(),i=!1):(0>n||n>this.width)&&(i.remove(),i=!1)),i}},getGradRotation:function(){var n=270;return"horizontal"==this.gradientOrientation&&(n=0),this.gradientRotation=n},createSerialGraph:function(){var dr,rr,si,yf,hi,pf,r,nu,wi,yu,ii,bu,ye,pe,df,gf,pt,we,be,vr,iu,ne,te,ht,ie,re,ue,ku,du,gu,fe,ee,oe,nf,se,sr,yr;this.dashLengthSwitched=this.fillColorsSwitched=this.lineColorSwitched=void 0;var et=this.chart,di=this.id,ai=this.index,ct=this.data,ot=this.chart.container,f=this.valueAxis,w=this.type,y=this.columnWidthReal,wt=this.showBulletsAt;isNaN(this.columnWidth)||(y=this.columnWidth);isNaN(y)&&(y=.8);var vi=this.useNegativeColorIfDown,b=this.width,nt=this.height,oo=this.y,k=this.rotate,ei=this.columnCount,fu=AmCharts.toCoordinate(this.cornerRadiusTop,y/2),rf=this.connect,o=[],s=[],gi,hr,uf,ff,yi=this.chart.graphs.length,pr,it=this.dx/this.tcc,st=this.dy/this.tcc,bt=f.stackType,nr=this.start,cr=this.end,pi=this.scrollbar,wr="graph-column-";pi&&(wr="scrollbar-graph-column-");var he=this.categoryAxis,ce=this.baseCoord,ef=this.negativeBase,dt=this.columnIndex,rt=this.lineThickness,lt=this.lineAlpha,of=this.lineColorR,gt=this.dashLength,tr=this.set,le,eu=this.getGradRotation(),ni=this.chart.columnSpacing,ut=he.cellWidth,ae=(ut*y-ei)/ei;ni>ae&&(ni=ae);var at,n,ou,sf=nt+1,hf=b+1,su=0,cf=0,lf,af,hu,cu,vf=this.fillColorsR,ir=this.negativeFillColors,oi=this.negativeLineColor,br=this.fillAlphas,kr=this.negativeFillAlphas;if("object"==typeof br&&(br=br[0]),"object"==typeof kr&&(kr=kr[0]),dr=f.getCoordinate(f.min),f.logarithmic&&(dr=f.getCoordinate(f.minReal)),this.minCoord=dr,this.resetBullet&&(this.bullet="none"),pi||"line"!=w&&"smoothedLine"!=w&&"step"!=w||(1==ct.length&&"step"!=w&&"none"==this.bullet&&(this.bullet="round",this.resetBullet=!0),!ir&&void 0==oi||vi)||(rr=ef,rr>f.max&&(rr=f.max),rr<f.min&&(rr=f.min),f.logarithmic&&(rr=f.minReal),si=f.getCoordinate(rr),yf=f.getCoordinate(f.max),k?(sf=nt,hf=Math.abs(yf-si)+1,lf=nt,af=Math.abs(dr-si)+1,cu=cf=0,f.reversed?(su=0,hu=si):(su=si,hu=0)):(hf=b,sf=Math.abs(yf-si)+1,af=b,lf=Math.abs(dr-si)+1,hu=su=0,f.reversed?(cu=oo,cf=si):cu=si+1)),hi=Math.round,this.pmx=hi(su),this.pmy=hi(cf),this.pmh=hi(sf),this.pmw=hi(hf),this.nmx=hi(hu),this.nmy=hi(cu),this.nmh=hi(lf),this.nmw=hi(af),AmCharts.isModern||(this.nmy=this.nmx=0,this.nmh=this.height),this.clustered||(ei=1),y="column"==w?(ut*y-ni*(ei-1))/ei:ut*y,1>y&&(y=1),pf=this.fixedColumnWidth,isNaN(pf)||(y=pf),"line"==w||"step"==w||"smoothedLine"==w){if(0<nr){for(r=nr-1;-1<r;r--)if(at=ct[r],n=at.axes[f.id].graphs[di],ou=n.values.value,!isNaN(ou)){nr=r;break}if(this.lineColorField)for(r=nr;-1<r;r--)if(at=ct[r],n=at.axes[f.id].graphs[di],n.lineColor){this.bulletColorSwitched=this.lineColorSwitched=n.lineColor;break}if(this.fillColorsField)for(r=nr;-1<r;r--)if(at=ct[r],n=at.axes[f.id].graphs[di],n.fillColors){this.fillColorsSwitched=n.fillColors;break}if(this.dashLengthField)for(r=nr;-1<r;r--)if(at=ct[r],n=at.axes[f.id].graphs[di],!isNaN(n.dashLength)){this.dashLengthSwitched=n.dashLength;break}}if(cr<ct.length-1)for(r=cr+1;r<ct.length;r++)if(at=ct[r],n=at.axes[f.id].graphs[di],ou=n.values.value,!isNaN(ou)){cr=r;break}}cr<ct.length-1&&cr++;var l=[],a=[],ur=!1;("line"==w||"step"==w||"smoothedLine"==w)&&(this.stackable&&"regular"==bt||"100%"==bt||this.fillToGraph)&&(ur=!0);var ve=this.noStepRisers,lu=-1e3,au=-1e3,vu=this.minDistance,fr=!0,gr=!1;for(r=nr;r<=cr;r++){if(at=ct[r],n=at.axes[f.id].graphs[di],n.index=r,wi=NaN,vi&&void 0==this.openField)for(yu=r+1;yu<ct.length&&(!ct[yu]||!(nu=ct[r+1].axes[f.id].graphs[di])||!nu.values||(wi=nu.values.value,isNaN(wi)));yu++);var v,h,c,tt,ti=NaN,i=NaN,t=NaN,e=NaN,u=NaN,er=NaN,ci=NaN,or=NaN,li=NaN,ri=NaN,ui=NaN,d=NaN,g=NaN,p=NaN,wf=NaN,bf=NaN,ft=NaN,ht=void 0,bi=vf,lr=br,fi=of,vt,kt,kf=this.proCandlesticks,pu=this.topRadius,tu=this.pattern;if(void 0!=n.pattern&&(tu=n.pattern),isNaN(n.alpha)||(lr=n.alpha),isNaN(n.dashLength)||(gt=n.dashLength),ii=n.values,f.recalculateToPercents&&(ii=n.percents),ii){if(p=this.stackable&&"none"!=bt&&"3d"!=bt?ii.close:ii.value,("candlestick"==w||"ohlc"==w)&&(p=ii.close,bf=ii.low,ci=f.getCoordinate(bf),wf=ii.high,li=f.getCoordinate(wf)),ft=ii.open,t=f.getCoordinate(p),isNaN(ft)||(u=f.getCoordinate(ft),vi&&(wi=ft,ft=u=NaN)),vi&&(void 0==this.openField?nu&&(nu.isNegative=wi<p?!0:!1,isNaN(wi)&&(n.isNegative=!fr)):n.isNegative=wi>p?!0:!1),!pi)switch(this.showBalloonAt){case"close":n.y=t;break;case"open":n.y=u;break;case"high":n.y=li;break;case"low":n.y=ci}var ti=at.x[he.id],ar=this.periodSpan-1,yt=Math.floor(ut/2)+Math.floor(ar*ut/2),ki=yt,wu=0;"left"==this.stepDirection&&(wu=(2*ut+ar*ut)/2,ti-=wu);"center"==this.stepDirection&&(wu=ut/2,ti-=wu);"start"==this.pointPosition&&(ti-=ut/2+Math.floor(ar*ut/2),yt=0,ki=Math.floor(ut)+Math.floor(ar*ut));"end"==this.pointPosition&&(ti+=ut/2+Math.floor(ar*ut/2),yt=Math.floor(ut)+Math.floor(ar*ut),ki=0);ve&&(bu=this.columnWidth,isNaN(bu)||(yt*=bu,ki*=bu));pi||(n.x=ti);-1e5>ti&&(ti=-1e5);ti>b+1e5&&(ti=b+1e5);k?(i=t,e=u,u=t=ti,isNaN(ft)&&!this.fillToGraph&&(e=ce),er=ci,or=li):(e=i=ti,isNaN(ft)&&!this.fillToGraph&&(u=ce));(!kf&&p<ft||kf&&p<le)&&(n.isNegative=!0,ir&&(bi=ir),kr&&(lr=kr),void 0!=oi&&(fi=oi));gr=!1;isNaN(p)||(vi?p>wi?(fr&&(gr=!0),fr=!1):(fr||(gr=!0),fr=!0):n.isNegative=p<ef?!0:!1,le=p);void 0!=n.color&&(bi=n.color);n.fillColors&&(bi=n.fillColors);switch(w){case"line":isNaN(p)?rf||(this.drawLineGraph(o,s,l,a),o=[],s=[],l=[],a=[]):((Math.abs(i-lu)>=vu||Math.abs(t-au)>=vu)&&(o.push(i),s.push(t),lu=i,au=t),ri=i,ui=t,d=i,g=t,!ur||isNaN(u)||isNaN(e)||(l.push(e),a.push(u)),(gr||void 0!=n.lineColor||void 0!=n.fillColors||!isNaN(n.dashLength))&&(this.drawLineGraph(o,s,l,a),o=[i],s=[t],l=[],a=[],!ur||isNaN(u)||isNaN(e)||(l.push(e),a.push(u)),vi?fr?(this.lineColorSwitched=of,this.fillColorsSwitched=vf):(this.lineColorSwitched=oi,this.fillColorsSwitched=ir):(this.lineColorSwitched=n.lineColor,this.fillColorsSwitched=n.fillColors),this.dashLengthSwitched=n.dashLength),n.gap&&(this.drawLineGraph(o,s,l,a),o=[],s=[],l=[],a=[]));break;case"smoothedLine":isNaN(p)?rf||(this.drawSmoothedGraph(o,s,l,a),o=[],s=[],l=[],a=[]):((Math.abs(i-lu)>=vu||Math.abs(t-au)>=vu)&&(o.push(i),s.push(t),lu=i,au=t),ri=i,ui=t,d=i,g=t,!ur||isNaN(u)||isNaN(e)||(l.push(e),a.push(u)),void 0==n.lineColor&&void 0==n.fillColors&&isNaN(n.dashLength)||(this.drawSmoothedGraph(o,s,l,a),o=[i],s=[t],l=[],a=[],!ur||isNaN(u)||isNaN(e)||(l.push(e),a.push(u)),this.lineColorSwitched=n.lineColor,this.fillColorsSwitched=n.fillColors,this.dashLengthSwitched=n.dashLength),n.gap&&(this.drawSmoothedGraph(o,s,l,a),o=[],s=[],l=[],a=[]));break;case"step":isNaN(p)?rf||((1>=this.periodSpan||1<this.periodSpan&&i-gi>yt+ki)&&(gi=hr=NaN),this.drawLineGraph(o,s,l,a),o=[],s=[],l=[],a=[]):(k?(isNaN(gi)||(o.push(gi),s.push(t-yt)),s.push(t-yt),o.push(i),s.push(t+ki),o.push(i),!ur||isNaN(u)||isNaN(e)||(isNaN(uf)||(l.push(uf),a.push(u-yt)),l.push(e),a.push(u-yt),l.push(e),a.push(u+ki))):(isNaN(hr)||(s.push(hr),o.push(gi),s.push(hr),o.push(i-yt)),o.push(i-yt),s.push(t),o.push(i+ki),s.push(t),!ur||isNaN(u)||isNaN(e)||(isNaN(ff)||(l.push(e-yt),a.push(ff)),l.push(e-yt),a.push(u),l.push(e+ki),a.push(u))),gi=i,hr=t,uf=e,ff=u,ri=i,ui=t,d=i,g=t,(gr||void 0!=n.lineColor||void 0!=n.fillColors||!isNaN(n.dashLength))&&(ye=o[o.length-2],pe=s[s.length-2],o.pop(),s.pop(),this.drawLineGraph(o,s,l,a),o=[ye],s=[pe],l=[],a=[],this.lineColorSwitched=n.lineColor,this.fillColorsSwitched=n.fillColors,this.dashLengthSwitched=n.dashLength,vi&&(fr?(this.lineColorSwitched=of,this.fillColorsSwitched=vf):(this.lineColorSwitched=oi,this.fillColorsSwitched=ir))),(ve||n.gap)&&(gi=hr=NaN,this.drawLineGraph(o,s,l,a),o=[],s=[],l=[],a=[]));break;case"column":vt=fi;void 0!=n.lineColor&&(vt=n.lineColor);isNaN(p)||(vi||(n.isNegative=p<ef?!0:!1),n.isNegative&&(ir&&(bi=ir),void 0!=oi&&(vt=oi)),df=f.min,gf=f.max,p<df&&ft<df||p>gf&&ft>gf||(k?("3d"==bt?(h=t-(ei/2-this.depthCount+1)*(y+ni)+ni/2+st*dt,v=e+it*dt,pt=dt):(h=Math.floor(t-(ei/2-dt)*(y+ni)+ni/2),v=e,pt=0),c=y,ri=i,ui=h+y/2,isNaN(e)||e>i&&!n.isNegative&&(ri=e),d=i,g=h+y/2,h+c>nt+pt*st&&(c=nt-h+pt*st),h<pt*st&&(c+=h,h=pt*st),tt=i-e,we=v,v=AmCharts.fitToBounds(v,0,b),tt+=we-v,tt=AmCharts.fitToBounds(tt,-v,b-v+it*dt),h<nt&&0<c&&(ht=new AmCharts.Cuboid(ot,tt,c,it-et.d3x,st-et.d3y,bi,lr,rt,vt,lt,eu,fu,k,gt,tu,pu,wr),n.columnWidth=Math.abs(tt),n.columnHeight=Math.abs(c))):("3d"==bt?(v=i-(ei/2-this.depthCount+1)*(y+ni)+ni/2+it*dt,h=u+st*dt,pt=dt):(v=i-(ei/2-dt)*(y+ni)+ni/2,h=u,pt=0),c=y,ri=v+y/2,ui=t,isNaN(u)||u<t&&!n.isNegative&&(ui=u),d=v+y/2,g=t,v+c>b+pt*it&&(c=b-v+pt*it),v<pt*it&&(c+=v-pt*it,v=pt*it),tt=t-u,be=h,h=AmCharts.fitToBounds(h,this.dy,nt),tt+=be-h,tt=AmCharts.fitToBounds(tt,-h+st*dt,nt-h),v<b+dt*it&&0<c&&(this.showOnAxis&&(h-=st/2),ht=new AmCharts.Cuboid(ot,c,tt,it-et.d3x,st-et.d3y,bi,lr,rt,vt,this.lineAlpha,eu,fu,k,gt,tu,pu,wr),n.columnHeight=Math.abs(tt),n.columnWidth=Math.abs(c)))),ht&&(kt=ht.set,AmCharts.setCN(et,ht.set,"graph-"+this.type),AmCharts.setCN(et,ht.set,"graph-"+this.id),n.className&&AmCharts.setCN(et,ht.set,n.className,!0),n.columnGraphics=kt,kt.translate(v,h),this.columnsSet.push(kt),(n.url||this.showHandOnHover)&&kt.setAttr("cursor","pointer"),!pi)&&("none"==bt&&(pr=k?(this.end+1-r)*yi-ai:yi*r+ai),"3d"==bt&&(k?(pr=(this.end+1-r)*yi-ai-1e3*this.depthCount,ri+=it*this.columnIndex,d+=it*this.columnIndex,n.y+=it*this.columnIndex):(pr=(yi-ai)*(r+1)+1e3*this.depthCount,ui+=st*this.columnIndex,g+=st*this.columnIndex,n.y+=st*this.columnIndex)),("regular"==bt||"100%"==bt)&&(pr=k?0<ii.value?(this.end+1-r)*yi+ai:(this.end+1-r)*yi-ai:0<ii.value?yi*r+ai:yi*r-ai),this.columnsArray.push({column:ht,depth:pr}),n.x=k?h+c/2:v+c/2,this.ownColumns.push(ht),this.animateColumns(ht,r,i,e,t,u),this.addListeners(kt,n)));break;case"candlestick":isNaN(ft)||isNaN(p)||(vt=fi,void 0!=n.lineColor&&(vt=n.lineColor),k?(h=t-y/2,v=e,c=y,h+c>nt&&(c=nt-h),0>h&&(c+=h,h=0),h<nt&&0<c)&&(p>ft?(ne=[i,or],te=[e,er]):(ne=[e,or],te=[i,er]),!isNaN(or)&&!isNaN(er)&&t<nt&&0<t&&(vr=AmCharts.line(ot,ne,[t,t],vt,lt,rt),iu=AmCharts.line(ot,te,[t,t],vt,lt,rt)),tt=i-e,ht=new AmCharts.Cuboid(ot,tt,c,it,st,bi,br,rt,vt,lt,eu,fu,k,gt,tu,pu,wr)):(v=i-y/2,h=u+rt/2,c=y,v+c>b&&(c=b-v),0>v&&(c+=v,v=0),tt=t-u,v<b&&0<c)&&(kf&&p>=ft&&(lr=0),ht=new AmCharts.Cuboid(ot,c,tt,it,st,bi,lr,rt,vt,lt,eu,fu,k,gt,tu,pu,wr),p>ft?(ie=[t,li],re=[u,ci]):(ie=[u,li],re=[t,ci]),!isNaN(li)&&!isNaN(ci)&&i<b&&0<i&&(vr=AmCharts.line(ot,[i,i],ie,vt,lt,rt),iu=AmCharts.line(ot,[i,i],re,vt,lt,rt),AmCharts.setCN(et,vr,this.bcn+"line-high"),n.className&&AmCharts.setCN(et,vr,n.className,!0),AmCharts.setCN(et,iu,this.bcn+"line-low"),n.className&&AmCharts.setCN(et,iu,n.className,!0))),ht&&(kt=ht.set,n.columnGraphics=kt,tr.push(kt),kt.translate(v,h-rt/2),(n.url||this.showHandOnHover)&&kt.setAttr("cursor","pointer"),vr&&(tr.push(vr),tr.push(iu)),ri=i,ui=t,k?(g=t,d=i,"open"==wt&&(d=e),"high"==wt&&(d=or),"low"==wt&&(d=er)):(g=t,"open"==wt&&(g=u),"high"==wt&&(g=li),"low"==wt&&(g=ci),d=i),pi||(n.x=k?h+c/2:v+c/2,this.animateColumns(ht,r,i,e,t,u),this.addListeners(kt,n))));break;case"ohlc":if(!(isNaN(ft)||isNaN(wf)||isNaN(bf)||isNaN(p))){if(ue=ot.set(),tr.push(ue),p<ft&&(n.isNegative=!0,void 0!=oi&&(fi=oi)),k){var ke=t-y/2,ke=AmCharts.fitToBounds(ke,0,nt),de=AmCharts.fitToBounds(t,0,nt),ge=t+y/2,ge=AmCharts.fitToBounds(ge,0,nt);du=AmCharts.line(ot,[e,e],[ke,de],fi,lt,rt,gt);0<t&&t<nt&&(ku=AmCharts.line(ot,[er,or],[t,t],fi,lt,rt,gt));gu=AmCharts.line(ot,[i,i],[de,ge],fi,lt,rt,gt);g=t;d=i;"open"==wt&&(d=e);"high"==wt&&(d=or);"low"==wt&&(d=er)}else{var no=i-y/2,no=AmCharts.fitToBounds(no,0,b),to=AmCharts.fitToBounds(i,0,b),io=i+y/2,io=AmCharts.fitToBounds(io,0,b);du=AmCharts.line(ot,[no,to],[u,u],fi,lt,rt,gt);0<i&&i<b&&(ku=AmCharts.line(ot,[i,i],[ci,li],fi,lt,rt,gt));gu=AmCharts.line(ot,[to,io],[t,t],fi,lt,rt,gt);g=t;"open"==wt&&(g=u);"high"==wt&&(g=li);"low"==wt&&(g=ci);d=i}tr.push(du);tr.push(ku);tr.push(gu);AmCharts.setCN(et,du,this.bcn+"stroke-open");AmCharts.setCN(et,gu,this.bcn+"stroke-close");AmCharts.setCN(et,ku,this.bcn+"stroke");n.className&&AmCharts.setCN(et,ue,n.className,!0);ri=i;ui=t}}if(!pi&&!isNaN(p)&&(fe=this.hideBulletsCount,(this.end-this.start<=fe||0===fe)&&(ee=this.createBullet(n,d,g,r),oe=this.labelText,oe&&ee&&(nf=this.createLabel(n,d,g,oe),(nf=this.positionLabel(ri,ui,nf,ee,c,tt))&&this.allBullets.push(nf)),("regular"==bt||"100%"==bt)&&(se=f.totalText,se)))){sr=this.createLabel(n,0,0,se,f.totalTextColor);this.allBullets.push(sr);var ro=sr.getBBox(),uo=ro.width,fo=ro.height,ru,uu,tf=f.totalTextOffset,eo=f.totals[r];eo&&eo.remove();yr=0;"column"!=w&&(yr=this.bulletSize);k?(uu=t,ru=0>p?i-uo/2-2-yr-tf:i+uo/2+3+yr+tf):(ru=i,uu=0>p?t+fo/2+yr+tf:t-fo/2-3-yr-tf);sr.translate(ru,uu);f.totals[r]=sr;k?(0>uu||uu>nt)&&sr.remove():(0>ru||ru>b)&&sr.remove()}}}("line"==w||"step"==w||"smoothedLine"==w)&&("smoothedLine"==w?this.drawSmoothedGraph(o,s,l,a):this.drawLineGraph(o,s,l,a),pi||this.launchAnimation());this.bulletsHidden&&this.hideBullets();this.customBulletsHidden&&this.hideCustomBullets()},animateColumns:function(n,t,i){var r=this;i=r.chart.startDuration;0<i&&!r.animationPlayed&&(r.seqAn?(n.set.hide(),r.animationArray.push(n),n=setTimeout(function(){r.animate.call(r)},i/(r.end-r.start+1)*(t-r.start)*1e3),r.timeOuts.push(n)):r.animate(n))},createLabel:function(n,t,i,r,u){var e=this.chart,f=n.labelColor,o;return f||(f=this.color),f||(f=e.color),u&&(f=u),u=this.fontSize,void 0===u&&(this.fontSize=u=e.fontSize),o=this.labelFunction,r=e.formatString(r,n),r=AmCharts.cleanFromEmpty(r),o&&(r=o(n,r)),n=AmCharts.text(this.container,r,f,e.fontFamily,u),n.node.style.pointerEvents="none",n.translate(t,i),this.bulletSet.push(n),n},positiveClip:function(n){n.clipRect(this.pmx,this.pmy,this.pmw,this.pmh)},negativeClip:function(n){n.clipRect(this.nmx,this.nmy,this.nmw,this.nmh)},drawLineGraph:function(n,t,i,r){var u=this,v,h,w;if(1<n.length){var a=u.set,c=u.chart,o=u.container,y=o.set(),p=o.set();a.push(p);a.push(y);var l=u.lineAlpha,f=u.lineThickness,a=u.fillAlphas,d=u.lineColorR,e=u.negativeLineAlpha;isNaN(e)&&(e=l);v=u.lineColorSwitched;v&&(d=v);v=u.fillColorsR;h=u.fillColorsSwitched;h&&(v=h);w=u.dashLength;(h=u.dashLengthSwitched)&&(w=h);var h=u.negativeLineColor,b=u.negativeFillColors,k=u.negativeFillAlphas,s=u.baseCoord;0!==u.negativeBase&&(s=u.valueAxis.getCoordinate(u.negativeBase));l=AmCharts.line(o,n,t,d,l,f,w,!1,!0);AmCharts.setCN(c,l,u.bcn+"stroke");y.push(l);y.click(function(n){u.handleGraphEvent(n,"clickGraph")}).mouseover(function(n){u.handleGraphEvent(n,"rollOverGraph")}).mouseout(function(n){u.handleGraphEvent(n,"rollOutGraph")});void 0===h||u.useNegativeColorIfDown||(f=AmCharts.line(o,n,t,h,e,f,w,!1,!0),AmCharts.setCN(c,f,u.bcn+"stroke"),AmCharts.setCN(c,f,u.bcn+"stroke-negative"),p.push(f));(0<a||0<k)&&(f=n.join(";").split(";"),e=t.join(";").split(";"),l=c.type,"serial"==l?0<i.length?(i.reverse(),r.reverse(),f=n.concat(i),e=t.concat(r)):u.rotate?(e.push(e[e.length-1]),f.push(s),e.push(e[0]),f.push(s),e.push(e[0]),f.push(f[0])):(f.push(f[f.length-1]),e.push(s),f.push(f[0]),e.push(s),f.push(n[0]),e.push(e[0])):"xy"==l&&(t=u.fillToAxis)&&(AmCharts.isString(t)&&(t=c.getValueAxisById(t)),"H"==t.orientation?(s="top"==t.position?0:t.viH,f.push(f[f.length-1]),e.push(s),f.push(f[0]),e.push(s),f.push(n[0]),e.push(e[0])):(s="left"==t.position?0:t.viW,e.push(e[e.length-1]),f.push(s),e.push(e[0]),f.push(s),e.push(e[0]),f.push(f[0]))),n=u.gradientRotation,0<a&&(t=AmCharts.polygon(o,f,e,v,a,1,"#000",0,n),t.pattern(u.pattern),AmCharts.setCN(c,t,u.bcn+"fill"),y.push(t)),b||void 0!==h)&&(isNaN(k)&&(k=a),b||(b=h),o=AmCharts.polygon(o,f,e,b,k,1,"#000",0,n),AmCharts.setCN(c,o,u.bcn+"fill"),AmCharts.setCN(c,o,u.bcn+"fill-negative"),o.pattern(u.pattern),p.push(o),p.click(function(n){u.handleGraphEvent(n,"clickGraph")}).mouseover(function(n){u.handleGraphEvent(n,"rollOverGraph")}).mouseout(function(n){u.handleGraphEvent(n,"rollOutGraph")}));u.applyMask(p,y)}},applyMask:function(n,t){var i=n.length();"serial"!=this.chart.type||this.scrollbar||(this.positiveClip(t),0<i&&this.negativeClip(n))},drawSmoothedGraph:function(n,t,i,r){if(1<n.length){var o=this.set,s=this.chart,h=this.container,l=h.set(),a=h.set();o.push(a);o.push(l);var f=this.lineAlpha,u=this.lineThickness,o=this.dashLength,b=this.fillAlphas,c=this.lineColorR,v=this.fillColorsR,y=this.negativeLineColor,p=this.negativeFillColors,k=this.negativeFillAlphas,w=this.baseCoord,e=this.lineColorSwitched;e&&(c=e);(e=this.fillColorsSwitched)&&(v=e);e=this.negativeLineAlpha;isNaN(e)&&(e=f);f=new AmCharts.Bezier(h,n,t,c,f,u,v,0,o);AmCharts.setCN(s,f,this.bcn+"stroke");l.push(f.path);void 0!==y&&(u=new AmCharts.Bezier(h,n,t,y,e,u,v,0,o),AmCharts.setCN(s,u,this.bcn+"stroke"),AmCharts.setCN(s,u,this.bcn+"stroke-negative"),a.push(u.path));0<b&&(f=n.join(";").split(";"),c=t.join(";").split(";"),u="",0<i.length?(i.push("M"),r.push("M"),i.reverse(),r.reverse(),f=n.concat(i),c=t.concat(r)):(this.rotate?(u+=" L"+w+","+t[t.length-1],u+=" L"+w+","+t[0]):(u+=" L"+n[n.length-1]+","+w,u+=" L"+n[0]+","+w),u+=" L"+n[0]+","+t[0]),i=new AmCharts.Bezier(h,f,c,NaN,0,0,v,b,o,u),AmCharts.setCN(s,i,this.bcn+"fill"),i.path.pattern(this.pattern),l.push(i.path),p||void 0!==y)&&(k||(k=b),p||(p=y),n=new AmCharts.Bezier(h,n,t,NaN,0,0,p,k,o,u),n.path.pattern(this.pattern),AmCharts.setCN(s,n,this.bcn+"fill"),AmCharts.setCN(s,n,this.bcn+"fill-negative"),a.push(n.path));this.applyMask(a,l)}},launchAnimation:function(){var n=this,t=n.chart.startDuration,i,r;0<t&&!n.animationPlayed&&(i=n.set,r=n.bulletSet,AmCharts.VML||(i.attr({opacity:n.startAlpha}),r.attr({opacity:n.startAlpha})),i.hide(),r.hide(),n.seqAn?(t=setTimeout(function(){n.animateGraphs.call(n)},n.index*t*1e3),n.timeOuts.push(t)):n.animateGraphs())},animateGraphs:function(){var n=this.chart,t=this.set,i=this.bulletSet,r=this.x,u=this.y,f;t.show();i.show();f=n.startDuration;n=n.startEffect;t&&(this.rotate?(t.translate(-1e3,u),i.translate(-1e3,u)):(t.translate(r,-1e3),i.translate(r,-1e3)),t.animate({opacity:1,translate:r+","+u},f,n),i.animate({opacity:1,translate:r+","+u},f,n))},animate:function(n){var i=this.chart,t=this.animationArray;!n&&0<t.length&&(n=t[0],t.shift());t=AmCharts[AmCharts.getEffect(i.startEffect)];i=i.startDuration;n&&(this.rotate?n.animateWidth(i,t):n.animateHeight(i,t),n.set.show())},legendKeyColor:function(){var t=this.legendColor,n=this.lineAlpha;return void 0===t&&(t=this.lineColorR,0===n&&(n=this.fillColorsR)&&(t="object"==typeof n?n[0]:n)),t},legendKeyAlpha:function(){var n=this.legendAlpha;return void 0===n&&(n=this.lineAlpha,this.fillAlphas>n&&(n=this.fillAlphas),0===n&&(n=this.bulletAlpha),0===n&&(n=1)),n},createBullet:function(n,t,i,r){var u,o,e,y;if(!isNaN(t)&&!isNaN(i)){r=this.chart;var s=this.container,h=this.bulletOffset,f=this.bulletSize;isNaN(n.bulletSize)||(f=n.bulletSize);var l=n.values.value,a=this.maxValue,c=this.minValue,v=this.maxBulletSize,o=this.minBulletSize;isNaN(a)||(isNaN(l)||(f=(l-c)/(a-c)*(v-o)+o),c==a&&(f=v));a=f;this.bulletAxis&&(f=n.values.error,isNaN(f)||(l=f),f=this.bulletAxis.stepWidth*l);f<this.minBulletSize&&(f=this.minBulletSize);this.rotate?t=n.isNegative?t-h:t+h:i=n.isNegative?i+h:i-h;o=this.bulletColorR;n.lineColor&&(this.bulletColorSwitched=n.lineColor);this.bulletColorSwitched&&(o=this.bulletColorSwitched);n.isNegative&&void 0!==this.bulletColorNegative&&(o=this.bulletColorNegative);void 0!==n.color&&(o=n.color);"xy"==r.type&&this.valueField&&(e=this.pattern,n.pattern&&(e=n.pattern));h=this.bullet;n.bullet&&(h=n.bullet);var l=this.bulletBorderThickness,c=this.bulletBorderColorR,v=this.bulletBorderAlpha,p=this.bulletAlpha;return c||(c=o),this.useLineColorForBulletBorder&&(c=this.lineColorR),y=n.alpha,isNaN(y)||(p=y),("none"!=this.bullet||n.bullet)&&(u=AmCharts.bullet(s,h,f,o,p,l,c,v,a,0,e)),(this.customBullet||n.customBullet)&&(e=this.customBullet,n.customBullet&&(e=n.customBullet),e&&(u&&u.remove(),"function"==typeof e?(u=new e,u.chart=r,n.bulletConfig&&(u.availableSpace=i,u.graph=this,u.graphDataItem=n,u.bulletY=i,n.bulletConfig.minCoord=this.minCoord-i,u.bulletConfig=n.bulletConfig),u.write(s),u=u.set):(r.path&&(e=r.path+e),u=s.set(),s=s.image(e,0,0,f,f),u.push(s),this.centerCustomBullets&&s.translate(-f/2,-f/2)))),u&&((n.url||this.showHandOnHover)&&u.setAttr("cursor","pointer"),("serial"==r.type||"gantt"==r.type)&&(-.5>+t||+t>this.width||i<-f/2||+i>this.height)&&(u.remove(),u=null),u&&(this.bulletSet.push(u),u.translate(t,i),this.addListeners(u,n),this.allBullets.push(u)),n.bx=t,n.by=i,AmCharts.setCN(r,u,this.bcn+"bullet"),n.className&&AmCharts.setCN(r,u,n.className,!0)),u?(u.size=f||0,n.bulletGraphics=u):u={size:0},u.graphDataItem=n,u}},showBullets:function(){var t=this.allBullets,n;for(this.bulletsHidden=!1,n=0;n<t.length;n++)t[n].show()},hideBullets:function(){var t=this.allBullets,n;for(this.bulletsHidden=!0,n=0;n<t.length;n++)t[n].hide()},showCustomBullets:function(){var t=this.allBullets,n;for(this.customBulletsHidden=!1,n=0;n<t.length;n++)t[n].graphDataItem.customBullet&&t[n].show()},hideCustomBullets:function(){var t=this.allBullets,n;for(this.customBulletsHidden=!0,n=0;n<t.length;n++)t[n].graphDataItem.customBullet&&t[n].hide()},addListeners:function(n,t){var i=this;n.mouseover(function(n){i.handleRollOver(t,n)}).mouseout(function(n){i.handleRollOut(t,n)}).touchend(function(n){i.handleRollOver(t,n);i.chart.panEventsEnabled&&i.handleClick(t,n)}).touchstart(function(n){i.handleRollOver(t,n)}).click(function(n){i.handleClick(t,n)}).dblclick(function(n){i.handleDoubleClick(t,n)}).contextmenu(function(n){i.handleRightClick(t,n)})},handleRollOver:function(n,t){var i,r,u,f,e;n&&(i=this.chart,r={type:"rollOverGraphItem",item:n,index:n.index,graph:this,target:this,chart:this.chart,event:t},this.fire("rollOverGraphItem",r),i.fire("rollOverGraphItem",r),clearTimeout(i.hoverInt),r=this.showBalloon,i.chartCursor&&("serial"==i.type||"gantt"==i.type)&&(r=!1,!i.chartCursor.valueBalloonsEnabled&&this.showBalloon&&(r=!0)),r&&(r=i.formatString(this.balloonText,n,!0),u=this.balloonFunction,u&&(r=u(n,n.graph)),r=AmCharts.cleanFromEmpty(r),u=i.getBalloonColor(this,n),i.balloon.showBullet=!1,i.balloon.pointerOrientation="V",f=n.x,e=n.y,i.rotate&&(f=n.y,e=n.x),i.showBalloon(r,u,!0,f+i.marginLeftReal,e+i.marginTopReal)));this.handleGraphEvent(t,"rollOverGraph")},handleRollOut:function(n,t){if(this.chart.hideBalloon(),n){var i={type:"rollOutGraphItem",item:n,index:n.index,graph:this,target:this,chart:this.chart,event:t};this.fire("rollOutGraphItem",i);this.chart.fire("rollOutGraphItem",i)}this.handleGraphEvent(t,"rollOutGraph")},handleClick:function(n,t){if(n){var i={type:"clickGraphItem",item:n,index:n.index,graph:this,target:this,chart:this.chart,event:t};this.fire("clickGraphItem",i);this.chart.fire("clickGraphItem",i);AmCharts.getURL(n.url,this.urlTarget)}this.handleGraphEvent(t,"clickGraph")},handleGraphEvent:function(n,t){var i={type:t,graph:this,target:this,chart:this.chart,event:n};this.fire(t,i);this.chart.fire(t,i)},handleRightClick:function(n,t){if(n){var i={type:"rightClickGraphItem",item:n,index:n.index,graph:this,target:this,chart:this.chart,event:t};this.fire("rightClickGraphItem",i);this.chart.fire("rightClickGraphItem",i)}},handleDoubleClick:function(n,t){if(n){var i={type:"doubleClickGraphItem",item:n,index:n.index,graph:this,target:this,chart:this.chart,event:t};this.fire("doubleClickGraphItem",i);this.chart.fire("doubleClickGraphItem",i)}},zoom:function(n,t){this.start=n;this.end=t;this.draw()},changeOpacity:function(n){var t=this.set,i,r;if(t&&t.setAttr("opacity",n),t=this.ownColumns)for(i=0;i<t.length;i++)r=t[i].set,r&&r.setAttr("opacity",n);(t=this.bulletSet)&&t.setAttr("opacity",n)},destroy:function(){var n,t;if(AmCharts.remove(this.set),AmCharts.remove(this.bulletSet),n=this.timeOuts,n)for(t=0;t<n.length;t++)clearTimeout(n[t]);this.timeOuts=[]}});AmCharts.ChartCursor=AmCharts.Class({construct:function(n){this.cname="ChartCursor";this.createEvents("changed","zoomed","onHideCursor","draw","selected","moved");this.enabled=!0;this.cursorAlpha=1;this.selectionAlpha=.2;this.cursorColor="#CC0000";this.categoryBalloonAlpha=1;this.color="#FFFFFF";this.type="cursor";this.zoomed=!1;this.zoomable=!0;this.pan=!1;this.categoryBalloonDateFormat="MMM DD, YYYY";this.categoryBalloonEnabled=this.valueBalloonsEnabled=!0;this.rolledOver=!1;this.cursorPosition="middle";this.bulletsEnabled=this.skipZoomDispatch=!1;this.bulletSize=8;this.selectWithoutZooming=this.oneBalloonOnly=!1;this.graphBulletSize=1.7;this.animationDuration=.3;this.zooming=!1;this.adjustment=0;this.avoidBalloonOverlapping=!0;this.leaveCursor=!1;AmCharts.applyTheme(this,n,this.cname)},draw:function(){var n=this,r,t,i;if(n.destroy(),r=n.chart,t=r.container,n.rotate=r.rotate,n.container=t,t=t.set(),t.translate(n.x,n.y),n.set=t,r.cursorSet.push(t),t=new AmCharts.AmBalloon,t.className="category",t.chart=r,n.categoryBalloon=t,AmCharts.copyProperties(r.balloon,t),t.cornerRadius=0,t.shadowAlpha=0,t.borderThickness=1,t.borderAlpha=1,t.showBullet=!1,i=n.categoryBalloonColor,void 0===i&&(i=n.cursorColor),t.fillColor=i,t.balloonColor=i,t.fillAlpha=n.categoryBalloonAlpha,t.borderColor=i,t.color=n.color,i=n.valueLineAxis,AmCharts.isString(i)&&(i=r.getValueAxisById(i)),i||(i=r.valueAxes[0]),n.valueLineAxis=i,n.valueLineBalloonEnabled&&(i=new AmCharts.AmBalloon,n.vaBalloon=i,AmCharts.copyProperties(t,i),i.animationDuration=0,n.rotate||(i.pointerOrientation="H")),n.rotate&&(t.pointerOrientation="H"),n.extraWidth=0,n.prevX=[],n.prevY=[],n.prevTX=[],n.prevTY=[],n.valueBalloonsEnabled)for(t=0;t<r.graphs.length;t++)i=new AmCharts.AmBalloon,i.className=r.graphs[t].id,i.chart=r,AmCharts.copyProperties(r.balloon,i),r.graphs[t].valueBalloon=i;"cursor"==n.type?n.createCursor():n.createCrosshair();n.interval=setInterval(function(){n.detectMovement.call(n)},40)},updateData:function(){var n=this.chart;this.data=n.chartData;this.firstTime=n.firstTime;this.lastTime=n.lastTime},createCursor:function(){var t=this.chart,u=this.cursorAlpha,s=t.categoryAxis,h=this.categoryBalloon,n,f,i,r;i=t.dx;r=t.dy;var e=this.width,c=this.height,o=t.rotate;h.pointerWidth=s.tickLength;o?(n=[0,e,e+i],f=[0,0,r],i=[i,0,0],r=[r,0,c]):(n=[i,0,0],f=[r,0,c],i=[0,e,e+i],r=[0,0,r]);n=AmCharts.line(this.container,n,f,this.cursorColor,u,1);AmCharts.setCN(t,n,"cursor-line");this.line=n;(f=this.fullRectSet)?(f.push(n),f.translate(this.x,this.y)):this.set.push(n);this.valueLineEnabled&&(n=this.valueLineAlpha,isNaN(n)||(u=n),u=AmCharts.line(this.container,i,r,this.cursorColor,u,1),AmCharts.setCN(t,u,"cursor-value-line"),this.vLine=u,this.set.push(u));this.setBalloonBounds(h,s,o);(t=this.vaBalloon)&&this.setBalloonBounds(t,this.valueLineAxis,!o);this.hideCursor()},createCrosshair:function(){var n=this.cursorAlpha,i=this.container,t=AmCharts.line(i,[0,0],[0,this.height],this.cursorColor,n,1),n=AmCharts.line(i,[0,this.width],[0,0],this.cursorColor,n,1);AmCharts.setCN(this.chart,t,"cursor-line");AmCharts.setCN(this.chart,n,"cursor-line");this.set.push(t);this.set.push(n);this.vLine=t;this.hLine=n;this.hideCursor()},detectMovement:function(){var n=this.chart,t,i;n.mouseIsOver?(t=n.mouseX-this.x,i=n.mouseY-this.y,-.5<t&&t<this.width+1&&0<i&&i<this.height?(this.drawing?this.rolledOver||n.setMouseCursor("crosshair"):this.pan&&(this.rolledOver||n.setMouseCursor("move")),this.rolledOver=!0,(this.valueLineEnabled||this.valueLineBalloonEnabled)&&this.updateVLine(t,i),this.setPosition()):this.rolledOver&&(this.handleMouseOut(),this.rolledOver=!1)):this.rolledOver&&(this.handleMouseOut(),this.rolledOver=!1)},updateVLine:function(n,t){var i=this.vLine,f=this.vaBalloon,r,u,e,o;!(i||f)||this.panning||this.drawing||(i&&i.show(),r=this.valueLineAxis,e=this.rotate,e?(i&&i.translate(n,0),r&&(u=r.coordinateToValue(n)),i=n):(i&&i.translate(0,t),r&&(u=r.coordinateToValue(t)),i=t-1),f&&!isNaN(u)&&this.prevLineValue!=u&&(o=r.formatValue(u,!0),this.setBalloonPosition(f,r,i,!e),f.showBalloon(o)),this.prevLineValue=u)},getMousePosition:function(){var n,t=this.width,i=this.height;return n=this.chart,this.rotate?(n=n.mouseY-this.y,0>n&&(n=0),n>i&&(n=i)):(n=n.mouseX-this.x-1,0>n&&(n=0),n>t&&(n=t)),n},updateCrosshair:function(){var n=this.chart,t=n.mouseX-this.x,i=n.mouseY-this.y,r=this.vLine,u=this.hLine,t=AmCharts.fitToBounds(t,0,this.width),i=AmCharts.fitToBounds(i,0,this.height);0<this.cursorAlpha&&(r.show(),u.show(),r.translate(t,0),u.translate(0,i));this.zooming&&(n.hideXScrollbar&&(t=NaN),n.hideYScrollbar&&(i=NaN),this.updateSelectionSize(t,i));this.fireMoved();n.mouseIsOver||this.zooming||this.hideCursor()},fireMoved:function(){var t=this.chart,n={type:"moved",target:this};n.chart=t;n.zooming=this.zooming;n.x=t.mouseX-this.x;n.y=t.mouseY-this.y;this.fire("moved",n)},updateSelectionSize:function(n,t){AmCharts.remove(this.selection);var i=this.selectionPosX,r=this.selectionPosY,e=0,o=0,u=this.width,f=this.height;isNaN(n)||(i>n&&(e=n,u=i-n),i<n&&(e=i,u=n-i),i==n&&(e=n,u=0),u+=this.extraWidth,e-=this.extraWidth/2);isNaN(t)||(r>t&&(o=t,f=r-t),r<t&&(o=r,f=t-r),r==t&&(o=t,f=0),f+=this.extraWidth,o-=this.extraWidth/2);0<u&&0<f&&(i=AmCharts.rect(this.container,u,f,this.cursorColor,this.selectionAlpha),AmCharts.setCN(this.chart,i,"cursor-selection"),i.translate(e+this.x,o+this.y),this.selection=i)},arrangeBalloons:function(){var i=this.valueBalloons,r=this.x,u=this.y,f=this.height+u,n,t;for(i.sort(this.compareY),n=0;n<i.length;n++)t=i[n].balloon,t.setBounds(r,u,r+this.width,f),t.prevX=this.prevX[n],t.prevY=this.prevY[n],t.prevTX=this.prevTX[n],t.prevTY=this.prevTY[n],t.draw(),f=t.yPos-3;this.arrangeBalloons2()},compareY:function(n,t){return n.yy<t.yy?1:-1},arrangeBalloons2:function(){var u=this.valueBalloons,s,f,r,i,e,n,o,t;for(u.reverse(),f=this.x,e=u.length,i=0;i<e;i++)n=u[i].balloon,s=n.bottom,o=n.bottom-n.yPos,t=e-i-1,0<i&&s-o<r+3&&(n.setBounds(f,r+3,f+this.width,r+o+3),n.prevX=this.prevX[t],n.prevY=this.prevY[t],n.prevTX=this.prevTX[t],n.prevTY=this.prevTY[t],n.draw()),n.set&&n.set.show(),this.prevX[t]=n.prevX,this.prevY[t]=n.prevY,this.prevTX[t]=n.prevTX,this.prevTY[t]=n.prevTY,r=n.bottom},showBullets:function(){var f,t,r,n,u,i,e,o;for(AmCharts.remove(this.allBullets),f=this.container,t=f.set(),this.set.push(t),this.set.show(),this.allBullets=t,t=this.chart.graphs,r=0;r<t.length;r++)n=t[r],!n.hidden&&n.balloonText&&(u=this.data[this.index].axes[n.valueAxis.id].graphs[n.id],i=u.y,isNaN(i)||(e=u.x,this.rotate?(o=i,i=e):o=e,n=AmCharts.circle(f,this.bulletSize/2,this.chart.getBalloonColor(n,u,!0),n.cursorBulletAlpha),n.translate(o,i),this.allBullets.push(n)))},destroy:function(){this.clear();AmCharts.remove(this.selection);this.selection=null;var n=this.categoryBalloon;n&&n.destroy();(n=this.vaBalloon)&&n.destroy();this.destroyValueBalloons();AmCharts.remove(this.set)},clear:function(){clearInterval(this.interval)},destroyValueBalloons:function(){var t=this.valueBalloons,n;if(t)for(n=0;n<t.length;n++)t[n].balloon.hide()},zoom:function(n,t,i,r){var u=this.chart,f,e;this.destroyValueBalloons();this.zooming=!1;this.rotate?this.selectionPosY=f=u.mouseY:this.selectionPosX=f=u.mouseX;this.start=n;this.end=t;this.startTime=i;this.endTime=r;this.zoomed=!0;r=u.categoryAxis;f=this.rotate;t=this.width;i=this.height;n=r.stepWidth;this.fullWidth&&(e=1,r.parseDates&&!r.equalSpacing&&(e=r.minDuration()),f?this.extraWidth=i=n*e:(this.extraWidth=t=n*e,this.categoryBalloon.minWidth=t),this.line&&this.line.remove(),this.line=AmCharts.rect(this.container,t,i,this.cursorColor,this.cursorAlpha,0),AmCharts.setCN(u,this.line,"cursor-fill"),this.fullRectSet&&this.fullRectSet.push(this.line));this.stepWidth=n;this.tempVal=this.valueBalloonsEnabled;this.valueBalloonsEnabled=!1;this.setPosition();this.valueBalloonsEnabled=this.tempVal;this.hideCursor()},hideObj:function(n){n&&n.hide()},hideCursor:function(n){void 0===n&&(n=!0);this.leaveCursor||(this.hideObj(this.set),this.hideObj(this.categoryBalloon),this.hideObj(this.line),this.hideObj(this.vLine),this.hideObj(this.hLine),this.hideObj(this.vaBalloon),this.hideObj(this.allBullets),this.destroyValueBalloons(),this.selectWithoutZooming||AmCharts.remove(this.selection),this.previousIndex=NaN,n&&this.fire("onHideCursor",{type:"onHideCursor",chart:this.chart,target:this}),this.drawing||this.chart.setMouseCursor("auto"),this.normalizeBulletSize())},setPosition:function(n,t,i){void 0===t&&(t=!0);"cursor"==this.type?(this.tempPosition=NaN,AmCharts.ifArray(this.data))&&(isNaN(n)&&(n=this.getMousePosition()),(n!=this.previousMousePosition||!0===this.zoomed||this.oneBalloonOnly)&&!isNaN(n)&&("mouse"==this.cursorPosition&&(this.tempPosition=n),isNaN(i)&&(i=this.chart.categoryAxis.xToIndex(n)),i!=this.previousIndex||this.zoomed||"mouse"==this.cursorPosition||this.oneBalloonOnly)&&(this.updateCursor(i,t),this.zoomed=!1),this.previousMousePosition=n):this.updateCrosshair()},normalizeBulletSize:function(){var r=this.resizedBullets,i,n,t;if(r)for(i=0;i<r.length;i++)n=r[i],t=n.bulletGraphics,t&&(t.translate(n.bx,n.by,1),n=n.graph,isNaN(this.graphBulletAlpha)||(t.setAttr("fill-opacity",n.bulletAlpha),t.setAttr("stroke-opacity",n.bulletBorderAlpha)))},updateCursor:function(n,t){var c=this.chart,a=this.fullWidth,h=c.mouseX-this.x,d=c.mouseY-this.y,l;if(this.drawingNow&&(AmCharts.remove(this.drawingLine),this.drawingLine=AmCharts.line(this.container,[this.x+this.drawStartX,this.x+h],[this.y+this.drawStartY,this.y+d],this.cursorColor,1,1)),this.enabled){void 0===t&&(t=!0);this.index=n+=this.adjustment;var f=c.categoryAxis,o=c.dx,u=c.dy,nt=this.x+1,rt=this.y+1,tt=this.width,it=this.height,p=this.data[n];if(this.fireMoved(),p){var r=p.x[f.id],v=c.rotate,w=this.stepWidth,s=this.categoryBalloon,i=this.firstTime,e=this.lastTime,b=this.cursorPosition,y=this.zooming,ut=this.panning,g=c.graphs;if(c.mouseIsOver||y||ut||this.forceShow)if(this.forceShow=!1,ut){var o=this.panClickPos,c=this.panClickEndTime,y=this.panClickStartTime,k=this.panClickEnd,nt=this.panClickStart,h=(v?o-d:o-h)/w;(!f.parseDates||f.equalSpacing)&&(h=Math.round(h));0!==h&&(o={type:"zoomed",target:this},o.chart=this.chart,f.parseDates&&!f.equalSpacing?(c+h>e&&(h=e-c),y+h<i&&(h=i-y),o.start=Math.round(y+h),o.end=Math.round(c+h),this.fire(o.type,o)):k+h>=this.data.length||0>nt+h||(o.start=nt+h,o.end=k+h,this.fire(o.type,o)))}else{if("start"==b?r-=f.cellWidth/2:"mouse"==b&&(c.mouseIsOver?r=v?d-2:h-2:isNaN(this.tempPosition)||(r=this.tempPosition-2)),v){if(0>r)if(y)r=0;else{this.hideCursor();return}if(r>it+1)if(y)r=it+1;else{this.hideCursor();return}}else{if(0>r)if(y)r=0;else{this.hideCursor();return}if(r>tt)if(y)r=tt;else{this.hideCursor();return}}if(0<this.cursorAlpha&&(l=this.line,v?(i=0,e=r+u,a&&(e-=f.cellWidth/2)):(i=r,e=0,a&&(i-=f.cellWidth/2)),w=this.animationDuration,0<w&&!this.zooming?isNaN(this.previousX)?l.translate(i,e):(l.translate(this.previousX,this.previousY),l.animate({translate:i+","+e},w,"easeOutSine")):l.translate(i,e),this.previousX=i,this.previousY=e,l.show()),this.linePos=v?r+u:r,y&&(a&&l.hide(),v?this.updateSelectionSize(NaN,r):this.updateSelectionSize(r,NaN)),w=!0,y&&(w=!1),this.categoryBalloonEnabled&&w?(this.setBalloonPosition(s,f,r,v),(i=this.categoryBalloonFunction)?s.showBalloon(i(p.category)):f.parseDates?(f=AmCharts.formatDate(p.category,this.categoryBalloonDateFormat,c),-1!=f.indexOf("fff")&&(f=AmCharts.formatMilliseconds(f,p.category)),s.showBalloon(f)):s.showBalloon(AmCharts.fixNewLines(p.category))):s.hide(),g&&this.bulletsEnabled&&this.showBullets(),this.oneBalloonOnly){for(r=Infinity,f=0;f<g.length;f++)i=g[f],i.showBalloon&&!i.hidden&&i.balloonText&&(e=p.axes[i.valueAxis.id].graphs[i.id],s=e.y,isNaN(s)||(v?Math.abs(h-s)<r&&(r=Math.abs(h-s),k=i):Math.abs(d-s)<r&&(r=Math.abs(d-s),k=i)));this.mostCloseGraph&&(k=this.mostCloseGraph)}if((n!=this.previousIndex||k!=this.previousMostCloseGraph)&&(this.normalizeBulletSize(),this.destroyValueBalloons(),this.resizedBullets=[],g&&this.valueBalloonsEnabled&&w&&c.balloon.enabled)){for(this.valueBalloons=w=[],f=0;f<g.length;f++)if(i=g[f],s=NaN,(!this.oneBalloonOnly||i==k)&&i.showBalloon&&!i.hidden&&i.balloonText&&("step"==i.type&&"left"==i.stepDirection&&(p=this.data[n+1]),p)){if((e=p.axes[i.valueAxis.id].graphs[i.id])&&(s=e.y),this.showNextAvailable&&isNaN(s)&&n+1<this.data.length)for(r=n+1;r<this.data.length;r++)if((a=this.data[r])&&(e=a.axes[i.valueAxis.id].graphs[i.id],s=e.y,!isNaN(s)))break;isNaN(s)||(a=e.x,u=!0,v?(r=s,0>a||a>it)&&(u=!1):(r=a,a=s,0>r||r>tt+o+1)&&(u=!1),u&&(u=this.graphBulletSize,l=this.graphBulletAlpha,1==u&&isNaN(l)||!AmCharts.isModern||!(b=e.bulletGraphics)||(b.getBBox(),b.translate(e.bx,e.by,u),this.resizedBullets.push(e),isNaN(l)||(b.setAttr("fill-opacity",l),b.setAttr("stroke-opacity",l))),u=i.valueBalloon,l=c.getBalloonColor(i,e),u.setBounds(nt,rt,nt+tt,rt+it),u.pointerOrientation="H",b=this.balloonPointerOrientation,"vertical"==b&&(u.pointerOrientation="V"),"horizontal"==b&&(u.pointerOrientation="H"),u.changeColor(l),void 0!==i.balloonAlpha&&(u.fillAlpha=i.balloonAlpha),void 0!==i.balloonTextColor&&(u.color=i.balloonTextColor),u.setPosition(r+nt,a+rt),r=c.formatString(i.balloonText,e,!0),(a=i.balloonFunction)&&(r=a(e,i).toString()),""!==r&&(v?u.showBalloon(r):(u.text=r,u.show=!0),w.push({yy:s,balloon:u})),!v&&u.set&&(u.set.hide(),i=u.textDiv)&&(i.style.visibility="hidden")))}this.avoidBalloonOverlapping&&this.arrangeBalloons()}t?(o={type:"changed"},o.index=n,o.chart=this.chart,o.zooming=y,o.mostCloseGraph=k,o.position=v?d:h,o.target=this,c.fire("changed",o),this.fire("changed",o),this.skipZoomDispatch=!1):(this.skipZoomDispatch=!0,c.updateLegendValues(n));this.previousIndex=n;this.previousMostCloseGraph=k}}}else this.hideCursor()},setBalloonPosition:function(n,t,i,r){var c=t.position,s=t.inside;t=t.axisThickness;var e=this.chart,o=e.dx,e=e.dy,u=this.x,f=this.y,h=this.width,l=this.height;r?(s&&("right"==c?n.setBounds(u,f+e,u+h+o,f+i+e):n.setBounds(u,f+e,u+h+o,f+i)),"right"==c?s?n.setPosition(u+h+o,f+i+e):n.setPosition(u+h+o+t,f+i+e):s?n.setPosition(u,f+i):n.setPosition(u-t,f+i)):"top"==c?s?n.setPosition(u+i+o,f+e):n.setPosition(u+i+o,f+e-t+1):s?n.setPosition(u+i,f+l):n.setPosition(u+i,f+l+t-1)},setBalloonBounds:function(n,t,i){var a=t.position,c=t.inside,l=t.axisThickness,s=t.tickLength,e=this.chart,h=e.dx,e=e.dy,r=this.x,u=this.y,f=this.width,o=this.height;i?(c&&(n.pointerWidth=0),"right"==a?c?n.setBounds(r,u+e,r+f+h,u+o+e):n.setBounds(r+f+h+l,u+e,r+f+1e3,u+o+e):c?n.setBounds(r,u,f+r,o+u):n.setBounds(-1e3,-1e3,r-s-l,u+o+15)):(n.maxWidth=f,t.parseDates&&(s=0,n.pointerWidth=0),"top"==a?c?n.setBounds(r+h,u+e,f+h+r,o+u):n.setBounds(r+h,-1e3,f+h+r,u+e-s-l):c?n.setBounds(r,u,f+r,o+u-s):n.setBounds(r,u+o+s+l-1,r+f,u+o+s+l))},enableDrawing:function(n){this.enabled=!n;this.hideCursor();this.rolledOver=!1;this.drawing=n},isZooming:function(n){n&&n!=this.zooming&&this.handleMouseDown("fake");n||n==this.zooming||this.handleMouseUp()},handleMouseOut:function(){if(this.enabled)if(this.zooming)this.setPosition();else{this.index=void 0;var n={type:"changed",index:void 0,target:this};n.chart=this.chart;this.fire("changed",n);this.hideCursor()}},handleReleaseOutside:function(){this.handleMouseUp()},handleMouseUp:function(){var r=this.chart,u=this.data,n,i,t,f,e,o;r&&(i=r.mouseX-this.x,t=r.mouseY-this.y,this.drawingNow&&(this.drawingNow=!1,AmCharts.remove(this.drawingLine),n=this.drawStartX,f=this.drawStartY,(2<Math.abs(n-i)||2<Math.abs(f-t))&&(n={type:"draw",target:this,chart:r,initialX:n,initialY:f,finalX:i,finalY:t},this.fire(n.type,n))),this.enabled&&0<u.length&&(this.pan?this.rolledOver=!1:this.zoomable&&this.zooming&&(n=this.selectWithoutZooming?{type:"selected"}:{type:"zoomed"},n.target=this,n.chart=r,"cursor"==this.type?(this.rotate?this.selectionPosY=t:this.selectionPosX=t=i,4>Math.abs(t-this.initialMouse)&&this.fromIndex==this.index||(this.index<this.fromIndex?(n.end=this.fromIndex,n.start=this.index):(n.end=this.index,n.start=this.fromIndex),t=r.categoryAxis,t.parseDates&&!t.equalSpacing&&(u[n.start]&&(n.start=u[n.start].time),u[n.end]&&(n.end=r.getEndTime(u[n.end].time))),this.skipZoomDispatch||this.fire(n.type,n))):(e=this.initialMouseX,o=this.initialMouseY,3>Math.abs(i-e)&&3>Math.abs(t-o)||(u=Math.min(e,i),f=Math.min(o,t),i=Math.abs(e-i),t=Math.abs(o-t),r.hideXScrollbar&&(u=0,i=this.width),r.hideYScrollbar&&(f=0,t=this.height),n.selectionHeight=t,n.selectionWidth=i,n.selectionY=f,n.selectionX=u,this.skipZoomDispatch||this.fire(n.type,n))),this.selectWithoutZooming||AmCharts.remove(this.selection)),this.skipZoomDispatch=!1));this.panning=this.zooming=!1},showCursorAt:function(n){var t=this.chart.categoryAxis;n=t.parseDates?t.dateToCoordinate(n):t.categoryToCoordinate(n);this.previousMousePosition=NaN;this.forceShow=!0;this.setPosition(n,!1)},clearSelection:function(){AmCharts.remove(this.selection)},handleMouseDown:function(n){if(this.zoomable||this.pan||this.drawing){var u=this.rotate,r=this.chart,t=r.mouseX-this.x,i=r.mouseY-this.y;(0<t&&t<this.width&&0<i&&i<this.height||"fake"==n)&&(this.setPosition(),this.selectWithoutZooming&&AmCharts.remove(this.selection),this.drawing?(this.drawStartY=i,this.drawStartX=t,this.drawingNow=!0):this.pan?(this.zoomable=!1,r.setMouseCursor("move"),this.panning=!0,this.panClickPos=u?i:t,this.panClickStart=this.start,this.panClickEnd=this.end,this.panClickStartTime=this.startTime,this.panClickEndTime=this.endTime):this.zoomable&&("cursor"==this.type?(this.fromIndex=this.index,u?(this.initialMouse=i,this.selectionPosY=this.linePos):(this.initialMouse=t,this.selectionPosX=this.linePos)):(this.initialMouseX=t,this.initialMouseY=i,this.selectionPosX=t,this.selectionPosY=i),this.zooming=!0))}}});AmCharts.SimpleChartScrollbar=AmCharts.Class({construct:function(n){this.createEvents("zoomed");this.backgroundColor="#D4D4D4";this.backgroundAlpha=1;this.selectedBackgroundColor="#EFEFEF";this.scrollDuration=this.selectedBackgroundAlpha=1;this.resizeEnabled=!0;this.hideResizeGrips=!1;this.scrollbarHeight=20;this.updateOnReleaseOnly=!1;9>document.documentMode&&(this.updateOnReleaseOnly=!0);this.dragIconHeight=this.dragIconWidth=35;this.dragIcon="dragIconRoundBig";AmCharts.applyTheme(this,n,"SimpleChartScrollbar")},draw:function(){var n=this,t,o,i,s,h,c,l;if(n.destroy(),n.enabled){n.interval=setInterval(function(){n.updateScrollbar.call(n)},40);var r=n.chart.container,f=n.rotate,e=n.chart,u=r.set();n.set=u;e.scrollbarsSet.push(u);f?(t=n.scrollbarHeight,o=e.plotAreaHeight):(o=n.scrollbarHeight,t=e.plotAreaWidth);n.width=t;(n.height=o)&&t&&(i=AmCharts.rect(r,t,o,n.backgroundColor,n.backgroundAlpha,1,n.backgroundColor,n.backgroundAlpha),AmCharts.setCN(e,i,"scrollbar-bg"),n.bg=i,u.push(i),i=AmCharts.rect(r,t,o,"#000",.005),u.push(i),n.invisibleBg=i,i.click(function(){n.handleBgClick()}).mouseover(function(){n.handleMouseOver()}).mouseout(function(){n.handleMouseOut()}).touchend(function(){n.handleBgClick()}),i=AmCharts.rect(r,t,o,n.selectedBackgroundColor,n.selectedBackgroundAlpha),AmCharts.setCN(e,i,"scrollbar-bg-selected"),n.selectedBG=i,u.push(i),t=AmCharts.rect(r,t,o,"#000",.005),n.dragger=t,u.push(t),t.mousedown(function(t){n.handleDragStart(t)}).mouseup(function(){n.handleDragStop()}).mouseover(function(){n.handleDraggerOver()}).mouseout(function(){n.handleMouseOut()}).touchstart(function(t){n.handleDragStart(t)}).touchend(function(){n.handleDragStop()}),t=e.pathToImages,f?(i=t+n.dragIcon+"H.png",t=n.dragIconWidth,f=n.dragIconHeight):(i=t+n.dragIcon+".png",f=n.dragIconWidth,t=n.dragIconHeight),o=r.image(i,0,0,f,t),AmCharts.setCN(e,o,"scrollbar-grip-left"),i=r.image(i,0,0,f,t),AmCharts.setCN(e,i,"scrollbar-grip-right"),s=10,h=20,e.panEventsEnabled&&(s=25,h=n.scrollbarHeight),c=AmCharts.rect(r,s,h,"#000",.005),l=AmCharts.rect(r,s,h,"#000",.005),l.translate(-(s-f)/2,-(h-t)/2),c.translate(-(s-f)/2,-(h-t)/2),f=r.set([o,l]),r=r.set([i,c]),n.iconLeft=f,u.push(n.iconLeft),n.iconRight=r,u.push(r),f.mousedown(function(){n.leftDragStart()}).mouseup(function(){n.leftDragStop()}).mouseover(function(){n.iconRollOver()}).mouseout(function(){n.iconRollOut()}).touchstart(function(){n.leftDragStart()}).touchend(function(){n.leftDragStop()}),r.mousedown(function(){n.rightDragStart()}).mouseup(function(){n.rightDragStop()}).mouseover(function(){n.iconRollOver()}).mouseout(function(){n.iconRollOut()}).touchstart(function(){n.rightDragStart()}).touchend(function(){n.rightDragStop()}),AmCharts.ifArray(e.chartData)?u.show():u.hide(),n.hideDragIcons(),n.clipDragger(!1));u.translate(n.x,n.y);u.node.style.msTouchAction="none"}},updateScrollbarSize:function(n,t){n=Math.round(n);t=Math.round(t);var i=this.dragger,r,u,f,e;this.rotate?(r=0,u=n,f=this.width+1,e=t-n,i.setAttr("height",t-n),i.setAttr("y",u)):(r=n,u=0,f=t-n,e=this.height+1,i.setAttr("width",t-n),i.setAttr("x",r));this.clipAndUpdate(r,u,f,e)},updateScrollbar:function(){var n,c=!1,r,t,f=this.x,e=this.y,u=this.dragger,o=this.getDBox();if(o){r=o.x+f;t=o.y+e;var l=o.width,o=o.height,a=this.rotate,i=this.chart,s=this.width,h=this.height,v=i.mouseX,y=i.mouseY;n=this.initialMouse;this.forceClip&&this.clipDragger(!0);i.mouseIsOver&&(this.dragging&&(i=this.initialCoord,a?(n=i+(y-n),0>n&&(n=0),i=h-o,n>i&&(n=i),u.setAttr("y",n)):(n=i+(v-n),0>n&&(n=0),i=s-l,n>i&&(n=i),u.setAttr("x",n)),this.clipDragger(!0)),this.resizingRight&&(a?(n=y-t,n+t>h+e&&(n=h-t+e),0>n?(this.resizingRight=!1,c=this.resizingLeft=!0):(0===n&&(n=.1),u.setAttr("height",n))):(n=v-r,n+r>s+f&&(n=s-r+f),0>n?(this.resizingRight=!1,c=this.resizingLeft=!0):(0===n&&(n=.1),u.setAttr("width",n))),this.clipDragger(!0)),this.resizingLeft&&(a?(r=t,t=y,t<e&&(t=e),t>h+e&&(t=h+e),n=!0===c?r-t:o+r-t,0>n?(this.resizingRight=!0,this.resizingLeft=!1,u.setAttr("y",r+o-e)):(0===n&&(n=.1),u.setAttr("y",t-e),u.setAttr("height",n))):(t=v,t<f&&(t=f),t>s+f&&(t=s+f),n=!0===c?r-t:l+r-t,0>n?(this.resizingRight=!0,this.resizingLeft=!1,u.setAttr("x",r+l-f)):(0===n&&(n=.1),u.setAttr("x",t-f),u.setAttr("width",n))),this.clipDragger(!0)))}},stopForceClip:function(){this.forceClip=!1},clipDragger:function(n){var t=this.getDBox();if(t){var i=t.x,r=t.y,u=t.width,t=t.height,f=!1;this.rotate?(i=0,u=this.width+1,this.clipY!=r||this.clipH!=t)&&(f=!0):(r=0,t=this.height+1,this.clipX!=i||this.clipW!=u)&&(f=!0);f&&(this.clipAndUpdate(i,r,u,t),n&&(this.updateOnReleaseOnly||this.dispatchScrollbarEvent()))}},maskGraphs:function(){},clipAndUpdate:function(n,t,i,r){this.clipX=n;this.clipY=t;this.clipW=i;this.clipH=r;this.selectedBG.clipRect(n,t,i,r);this.updateDragIconPositions();this.maskGraphs(n,t,i,r)},dispatchScrollbarEvent:function(){var n;if(this.skipEvent)this.skipEvent=!1;else{n=this.chart;n.hideBalloon();var t=this.getDBox(),r=t.x,u=t.y,i=t.width,t=t.height;this.rotate?(r=u,i=this.height/t):i=this.width/i;n={type:"zoomed",position:r,chart:n,target:this,multiplier:i};this.fire(n.type,n)}},updateDragIconPositions:function(){var i=this.getDBox(),u=i.x,f=i.y,e=this.iconLeft,o=this.iconRight,n,t,r=this.scrollbarHeight;this.rotate?(n=this.dragIconWidth,t=this.dragIconHeight,e.translate((r-t)/2,f-n/2),o.translate((r-t)/2,f+i.height-n/2)):(n=this.dragIconHeight,t=this.dragIconWidth,e.translate(u-t/2,(r-n)/2),o.translate(u-t/2+i.width,(r-n)/2))},showDragIcons:function(){this.resizeEnabled&&(this.iconLeft.show(),this.iconRight.show())},hideDragIcons:function(){this.resizingLeft||this.resizingRight||this.dragging||((this.hideResizeGrips||!this.resizeEnabled)&&(this.iconLeft.hide(),this.iconRight.hide()),this.removeCursors())},removeCursors:function(){this.chart.setMouseCursor("auto")},relativeZoom:function(n,t){this.enabled&&(this.dragger.stop(),this.multiplier=n,this.position=t,this.updateScrollbarSize(t,this.rotate?t+this.height/n:t+this.width/n))},destroy:function(){this.clear();AmCharts.remove(this.set);AmCharts.remove(this.iconRight);AmCharts.remove(this.iconLeft)},clear:function(){clearInterval(this.interval)},handleDragStart:function(){var n,t;this.enabled&&(n=this.chart,this.dragger.stop(),this.removeCursors(),this.dragging=!0,t=this.getDBox(),this.rotate?(this.initialCoord=t.y,this.initialMouse=n.mouseY):(this.initialCoord=t.x,this.initialMouse=n.mouseX))},handleDragStop:function(){this.updateOnReleaseOnly&&(this.updateScrollbar(),this.skipEvent=!1,this.dispatchScrollbarEvent());this.dragging=!1;this.mouseIsOver&&this.removeCursors();this.updateScrollbar()},handleDraggerOver:function(){this.handleMouseOver()},leftDragStart:function(){this.dragger.stop();this.resizingLeft=!0},leftDragStop:function(){this.resizingLeft=!1;this.mouseIsOver||this.removeCursors();this.updateOnRelease()},rightDragStart:function(){this.dragger.stop();this.resizingRight=!0},rightDragStop:function(){this.resizingRight=!1;this.mouseIsOver||this.removeCursors();this.updateOnRelease()},iconRollOut:function(){this.removeCursors()},iconRollOver:function(){this.rotate?this.chart.setMouseCursor("n-resize"):this.chart.setMouseCursor("e-resize");this.handleMouseOver()},getDBox:function(){if(this.dragger)return this.dragger.getBBox()},handleBgClick:function(){var n=this,i,t,r,u,f,e;if(!n.resizingRight&&!n.resizingLeft){n.zooming=!0;r=n.scrollDuration;u=n.dragger;i=n.getDBox();f=i.height;e=i.width;t=n.chart;var s=n.y,h=n.x,o=n.rotate;o?(i="y",t=t.mouseY-f/2-s,t=AmCharts.fitToBounds(t,0,n.height-f)):(i="x",t=t.mouseX-e/2-h,t=AmCharts.fitToBounds(t,0,n.width-e));n.updateOnReleaseOnly?(n.skipEvent=!1,u.setAttr(i,t),n.dispatchScrollbarEvent(),n.clipDragger()):(t=Math.round(t),o?u.animate({y:t},r,">"):u.animate({x:t},r,">"),n.forceClip=!0,clearTimeout(n.forceTO),n.forceTO=setTimeout(function(){n.stopForceClip.call(n)},5e3*r))}},updateOnRelease:function(){this.updateOnReleaseOnly&&(this.updateScrollbar(),this.skipEvent=!1,this.dispatchScrollbarEvent())},handleReleaseOutside:function(){this.set&&((this.resizingLeft||this.resizingRight||this.dragging)&&(this.updateOnRelease(),this.removeCursors()),this.mouseIsOver=this.dragging=this.resizingRight=this.resizingLeft=!1,this.hideDragIcons(),this.updateScrollbar())},handleMouseOver:function(){this.mouseIsOver=!0;this.showDragIcons()},handleMouseOut:function(){this.mouseIsOver=!1;this.hideDragIcons()}});AmCharts.ChartScrollbar=AmCharts.Class({inherits:AmCharts.SimpleChartScrollbar,construct:function(n){this.cname="ChartScrollbar";AmCharts.ChartScrollbar.base.construct.call(this,n);this.enabled=!0;this.graphLineColor="#BBBBBB";this.graphLineAlpha=0;this.graphFillColor="#BBBBBB";this.graphFillAlpha=1;this.selectedGraphLineColor="#888888";this.selectedGraphLineAlpha=0;this.selectedGraphFillColor="#888888";this.selectedGraphFillAlpha=1;this.gridCount=0;this.gridColor="#FFFFFF";this.gridAlpha=.7;this.skipEvent=this.autoGridCount=!1;this.color="#FFFFFF";this.scrollbarCreated=!1;this.offset=0;AmCharts.applyTheme(this,n,this.cname)},init:function(){var t=this.categoryAxis,n=this.chart,i;t||(this.categoryAxis=t=new AmCharts.CategoryAxis);t.chart=n;t.id="scrollbar";t.dateFormats=n.categoryAxis.dateFormats;t.markPeriodChange=n.categoryAxis.markPeriodChange;t.boldPeriodBeginning=n.categoryAxis.boldPeriodBeginning;t.axisItemRenderer=AmCharts.RecItem;t.axisRenderer=AmCharts.RecAxis;t.guideFillRenderer=AmCharts.RecFill;t.inside=!0;t.fontSize=this.fontSize;t.tickLength=0;t.axisAlpha=0;AmCharts.isString(this.graph)&&(this.graph=AmCharts.getObjById(n.graphs,this.graph));(t=this.graph)&&(i=this.valueAxis,i||(this.valueAxis=i=new AmCharts.ValueAxis,i.visible=!1,i.scrollbar=!0,i.axisItemRenderer=AmCharts.RecItem,i.axisRenderer=AmCharts.RecAxis,i.guideFillRenderer=AmCharts.RecFill,i.labelsEnabled=!1,i.chart=n),n=this.unselectedGraph,n||(n=new AmCharts.AmGraph,n.scrollbar=!0,this.unselectedGraph=n,n.negativeBase=t.negativeBase,n.noStepRisers=t.noStepRisers),n=this.selectedGraph,n||(n=new AmCharts.AmGraph,n.scrollbar=!0,this.selectedGraph=n,n.negativeBase=t.negativeBase,n.noStepRisers=t.noStepRisers));this.scrollbarCreated=!0},draw:function(){var n=this,u,i,s,h,p,w,t,y;if(AmCharts.ChartScrollbar.base.draw.call(n),n.enabled){n.scrollbarCreated||n.init();var e=n.chart,o=e.chartData,f=n.categoryAxis,c=n.rotate,s=n.x,h=n.y,l=n.width,a=n.height,r=e.categoryAxis,v=n.set;if(f.setOrientation(!c),f.parseDates=r.parseDates,f.rotate=c,f.equalSpacing=r.equalSpacing,f.minPeriod=r.minPeriod,f.startOnAxis=r.startOnAxis,f.viW=l,f.viH=a,f.width=l,f.height=a,f.gridCount=n.gridCount,f.gridColor=n.gridColor,f.gridAlpha=n.gridAlpha,f.color=n.color,f.tickLength=0,f.axisAlpha=0,f.autoGridCount=n.autoGridCount,f.parseDates&&!f.equalSpacing&&f.timeZoom(e.firstTime,e.lastTime),f.zoom(0,o.length-1),r=n.graph){for(u=n.valueAxis,i=r.valueAxis,u.id=i.id,u.rotate=c,u.setOrientation(c),u.width=l,u.height=a,u.viW=l,u.viH=a,u.dataProvider=o,u.reversed=i.reversed,u.logarithmic=i.logarithmic,u.gridAlpha=0,u.axisAlpha=0,v.push(u.set),c?(u.y=h,u.x=0):(u.x=s,u.y=0),s=Infinity,h=-Infinity,p=0;p<o.length;p++){w=o[p].axes[i.id].graphs[r.id].values;for(t in w)w.hasOwnProperty(t)&&"percents"!=t&&"total"!=t&&(y=w[t],y<s&&(s=y),y>h&&(h=y))}Infinity!=s&&(u.minimum=s);-Infinity!=h&&(u.maximum=h+.1*(h-s));s==h&&(--u.minimum,u.maximum+=1);void 0!==n.minimum&&(u.minimum=n.minimum);void 0!==n.maximum&&(u.maximum=n.maximum);u.zoom(0,o.length-1);t=n.unselectedGraph;t.id=r.id;t.bcn="scrollbar-graph-";t.rotate=c;t.chart=e;t.data=o;t.valueAxis=u;t.chart=r.chart;t.categoryAxis=n.categoryAxis;t.periodSpan=r.periodSpan;t.valueField=r.valueField;t.openField=r.openField;t.closeField=r.closeField;t.highField=r.highField;t.lowField=r.lowField;t.lineAlpha=n.graphLineAlpha;t.lineColorR=n.graphLineColor;t.fillAlphas=n.graphFillAlpha;t.fillColorsR=n.graphFillColor;t.connect=r.connect;t.hidden=r.hidden;t.width=l;t.height=a;t.pointPosition=r.pointPosition;t.stepDirection=r.stepDirection;t.periodSpan=r.periodSpan;i=n.selectedGraph;i.id=r.id;i.bcn=t.bcn+"selected-";i.rotate=c;i.chart=e;i.data=o;i.valueAxis=u;i.chart=r.chart;i.categoryAxis=f;i.periodSpan=r.periodSpan;i.valueField=r.valueField;i.openField=r.openField;i.closeField=r.closeField;i.highField=r.highField;i.lowField=r.lowField;i.lineAlpha=n.selectedGraphLineAlpha;i.lineColorR=n.selectedGraphLineColor;i.fillAlphas=n.selectedGraphFillAlpha;i.fillColorsR=n.selectedGraphFillColor;i.connect=r.connect;i.hidden=r.hidden;i.width=l;i.height=a;i.pointPosition=r.pointPosition;i.stepDirection=r.stepDirection;i.periodSpan=r.periodSpan;e=n.graphType;e||(e=r.type);t.type=e;i.type=e;o=o.length-1;t.zoom(0,o);i.zoom(0,o);i.set.click(function(){n.handleBackgroundClick()}).mouseover(function(){n.handleMouseOver()}).mouseout(function(){n.handleMouseOut()});t.set.click(function(){n.handleBackgroundClick()}).mouseover(function(){n.handleMouseOver()}).mouseout(function(){n.handleMouseOut()});v.push(t.set);v.push(i.set)}v.push(f.set);v.push(f.labelsSet);n.bg.toBack();n.invisibleBg.toFront();n.dragger.toFront();n.iconLeft.toFront();n.iconRight.toFront()}},timeZoom:function(n,t,i){this.startTime=n;this.endTime=t;this.timeDifference=t-n;this.skipEvent=!AmCharts.toBoolean(i);this.zoomScrollbar();this.skipEvent||this.dispatchScrollbarEvent()},zoom:function(n,t){this.start=n;this.end=t;this.skipEvent=!0;this.zoomScrollbar()},dispatchScrollbarEvent:function(){var e,n,o,u;if(this.skipEvent)this.skipEvent=!1;else{e=this.chart.chartData;u=this.dragger.getBBox();n=u.x;var i=u.y,r=u.width,u=u.height,f=this.chart;this.rotate?(n=i,o=u):o=r;r={type:"zoomed",target:this};r.chart=f;var t=this.categoryAxis,s=this.stepWidth,i=f.minSelectedTime,u=!1;t.parseDates&&!t.equalSpacing?(e=f.lastTime,f=f.firstTime,t.minDuration(),t=Math.round(n/s)+f,n=this.dragging?t+this.timeDifference:Math.round((n+o)/s)+f,t>n&&(t=n),0<i&&n-t<i&&(n=Math.round(t+(n-t)/2),u=Math.round(i/2),t=n-u,n+=u,u=!0),n>e&&(n=e),n-i<t&&(t=n-i),t<f&&(t=f),t+i>n&&(n=t+i),t!=this.startTime||n!=this.endTime)&&(this.startTime=t,this.endTime=n,r.start=t,r.end=n,r.startDate=new Date(t),r.endDate=new Date(n),this.fire(r.type,r)):(t.startOnAxis||(n+=s/2),o-=this.stepWidth/2,i=t.xToIndex(n),n=t.xToIndex(n+o),i!=this.start||this.end!=n)&&(t.startOnAxis&&(this.resizingRight&&i==n&&n++,this.resizingLeft&&i==n&&(0<i?i--:n=1)),this.start=i,this.end=this.dragging?this.start+this.difference:n,r.start=this.start,r.end=this.end,t.parseDates&&(e[this.start]&&(r.startDate=new Date(e[this.start].time)),e[this.end]&&(r.endDate=new Date(e[this.end].time))),this.fire(r.type,r));u&&this.zoomScrollbar()}},zoomScrollbar:function(){var i,r,t,n;i=this.chart;t=i.chartData;n=this.categoryAxis;n.parseDates&&!n.equalSpacing?(t=n.stepWidth,n=i.firstTime,i=t*(this.startTime-n),r=t*(this.endTime-n)):(i=t[this.start].x[n.id],r=t[this.end].x[n.id],t=n.stepWidth,n.startOnAxis||(n=t/2,i-=n,r+=n));this.stepWidth=t;this.updateScrollbarSize(i,r)},maskGraphs:function(n,t,i,r){var u=this.selectedGraph;u&&u.set.clipRect(n,t,i,r)},handleDragStart:function(){AmCharts.ChartScrollbar.base.handleDragStart.call(this);this.difference=this.end-this.start;this.timeDifference=this.endTime-this.startTime;0>this.timeDifference&&(this.timeDifference=0)},handleBackgroundClick:function(){AmCharts.ChartScrollbar.base.handleBackgroundClick.call(this);this.dragging||(this.difference=this.end-this.start,this.timeDifference=this.endTime-this.startTime,0>this.timeDifference&&(this.timeDifference=0))}});AmCharts.AmBalloon=AmCharts.Class({construct:function(n){this.cname="AmBalloon";this.enabled=!0;this.fillColor="#FFFFFF";this.fillAlpha=.8;this.borderThickness=2;this.borderColor="#FFFFFF";this.borderAlpha=1;this.cornerRadius=0;this.maxWidth=220;this.horizontalPadding=8;this.verticalPadding=4;this.pointerWidth=6;this.pointerOrientation="V";this.color="#000000";this.adjustBorderColor=!0;this.show=this.follow=this.showBullet=!1;this.bulletSize=3;this.shadowAlpha=.4;this.shadowColor="#000000";this.fadeOutDuration=this.animationDuration=.3;this.fixedPosition=!1;this.offsetY=6;this.offsetX=1;this.textAlign="center";AmCharts.isModern||(this.offsetY*=1.5);AmCharts.applyTheme(this,n,this.cname)},draw:function(){var u=this.pointToX,s=this.pointToY,h,f,y,r,i,ut,n;if(this.deltaSignX=this.deltaSignY=1,h=this.chart,AmCharts.VML&&(this.fadeOutDuration=0),this.xAnim&&h.stopAnim(this.xAnim),this.yAnim&&h.stopAnim(this.yAnim),!isNaN(u)){var tt=this.follow,v=h.container,a=this.set;if(AmCharts.remove(a),this.removeDiv(),a=v.set(),a.node.style.pointerEvents="none",this.set=a,h.balloonsSet.push(a),this.show){var l=this.l,w=this.t,g=this.r,d=this.b,f=this.balloonColor,o=this.fillColor,it=this.borderColor,c=o;void 0!=f&&(this.adjustBorderColor?c=it=f:o=f);var p=this.horizontalPadding,b=this.verticalPadding,e=this.pointerWidth,rt=this.pointerOrientation,k=this.cornerRadius,t=h.fontFamily,n=this.fontSize;void 0==n&&(n=h.fontSize);f=document.createElement("div");y=h.classNamePrefix;f.className=y+"-balloon-div";this.className&&(f.className=f.className+" "+y+"-balloon-div-"+this.className);y=f.style;y.pointerEvents="none";y.position="absolute";r=this.minWidth;i="";isNaN(r)||(i="min-width:"+(r-2*p)+"px; ");f.innerHTML='<div style="text-align:'+this.textAlign+"; "+i+"max-width:"+this.maxWidth+"px; font-size:"+n+"px; color:"+this.color+"; font-family:"+t+'">'+this.text+"<\/div>";h.chartDiv.appendChild(f);this.textDiv=f;n=f.offsetWidth;t=f.offsetHeight;f.clientHeight&&(n=f.clientWidth,t=f.clientHeight);t+=2*b;i=n+2*p;!isNaN(r)&&i<r&&(i=r);window.opera&&(t+=2);ut=!1;n=this.offsetY;h.handDrawn&&(n+=h.handDrawScatter+2);"H"!=rt?(r=u-i/2,s<w+t+10&&"down"!=rt?(ut=!0,tt&&(s+=n),n=s+e,this.deltaSignY=-1):(tt&&(s-=n),n=s-t-e,this.deltaSignY=1)):(2*e>t&&(e=t/2),n=s-t/2,u<l+(g-l)/2?(r=u+e,this.deltaSignX=-1):(r=u-i-e,this.deltaSignX=1));n+t>=d&&(n=d-t);n<w&&(n=w);r<l&&(r=l);r+i>g&&(r=g-i);var w=n+b,d=r+p,b=this.shadowAlpha,ft=this.shadowColor,p=this.borderThickness,et=this.bulletSize,nt;0<k||0===e?(0<b&&(u=AmCharts.rect(v,i,t,o,0,p+1,ft,b,this.cornerRadius),AmCharts.isModern?u.translate(1,1):u.translate(4,4),a.push(u)),o=AmCharts.rect(v,i,t,o,this.fillAlpha,p,it,this.borderAlpha,this.cornerRadius),this.showBullet&&(nt=AmCharts.circle(v,et,c,this.fillAlpha),a.push(nt))):(c=[],k=[],"H"!=rt?(l=u-r,l>i-e&&(l=i-e),l<e&&(l=e),c=[0,l-e,u-r,l+e,i,i,0,0],k=ut?[0,0,s-n,0,0,t,t,0]:[t,t,s-n,t,t,0,0,t]):(c=s-n,c>t-e&&(c=t-e),c<e&&(c=e),k=[0,c-e,s-n,c+e,t,t,0,0],c=u<l+(g-l)/2?[0,0,r<u?0:u-r,0,0,i,i,0]:[i,i,r+i>u?i:u-r,i,i,0,0,i]),0<b&&(u=AmCharts.polygon(v,c,k,o,0,p,ft,b),u.translate(1,1),a.push(u)),o=AmCharts.polygon(v,c,k,o,this.fillAlpha,p,it,this.borderAlpha));this.bg=o;a.push(o);o.toFront();AmCharts.setCN(h,o,"balloon-bg");this.className&&AmCharts.setCN(h,o,"balloon-bg-"+this.className);v=1*this.deltaSignX;y.left=d+"px";y.top=w+"px";a.translate(r-v,n);o=o.getBBox();this.bottom=n+t+1;this.yPos=o.y+n;nt&&nt.translate(this.pointToX-r+v,s-n);s=this.animationDuration;0<this.animationDuration&&!tt&&!isNaN(this.prevX)&&(a.translate(this.prevX,this.prevY),a.animate({translate:r-v+","+n},s,"easeOutSine"),f&&(y.left=this.prevTX+"px",y.top=this.prevTY+"px",this.xAnim=h.animate({node:f},"left",this.prevTX,d,s,"easeOutSine","px"),this.yAnim=h.animate({node:f},"top",this.prevTY,w,s,"easeOutSine","px")));this.prevX=r-v;this.prevY=n;this.prevTX=d;this.prevTY=w}}},followMouse:function(){var n,t,i;if(this.follow&&this.show&&(n=this.chart.mouseX-this.offsetX*this.deltaSignX,t=this.chart.mouseY,this.pointToX=n,this.pointToY=t,n!=this.previousX||t!=this.previousY))if(this.previousX=n,this.previousY=t,0===this.cornerRadius)this.draw();else if(i=this.set,i){var r=i.getBBox(),n=n-r.width/2,u=t-r.height-10;n<this.l&&(n=this.l);n>this.r-r.width&&(n=this.r-r.width);u<this.t&&(u=t+10);i.translate(n,u);t=this.textDiv.style;t.left=n+this.horizontalPadding+"px";t.top=u+this.verticalPadding+"px"}},changeColor:function(n){this.balloonColor=n},setBounds:function(n,t,i,r){this.l=n;this.t=t;this.r=i;this.b=r;this.destroyTO&&clearTimeout(this.destroyTO)},showBalloon:function(n){this.text=n;this.show=!0;this.destroyTO&&clearTimeout(this.destroyTO);n=this.chart;this.fadeAnim1&&n.stopAnim(this.fadeAnim1);this.fadeAnim2&&n.stopAnim(this.fadeAnim2);this.draw()},hide:function(){var n=this,t=n.fadeOutDuration,r=n.chart,i;0<t?(n.destroyTO=setTimeout(function(){n.destroy.call(n)},1e3*t),n.follow=!1,n.show=!1,i=n.set,i&&(i.setAttr("opacity",n.fillAlpha),n.fadeAnim1=i.animate({opacity:0},t,"easeInSine")),n.textDiv&&(n.fadeAnim2=r.animate({node:n.textDiv},"opacity",1,0,t,"easeInSine",""))):(n.show=!1,n.follow=!1,n.destroy())},setPosition:function(n,t,i){this.pointToX=n;this.pointToY=t;i&&(n==this.previousX&&t==this.previousY||this.draw());this.previousX=n;this.previousY=t},followCursor:function(n){var t=this,i,r;(t.follow=n)?(t.pShowBullet=t.showBullet,t.showBullet=!1):void 0!==t.pShowBullet&&(t.showBullet=t.pShowBullet);clearInterval(t.interval);i=t.chart.mouseX;r=t.chart.mouseY;!isNaN(i)&&n&&(t.pointToX=i-t.offsetX*t.deltaSignX,t.pointToY=r,t.followMouse(),t.interval=setInterval(function(){t.followMouse.call(t)},40))},removeDiv:function(){if(this.textDiv){var n=this.textDiv.parentNode;n&&n.removeChild(this.textDiv)}},destroy:function(){clearInterval(this.interval);AmCharts.remove(this.set);this.removeDiv();this.set=null}});AmCharts.AmCoordinateChart=AmCharts.Class({inherits:AmCharts.AmChart,construct:function(n){AmCharts.AmCoordinateChart.base.construct.call(this,n);this.theme=n;this.createEvents("rollOverGraphItem","rollOutGraphItem","clickGraphItem","doubleClickGraphItem","rightClickGraphItem","clickGraph","rollOverGraph","rollOutGraph");this.startAlpha=1;this.startDuration=0;this.startEffect="elastic";this.sequencedAnimation=!0;this.colors="#FF6600 #FCD202 #B0DE09 #0D8ECF #2A0CD0 #CD0D74 #CC0000 #00CC00 #0000CC #DDDDDD #999999 #333333 #990000".split(" ");this.balloonDateFormat="MMM DD, YYYY";this.valueAxes=[];this.graphs=[];this.guides=[];this.gridAboveGraphs=!1;AmCharts.applyTheme(this,n,"AmCoordinateChart")},initChart:function(){AmCharts.AmCoordinateChart.base.initChart.call(this);var n=this.categoryAxis;n&&(this.categoryAxis=AmCharts.processObject(n,AmCharts.CategoryAxis,this.theme));this.processValueAxes();this.createValueAxes();this.processGraphs();this.processGuides();AmCharts.VML&&(this.startAlpha=1);this.setLegendData(this.graphs);this.gridAboveGraphs&&this.gridSet.toFront()},createValueAxes:function(){if(0===this.valueAxes.length){var n=new AmCharts.ValueAxis;this.addValueAxis(n)}},parseData:function(){this.processValueAxes();this.processGraphs()},parseSerialData:function(n){var c=this.graphs,t,st={},p=this.seriesIdField,l,w,r,b,k,d,g,nt,tt,et,it,o,rt,h,i,u,ut,a,s,v,e,ft,ot,f,y;if(p||(p=this.categoryField),this.chartData=[],n)for(l=!1,r=this.categoryAxis,r&&(l=r.parseDates,b=r.forceShowField,d=r.classNameField,k=r.labelColorField,w=r.categoryFunction),tt={},l&&(t=AmCharts.extractPeriod(r.minPeriod),g=t.period,nt=t.count,et=AmCharts.getPeriodDuration(g,nt)),it={},this.lookupTable=it,rt=this.dataDateFormat,h={},o=0;o<n.length;o++)if(i={},u=n[o],t=u[this.categoryField],i.dataContext=u,i.category=w?w(t,u,r):String(t),b&&(i.forceShow=u[b]),d&&(i.className=u[d]),k&&(i.labelColor=u[k]),it[u[p]]=i,!l||(r.categoryFunction?t=r.categoryFunction(t,u,r):(!rt||t instanceof Date||(t=t.toString()),t=AmCharts.getDate(t,rt,r.minPeriod)),t=AmCharts.resetDateToMin(t,g,nt,r.firstDayOfWeek),i.category=t,i.time=t.getTime(),!isNaN(i.time))){for(ut=this.valueAxes,i.axes={},i.x={},a=0;a<ut.length;a++)for(s=ut[a].id,i.axes[s]={},i.axes[s].graphs={},v=0;v<c.length;v++)t=c[v],e=t.id,ft=1.1,isNaN(t.gapPeriod)||(ft=t.gapPeriod),ot=t.periodValue,t.valueAxis.id==s&&(i.axes[s].graphs[e]={},f={},f.index=o,y=u,t.dataProvider&&(y=st),f.values=this.processValues(y,t,ot),!t.connect&&h&&h[e]&&i.time-tt[e]>=et*ft&&(h[e].gap=!0),this.processFields(t,f,y),f.category=i.category,f.serialDataItem=i,f.graph=t,i.axes[s].graphs[e]=f,tt[e]=i.time,h[e]=f);this.chartData[o]=i}for(n=0;n<c.length;n++)t=c[n],t.dataProvider&&this.parseGraphData(t)},processValues:function(n,t,i){var o={},u,h=!1,s,f,r,e;for("candlestick"!=t.type&&"ohlc"!=t.type||""===i||(h=!0),s="value error open close low high".split(" "),f=0;f<s.length;f++)r=s[f],"value"!=r&&"error"!=r&&h&&(i=r.charAt(0).toUpperCase()+r.slice(1)),e=n[t[r+"Field"]+i],u=Number(e),isNaN(u)||(o[r]=u),"date"==t.valueAxis.type&&void 0!=e&&(u=AmCharts.getDate(e,t.chart.dataDateFormat),o[r]=u.getTime());return o},parseGraphData:function(n){var e=n.dataProvider,t=n.seriesIdField,r;for(t||(t=this.seriesIdField),t||(t=this.categoryField),r=0;r<e.length;r++){var u=e[r],f=this.lookupTable[String(u[t])],i=n.valueAxis.id;f&&(i=f.axes[i].graphs[n.id],i.serialDataItem=f,i.values=this.processValues(u,n,n.periodValue),this.processFields(n,i,u))}},addValueAxis:function(n){n.chart=this;this.valueAxes.push(n);this.validateData()},removeValueAxesAndGraphs:function(){for(var t=this.valueAxes,n=t.length-1;-1<n;n--)this.removeValueAxis(t[n])},removeValueAxis:function(n){for(var i=this.graphs,r,t=i.length-1;0<=t;t--)r=i[t],r&&r.valueAxis==n&&this.removeGraph(r);for(i=this.valueAxes,t=i.length-1;0<=t;t--)i[t]==n&&i.splice(t,1);this.validateData()},addGraph:function(n){this.graphs.push(n);this.chooseGraphColor(n,this.graphs.length-1);this.validateData()},removeGraph:function(n){for(var i=this.graphs,t=i.length-1;0<=t;t--)i[t]==n&&(i.splice(t,1),n.destroy());this.validateData()},processValueAxes:function(){for(var i=this.valueAxes,n,t=0;t<i.length;t++)n=i[t],n=AmCharts.processObject(n,AmCharts.ValueAxis,this.theme),i[t]=n,n.chart=this,n.id||(n.id="valueAxisAuto"+t+"_"+(new Date).getTime()),void 0===n.usePrefixes&&(n.usePrefixes=this.usePrefixes)},processGuides:function(){var r=this.guides,u=this.categoryAxis,i,n,t;if(r)for(i=0;i<r.length;i++)n=r[i],(void 0!==n.category||void 0!==n.date)&&u&&u.addGuide(n),n.id||(n.id="guideAuto"+i+"_"+(new Date).getTime()),t=n.valueAxis,t?(AmCharts.isString(t)&&(t=this.getValueAxisById(t)),t?t.addGuide(n):this.valueAxes[0].addGuide(n)):isNaN(n.value)||this.valueAxes[0].addGuide(n)},processGraphs:function(){for(var i=this.graphs,n,t=0;t<i.length;t++)n=i[t],n=AmCharts.processObject(n,AmCharts.AmGraph,this.theme),i[t]=n,this.chooseGraphColor(n,t),n.chart=this,AmCharts.isString(n.valueAxis)&&(n.valueAxis=this.getValueAxisById(n.valueAxis)),n.valueAxis||(n.valueAxis=this.valueAxes[0]),n.id||(n.id="graphAuto"+t+"_"+(new Date).getTime())},formatString:function(n,t,i){var u=t.graph,r=u.valueAxis;return r.duration&&t.values.value&&(r=AmCharts.formatDuration(t.values.value,r.duration,"",r.durationUnits,r.maxInterval,r.numberFormatter),n=n.split("[[value]]").join(r)),n=AmCharts.massReplace(n,{"[[title]]":u.title,"[[description]]":t.description}),n=i?AmCharts.fixNewLines(n):AmCharts.fixBrakes(n),AmCharts.cleanFromEmpty(n)},getBalloonColor:function(n,t,i){var r=n.lineColor,u=n.balloonColor;return i&&(u=r),i=n.fillColorsR,"object"==typeof i?r=i[0]:void 0!==i&&(r=i),t.isNegative&&(i=n.negativeLineColor,n=n.negativeFillColors,"object"==typeof n?i=n[0]:void 0!==n&&(i=n),void 0!==i&&(r=i)),void 0!==t.color&&(r=t.color),void 0===u&&(u=r),u},getGraphById:function(n){return AmCharts.getObjById(this.graphs,n)},getValueAxisById:function(n){return AmCharts.getObjById(this.valueAxes,n)},processFields:function(n,t,i){var u,r,e,f;for(n.itemColors&&(u=n.itemColors,r=t.index,t.color=r<u.length?u[r]:AmCharts.randomColor()),u="lineColor color alpha fillColors description bullet customBullet bulletSize bulletConfig url labelColor dashLength pattern gap className".split(" "),r=0;r<u.length;r++)e=u[r],f=n[e+"Field"],f&&(f=i[f],AmCharts.isDefined(f)&&(t[e]=f));t.dataContext=i},chooseGraphColor:function(n,t){if(n.lineColor)n.lineColorR=n.lineColor;else{var i;i=this.colors.length>t?this.colors[t]:AmCharts.randomColor();n.lineColorR=i}n.fillColorsR=n.fillColors?n.fillColors:n.lineColorR;n.bulletBorderColorR=n.bulletBorderColor?n.bulletBorderColor:n.useLineColorForBulletBorder?n.lineColorR:n.bulletColor;n.bulletColorR=n.bulletColor?n.bulletColor:n.lineColorR;(i=this.patterns)&&(n.pattern=i[t])},handleLegendEvent:function(n){var r=n.type,t,i;if(n=n.dataItem,!this.legend.data&&n){t=n.hidden;i=n.showBalloon;switch(r){case"clickMarker":this.textClickEnabled&&(i?this.hideGraphsBalloon(n):this.showGraphsBalloon(n));break;case"clickLabel":i?this.hideGraphsBalloon(n):this.showGraphsBalloon(n);break;case"rollOverItem":t||this.highlightGraph(n);break;case"rollOutItem":t||this.unhighlightGraph();break;case"hideItem":this.hideGraph(n);break;case"showItem":this.showGraph(n)}}},highlightGraph:function(n){var u=this.graphs,t,i=.2,r;if(this.legend&&(i=this.legend.rollOverGraphAlpha),1!=i)for(t=0;t<u.length;t++)r=u[t],r!=n&&r.changeOpacity(i)},unhighlightGraph:function(){var n,t;if(this.legend&&(n=this.legend.rollOverGraphAlpha),1!=n)for(n=this.graphs,t=0;t<n.length;t++)n[t].changeOpacity(1)},showGraph:function(n){n.switchable&&(n.hidden=!1,this.dataChanged=!0,"xy"!=this.type&&(this.marginsUpdated=!1),this.chartCreated&&this.initChart())},hideGraph:function(n){n.switchable&&(this.dataChanged=!0,"xy"!=this.type&&(this.marginsUpdated=!1),n.hidden=!0,this.chartCreated&&this.initChart())},hideGraphsBalloon:function(n){n.showBalloon=!1;this.updateLegend()},showGraphsBalloon:function(n){n.showBalloon=!0;this.updateLegend()},updateLegend:function(){this.legend&&this.legend.invalidateSize()},resetAnimation:function(){var t=this.graphs,n;if(t)for(n=0;n<t.length;n++)t[n].animationPlayed=!1},animateAgain:function(){this.resetAnimation();this.validateNow()}});AmCharts.AmSlicedChart=AmCharts.Class({inherits:AmCharts.AmChart,construct:function(n){this.createEvents("rollOverSlice","rollOutSlice","clickSlice","pullOutSlice","pullInSlice","rightClickSlice");AmCharts.AmSlicedChart.base.construct.call(this,n);this.colors="#FF0F00 #FF6600 #FF9E01 #FCD202 #F8FF01 #B0DE09 #04D215 #0D8ECF #0D52D1 #2A0CD0 #8A0CCF #CD0D74 #754DEB #DDDDDD #999999 #333333 #000000 #57032A #CA9726 #990000 #4B0C25".split(" ");this.alpha=1;this.groupPercent=0;this.groupedTitle="Other";this.groupedPulled=!1;this.groupedAlpha=1;this.marginLeft=0;this.marginBottom=this.marginTop=10;this.marginRight=0;this.hoverAlpha=1;this.outlineColor="#FFFFFF";this.outlineAlpha=0;this.outlineThickness=1;this.startAlpha=0;this.startDuration=1;this.startEffect="bounce";this.sequencedAnimation=!0;this.pullOutDuration=1;this.pullOutEffect="bounce";this.pullOnHover=this.pullOutOnlyOne=!1;this.labelsEnabled=!0;this.labelTickColor="#000000";this.labelTickAlpha=.2;this.hideLabelsPercent=0;this.urlTarget="_self";this.autoMarginOffset=10;this.gradientRatio=[];this.maxLabelWidth=200;AmCharts.applyTheme(this,n,"AmSlicedChart")},initChart:function(){AmCharts.AmSlicedChart.base.initChart.call(this);this.dataChanged&&(this.parseData(),this.dispatchDataUpdated=!0,this.dataChanged=!1,this.setLegendData(this.chartData));this.drawChart()},handleLegendEvent:function(n){var u=n.type,t=n.dataItem,r=this.legend,i;if(!r.data&&t){i=t.hidden;n=n.event;switch(u){case"clickMarker":i||r.switchable||this.clickSlice(t,n);break;case"clickLabel":i||this.clickSlice(t,n,!1);break;case"rollOverItem":i||this.rollOverSlice(t,!1,n);break;case"rollOutItem":i||this.rollOutSlice(t,n);break;case"hideItem":this.hideSlice(t,n);break;case"showItem":this.showSlice(t,n)}}},invalidateVisibility:function(){this.recalculatePercents();this.initChart();var n=this.legend;n&&n.invalidateSize()},addEventListeners:function(n,t){var i=this;n.mouseover(function(n){i.rollOverSlice(t,!0,n)}).mouseout(function(n){i.rollOutSlice(t,n)}).touchend(function(n){i.rollOverSlice(t,n);i.panEventsEnabled&&i.clickSlice(t,n)}).touchstart(function(n){i.rollOverSlice(t,n)}).click(function(n){i.clickSlice(t,n)}).contextmenu(function(n){i.handleRightClick(t,n)})},formatString:function(n,t,i){return n=AmCharts.formatValue(n,t,["value"],this.nf,"",this.usePrefixes,this.prefixesOfSmallNumbers,this.prefixesOfBigNumbers),n=AmCharts.formatValue(n,t,["percents"],this.pf),n=AmCharts.massReplace(n,{"[[title]]":t.title,"[[description]]":t.description}),-1!=n.indexOf("[[")&&(n=AmCharts.formatDataContextValue(n,t.dataContext)),n=i?AmCharts.fixNewLines(n):AmCharts.fixBrakes(n),AmCharts.cleanFromEmpty(n)},startSlices:function(){for(var n=0;n<this.chartData.length;n++)0<this.startDuration&&this.sequencedAnimation?this.setStartTO(n):this.startSlice(this.chartData[n])},setStartTO:function(n){var t=this;n=setTimeout(function(){t.startSequenced.call(t)},t.startDuration/t.chartData.length*500*n);t.timeOuts.push(n)},pullSlices:function(n){for(var r=this.chartData,i,t=0;t<r.length;t++)i=r[t],i.pulled&&this.pullSlice(i,1,n)},startSequenced:function(){for(var t=this.chartData,n=0;n<t.length;n++)if(!t[n].started){this.startSlice(this.chartData[n]);break}},startSlice:function(n){n.started=!0;var t=n.wedge,i=this.startDuration;t&&0<i&&(0<n.alpha&&t.show(),t.translate(n.startX,n.startY),t.animate({opacity:1,translate:"0,0"},i,this.startEffect))},showLabels:function(){for(var r=this.chartData,n,i,t=0;t<r.length;t++)n=r[t],0<n.alpha&&(i=n.label,i&&i.show(),(n=n.tick)&&n.show())},showSlice:function(n){isNaN(n)?n.hidden=!1:this.chartData[n].hidden=!1;this.invalidateVisibility()},hideSlice:function(n){isNaN(n)?n.hidden=!0:this.chartData[n].hidden=!0;this.hideBalloon();this.invalidateVisibility()},rollOverSlice:function(n,t,i){var f,e,r,u;isNaN(n)||(n=this.chartData[n]);clearTimeout(this.hoverInt);n.hidden||(this.pullOnHover&&this.pullSlice(n,1),1>this.hoverAlpha&&n.wedge&&n.wedge.attr({opacity:this.hoverAlpha}),f=n.balloonX,e=n.balloonY,n.pulled&&(f+=n.pullX,e+=n.pullY),r=this.formatString(this.balloonText,n,!0),u=this.balloonFunction,u&&(r=u(n,r)),u=AmCharts.adjustLuminosity(n.color,-.15),r?this.showBalloon(r,u,t,f,e):this.hideBalloon(),0==n.value&&this.hideBalloon(),n={type:"rollOverSlice",dataItem:n,chart:this,event:i},this.fire(n.type,n))},rollOutSlice:function(n,t){isNaN(n)||(n=this.chartData[n]);n.wedge&&n.wedge.attr({opacity:1});this.hideBalloon();var i={type:"rollOutSlice",dataItem:n,chart:this,event:t};this.fire(i.type,i)},clickSlice:function(n,t,i){isNaN(n)||(n=this.chartData[n]);n.pulled?this.pullSlice(n,0):this.pullSlice(n,1);AmCharts.getURL(n.url,this.urlTarget);i||(n={type:"clickSlice",dataItem:n,chart:this,event:t},this.fire(n.type,n))},handleRightClick:function(n,t){isNaN(n)||(n=this.chartData[n]);var i={type:"rightClickSlice",dataItem:n,chart:this,event:t};this.fire(i.type,i)},drawTicks:function(){for(var r=this.chartData,n,t,i=0;i<r.length;i++)n=r[i],n.label&&(t=n.ty,t=AmCharts.line(this.container,[n.tx0,n.tx,n.tx2],[n.ty0,t,t],this.labelTickColor,this.labelTickAlpha),AmCharts.setCN(this,t,this.type+"-tick"),AmCharts.setCN(this,t,n.className,!0),n.tick=t,n.wedge.push(t))},initialStart:function(){var n=this,t=n.startDuration,i=setTimeout(function(){n.showLabels.call(n)},1e3*t);n.timeOuts.push(i);n.chartCreated?n.pullSlices(!0):(n.startSlices(),0<t?(t=setTimeout(function(){n.pullSlices.call(n)},1200*t),n.timeOuts.push(t)):n.pullSlices(!0))},pullSlice:function(n,t,i){var r=this.pullOutDuration;!0===i&&(r=0);(i=n.wedge)&&(0<r?i.animate({translate:t*n.pullX+","+t*n.pullY},r,this.pullOutEffect):i.translate(t*n.pullX,t*n.pullY));1==t?(n.pulled=!0,this.pullOutOnlyOne&&this.pullInAll(n.index),n={type:"pullOutSlice",dataItem:n,chart:this}):(n.pulled=!1,n={type:"pullInSlice",dataItem:n,chart:this});this.fire(n.type,n)},pullInAll:function(n){for(var i=this.chartData,t=0;t<this.chartData.length;t++)t!=n&&i[t].pulled&&this.pullSlice(i[t],0)},pullOutAll:function(n){n=this.chartData;for(var t=0;t<n.length;t++)n[t].pulled||this.pullSlice(n[t],1)},parseData:function(){var e=[],o,u,f,i,n,t,r;if(this.chartData=e,o=this.dataProvider,isNaN(this.pieAlpha)||(this.alpha=this.pieAlpha),void 0!==o){for(u=o.length,f=0,i=0;i<u;i++)n={},r=o[i],n.dataContext=r,n.value=Number(r[this.valueField]),(t=r[this.titleField])||(t=""),n.title=t,n.pulled=AmCharts.toBoolean(r[this.pulledField],!1),(t=r[this.descriptionField])||(t=""),n.description=t,n.labelRadius=Number(r[this.labelRadiusField]),n.switchable=!0,n.className=r[this.classNameField],n.url=r[this.urlField],t=r[this.patternField],!t&&this.patterns&&(t=this.patterns[i]),n.pattern=t,n.visibleInLegend=AmCharts.toBoolean(r[this.visibleInLegendField],!0),t=r[this.alphaField],n.alpha=void 0!==t?Number(t):this.alpha,t=r[this.colorField],void 0!==t&&(n.color=AmCharts.toColor(t)),n.labelColor=AmCharts.toColor(r[this.labelColorField]),f+=n.value,n.hidden=!1,e[i]=n;for(i=o=0;i<u;i++)n=e[i],n.percents=n.value/f*100,n.percents<this.groupPercent&&o++;for(1<o&&(this.groupValue=0,this.removeSmallSlices(),e.push({title:this.groupedTitle,value:this.groupValue,percents:this.groupValue/f*100,pulled:this.groupedPulled,color:this.groupedColor,url:this.groupedUrl,description:this.groupedDescription,alpha:this.groupedAlpha,pattern:this.groupedPattern,className:this.groupedClassName,dataContext:{}})),u=this.baseColor,u||(u=this.pieBaseColor),f=this.brightnessStep,f||(f=this.pieBrightnessStep),i=0;i<e.length;i++)u?t=AmCharts.adjustLuminosity(u,i*f/100):(t=this.colors[i],void 0===t&&(t=AmCharts.randomColor())),void 0===e[i].color&&(e[i].color=t);this.recalculatePercents()}},recalculatePercents:function(){for(var i=this.chartData,r=0,n,t=0;t<i.length;t++)n=i[t],!n.hidden&&0<n.value&&(r+=n.value);for(t=0;t<i.length;t++)n=this.chartData[t],n.percents=!n.hidden&&0<n.value?100*n.value/r:0},removeSmallSlices:function(){for(var t=this.chartData,n=t.length-1;0<=n;n--)t[n].percents<this.groupPercent&&(this.groupValue+=t[n].value,t.splice(n,1))},animateAgain:function(){var t=this,n,i,r;for(t.startSlices(),n=0;n<t.chartData.length;n++)i=t.chartData[n],i.started=!1,r=i.wedge,r&&r.translate(i.startX,i.startY);n=t.startDuration;0<n?(n=setTimeout(function(){t.pullSlices.call(t)},1200*n),t.timeOuts.push(n)):t.pullSlices()},measureMaxLabel:function(){for(var u=this.chartData,r=0,i=0;i<u.length;i++){var t=u[i],n=this.formatString(this.labelText,t),f=this.labelFunction;f&&(n=f(t,n));t=AmCharts.text(this.container,n,this.color,this.fontFamily,this.fontSize);n=t.getBBox().width;n>r&&(r=n);t.remove()}return r}});AmCharts.AmRectangularChart=AmCharts.Class({inherits:AmCharts.AmCoordinateChart,construct:function(n){AmCharts.AmRectangularChart.base.construct.call(this,n);this.theme=n;this.createEvents("zoomed");this.marginRight=this.marginBottom=this.marginTop=this.marginLeft=20;this.verticalPosition=this.horizontalPosition=this.depth3D=this.angle=0;this.heightMultiplier=this.widthMultiplier=1;this.plotAreaFillColors="#FFFFFF";this.plotAreaFillAlphas=0;this.plotAreaBorderColor="#000000";this.plotAreaBorderAlpha=0;this.zoomOutButtonImageSize=19;this.zoomOutButtonImage="lens.png";this.zoomOutText="Show all";this.zoomOutButtonColor="#e5e5e5";this.zoomOutButtonAlpha=0;this.zoomOutButtonRollOverAlpha=1;this.zoomOutButtonPadding=8;this.trendLines=[];this.autoMargins=!0;this.marginsUpdated=!1;this.autoMarginOffset=10;AmCharts.applyTheme(this,n,"AmRectangularChart")},initChart:function(){AmCharts.AmRectangularChart.base.initChart.call(this);this.updateDxy();var n=!0;!this.marginsUpdated&&this.autoMargins&&(this.resetMargins(),n=!1);this.processScrollbars();this.updateMargins();this.updatePlotArea();this.updateScrollbars();this.updateTrendLines();this.updateChartCursor();this.updateValueAxes();n&&(this.scrollbarOnly||this.updateGraphs())},drawChart:function(){if(AmCharts.AmRectangularChart.base.drawChart.call(this),this.drawPlotArea(),AmCharts.ifArray(this.chartData)){var n=this.chartCursor;n&&n.draw();n=this.zoomOutText;""!==n&&n&&this.drawZoomOutButton()}},resetMargins:function(){var i={},n,t,r,u;if("xy"==this.type){for(t=this.xAxes,r=this.yAxes,n=0;n<t.length;n++)u=t[n],u.ignoreAxisWidth||(u.setOrientation(!0),u.fixAxisPosition(),i[u.position]=!0);for(n=0;n<r.length;n++)t=r[n],t.ignoreAxisWidth||(t.setOrientation(!1),t.fixAxisPosition(),i[t.position]=!0)}else{for(r=this.valueAxes,n=0;n<r.length;n++)t=r[n],t.ignoreAxisWidth||(t.setOrientation(this.rotate),t.fixAxisPosition(),i[t.position]=!0);(n=this.categoryAxis)&&!n.ignoreAxisWidth&&(n.setOrientation(!this.rotate),n.fixAxisPosition(),n.fixAxisPosition(),i[n.position]=!0)}i.left&&(this.marginLeft=0);i.right&&(this.marginRight=0);i.top&&(this.marginTop=0);i.bottom&&(this.marginBottom=0);this.fixMargins=i},measureMargins:function(){for(var f=this.valueAxes,t=this.autoMarginOffset,e=this.fixMargins,s=this.realWidth,h=this.realHeight,i=t,r=t,u=s,n=h,o=0;o<f.length;o++)n=this.getAxisBounds(f[o],i,u,r,n),i=Math.round(n.l),u=Math.round(n.r),r=Math.round(n.t),n=Math.round(n.b);(f=this.categoryAxis)&&(n=this.getAxisBounds(f,i,u,r,n),i=Math.round(n.l),u=Math.round(n.r),r=Math.round(n.t),n=Math.round(n.b));e.left&&i<t&&(this.marginLeft=Math.round(-i+t));e.right&&u>=s-t&&(this.marginRight=Math.round(u-s+t));e.top&&r<t+this.titleHeight&&(this.marginTop=Math.round(this.marginTop-r+t+this.titleHeight));e.bottom&&n>h-t&&(this.marginBottom=Math.round(this.marginBottom+n-h+t));this.initChart()},getAxisBounds:function(n,t,i,r,u){if(!n.ignoreAxisWidth){var f=n.labelsSet,e=n.tickLength;if(n.inside&&(e=0),f)switch(f=n.getBBox(),n.position){case"top":n=f.y;r>n&&(r=n);break;case"bottom":n=f.y+f.height;u<n&&(u=n);break;case"right":n=f.x+f.width+e+3;i<n&&(i=n);break;case"left":n=f.x-e;t>n&&(t=n)}}return{l:t,t:r,r:i,b:u}},drawZoomOutButton:function(){var n=this,r=n.container.set(),t,i,h;n.zoomButtonSet.push(r);var u=n.color,o=n.fontSize,c=n.zoomOutButtonImageSize,l=n.zoomOutButtonImage,a=AmCharts.lang.zoomOutText||n.zoomOutText,f=n.zoomOutButtonColor,s=n.zoomOutButtonAlpha,t=n.zoomOutButtonFontSize,e=n.zoomOutButtonPadding;for(isNaN(t)||(o=t),(t=n.zoomOutButtonFontColor)&&(u=t),t=n.zoomOutButton,t&&(t.fontSize&&(o=t.fontSize),t.color&&(u=t.color),t.backgroundColor&&(f=t.backgroundColor),isNaN(t.backgroundAlpha)||(n.zoomOutButtonRollOverAlpha=t.backgroundAlpha)),h=t=0,void 0!==n.pathToImages&&l&&(i=n.container.image(n.pathToImages+l,0,0,c,c),AmCharts.setCN(n,i,"zoom-out-image"),r.push(i),i=i.getBBox(),t=i.width+5),void 0!==a&&(u=AmCharts.text(n.container,a,u,n.fontFamily,o,"start"),AmCharts.setCN(n,u,"zoom-out-label"),o=u.getBBox(),h=i?i.height/2-3:o.height/2,u.translate(t,h),r.push(u)),i=r.getBBox(),u=1,AmCharts.isModern||(u=0),f=AmCharts.rect(n.container,i.width+2*e+5,i.height+2*e-2,f,1,1,f,u),f.setAttr("opacity",s),f.translate(-e,-e),AmCharts.setCN(n,f,"zoom-out-bg"),r.push(f),f.toBack(),n.zbBG=f,i=f.getBBox(),r.translate(n.marginLeftReal+n.plotAreaWidth-i.width+e,n.marginTopReal+e),r.hide(),r.mouseover(function(){n.rollOverZB()}).mouseout(function(){n.rollOutZB()}).click(function(){n.clickZB()}).touchstart(function(){n.rollOverZB()}).touchend(function(){n.rollOutZB();n.clickZB()}),s=0;s<r.length;s++)r[s].attr({cursor:"pointer"});n.zbSet=r},rollOverZB:function(){this.zbBG.setAttr("opacity",this.zoomOutButtonRollOverAlpha)},rollOutZB:function(){this.zbBG.setAttr("opacity",this.zoomOutButtonAlpha)},clickZB:function(){this.zoomOut()},zoomOut:function(){this.updateScrollbar=!0;this.zoom()},drawPlotArea:function(){var t=this.dx,r=this.dy,u=this.marginLeftReal,o=this.marginTopReal,i=this.plotAreaWidth-1,f=this.plotAreaHeight-1,n=this.plotAreaFillColors,e=this.plotAreaFillAlphas,s=this.plotAreaBorderColor,h=this.plotAreaBorderAlpha;this.trendLinesSet.clipRect(u,o,i,f);"object"==typeof e&&(e=e[0]);n=AmCharts.polygon(this.container,[0,i,i,0,0],[0,0,f,f,0],n,e,1,s,h,this.plotAreaGradientAngle);AmCharts.setCN(this,n,"plot-area");n.translate(u+t,o+r);this.set.push(n);0!==t&&0!==r&&(n=this.plotAreaFillColors,"object"==typeof n&&(n=n[0]),n=AmCharts.adjustLuminosity(n,-.15),i=AmCharts.polygon(this.container,[0,t,i+t,i,0],[0,r,r,0,0],n,e,1,s,h),AmCharts.setCN(this,i,"plot-area-bottom"),i.translate(u,o+f),this.set.push(i),t=AmCharts.polygon(this.container,[0,0,t,t,0],[0,f,f+r,r,0],n,e,1,s,h),AmCharts.setCN(this,t,"plot-area-left"),t.translate(u,o),this.set.push(t));(u=this.bbset)&&this.scrollbarOnly&&u.remove()},updatePlotArea:function(){var n=this.updateWidth(),t=this.updateHeight(),i=this.container;this.realWidth=n;this.realWidth=t;i&&this.container.setSize(n,t);n=n-this.marginLeftReal-this.marginRightReal-this.dx;t=t-this.marginTopReal-this.marginBottomReal;1>n&&(n=1);1>t&&(t=1);this.plotAreaWidth=Math.round(n);this.plotAreaHeight=Math.round(t)},updateDxy:function(){this.dx=Math.round(this.depth3D*Math.cos(this.angle*Math.PI/180));this.dy=Math.round(-this.depth3D*Math.sin(this.angle*Math.PI/180));this.d3x=Math.round(this.columnSpacing3D*Math.cos(this.angle*Math.PI/180));this.d3y=Math.round(-this.columnSpacing3D*Math.sin(this.angle*Math.PI/180))},updateMargins:function(){var n=this.getTitleHeight();this.titleHeight=n;this.marginTopReal=this.marginTop-this.dy;this.fixMargins&&!this.fixMargins.top&&(this.marginTopReal+=n);this.marginBottomReal=this.marginBottom;this.marginLeftReal=this.marginLeft;this.marginRightReal=this.marginRight},updateValueAxes:function(){for(var i=this.valueAxes,r=this.marginLeftReal,u=this.marginTopReal,f=this.plotAreaHeight,e=this.plotAreaWidth,n,t=0;t<i.length;t++)n=i[t],n.axisRenderer=AmCharts.RecAxis,n.guideFillRenderer=AmCharts.RecFill,n.axisItemRenderer=AmCharts.RecItem,n.dx=this.dx,n.dy=this.dy,n.viW=e-1,n.viH=f-1,n.marginsChanged=!0,n.viX=r,n.viY=u,this.updateObjectSize(n)},updateObjectSize:function(n){n.width=(this.plotAreaWidth-1)*this.widthMultiplier;n.height=(this.plotAreaHeight-1)*this.heightMultiplier;n.x=this.marginLeftReal+this.horizontalPosition;n.y=this.marginTopReal+this.verticalPosition},updateGraphs:function(){for(var i=this.graphs,n,t=0;t<i.length;t++)n=i[t],n.x=this.marginLeftReal+this.horizontalPosition,n.y=this.marginTopReal+this.verticalPosition,n.width=this.plotAreaWidth*this.widthMultiplier,n.height=this.plotAreaHeight*this.heightMultiplier,n.index=t,n.dx=this.dx,n.dy=this.dy,n.rotate=this.rotate},updateChartCursor:function(){var n=this.chartCursor;n&&(n=AmCharts.processObject(n,AmCharts.ChartCursor,this.theme),this.addChartCursor(n),n.x=this.marginLeftReal,n.y=this.marginTopReal,n.width=this.plotAreaWidth-1,n.height=this.plotAreaHeight-1,n.chart=this)},processScrollbars:function(){var n=this.chartScrollbar;n&&(n=AmCharts.processObject(n,AmCharts.ChartScrollbar,this.theme),this.addChartScrollbar(n))},updateScrollbars:function(){},addChartCursor:function(n){AmCharts.callMethod("destroy",[this.chartCursor]);n&&(this.listenTo(n,"changed",this.handleCursorChange),this.listenTo(n,"zoomed",this.handleCursorZoom));this.chartCursor=n},removeChartCursor:function(){AmCharts.callMethod("destroy",[this.chartCursor]);this.chartCursor=null},zoomTrendLines:function(){for(var i=this.trendLines,n,t=0;t<i.length;t++)n=i[t],n.valueAxis.recalculateToPercents?n.set&&n.set.hide():(n.x=this.marginLeftReal+this.horizontalPosition,n.y=this.marginTopReal+this.verticalPosition,n.draw())},addTrendLine:function(n){this.trendLines.push(n)},removeTrendLine:function(n){for(var i=this.trendLines,t=i.length-1;0<=t;t--)i[t]==n&&i.splice(t,1)},adjustMargins:function(n,t){var r=n.position,i=n.scrollbarHeight+n.offset;n.enabled&&("top"==r?t?this.marginLeftReal+=i:this.marginTopReal+=i:t?this.marginRightReal+=i:this.marginBottomReal+=i)},getScrollbarPosition:function(n,t,i){n.position=t?"bottom"==i||"left"==i?"bottom":"top":"top"==i||"right"==i?"bottom":"top"},updateChartScrollbar:function(n,t){if(n){n.rotate=t;var i=this.marginTopReal,u=this.marginLeftReal,f=n.scrollbarHeight,e=this.dx,o=this.dy,r=n.offset;"top"==n.position?t?(n.y=i,n.x=u-f-r):(n.y=i-f+o-r,n.x=u+e):t?(n.y=i+o,n.x=u+this.plotAreaWidth+e+r):(n.y=i+this.plotAreaHeight+r,n.x=this.marginLeftReal)}},showZB:function(n){var t=this.zbSet;t&&(n?t.show():t.hide(),this.rollOutZB())},handleReleaseOutside:function(n){AmCharts.AmRectangularChart.base.handleReleaseOutside.call(this,n);(n=this.chartCursor)&&n.handleReleaseOutside&&n.handleReleaseOutside()},handleMouseDown:function(n){AmCharts.AmRectangularChart.base.handleMouseDown.call(this,n);var t=this.chartCursor;t&&t.handleMouseDown(n)},handleCursorChange:function(){}});AmCharts.TrendLine=AmCharts.Class({construct:function(n){this.cname="TrendLine";this.createEvents("click");this.isProtected=!1;this.dashLength=0;this.lineColor="#00CC00";this.lineThickness=this.lineAlpha=1;AmCharts.applyTheme(this,n,this.cname)},draw:function(){var n=this;n.destroy();var e=n.chart,c=e.container,f,u,o,l,i=n.categoryAxis,s=n.initialDate,a=n.initialCategory,h=n.finalDate,r=n.finalCategory,t=n.valueAxis,v=n.valueAxisX,y=n.initialXValue,p=n.finalXValue,w=n.initialValue,b=n.finalValue,k=t.recalculateToPercents,d=e.dataDateFormat;i&&(s&&(s=AmCharts.getDate(s,d,"fff"),n.initialDate=s,f=i.dateToCoordinate(s)),a&&(f=i.categoryToCoordinate(a)),h&&(h=AmCharts.getDate(h,d,"fff"),n.finalDate=h,u=i.dateToCoordinate(h)),r&&(u=i.categoryToCoordinate(r)));v&&!k&&(isNaN(y)||(f=v.getCoordinate(y)),isNaN(p)||(u=v.getCoordinate(p)));t&&!k&&(isNaN(w)||(o=t.getCoordinate(w)),isNaN(b)||(l=t.getCoordinate(b)));isNaN(f)||isNaN(u)||isNaN(o)||isNaN(o)||(e.rotate?(i=[o,l],u=[f,u]):(i=[f,u],u=[o,l]),o=n.lineColor,f=AmCharts.line(c,i,u,o,n.lineAlpha,n.lineThickness,n.dashLength),l=i,s=u,r=i[1]-i[0],t=u[1]-u[0],0===r&&(r=.01),0===t&&(t=.01),a=r/Math.abs(r),h=t/Math.abs(t),t=r*t/Math.abs(r*t)*Math.sqrt(Math.pow(r,2)+Math.pow(t,2)),r=Math.asin(r/t),t=Math.PI/2-r,r=Math.abs(5*Math.cos(t)),t=Math.abs(5*Math.sin(t)),l.push(i[1]-a*t,i[0]-a*t),s.push(u[1]+h*r,u[0]+h*r),i=AmCharts.polygon(c,l,s,o,.005,0),c=c.set([i,f]),c.translate(e.marginLeftReal,e.marginTopReal),e.trendLinesSet.push(c),AmCharts.setCN(e,f,"trend-line"),AmCharts.setCN(e,f,"trend-line-"+n.id),n.line=f,n.set=c,i.mouseup(function(){n.handleLineClick()}).mouseover(function(){n.handleLineOver()}).mouseout(function(){n.handleLineOut()}),i.touchend&&i.touchend(function(){n.handleLineClick()}))},handleLineClick:function(){var n={type:"click",trendLine:this,chart:this.chart};this.fire(n.type,n)},handleLineOver:function(){var n=this.rollOverColor;void 0!==n&&this.line.attr({stroke:n})},handleLineOut:function(){this.line.attr({stroke:this.lineColor})},destroy:function(){AmCharts.remove(this.set)}});AmCharts.circle=function(n,t,i,r,u,f,e,o,s){return 0>=t&&(t=.001),(void 0==u||0===u)&&(u=.01),void 0===f&&(f="#000000"),void 0===e&&(e=0),r={fill:i,stroke:f,"fill-opacity":r,"stroke-width":u,"stroke-opacity":e},n=isNaN(s)?n.circle(0,0,t).attr(r):n.ellipse(0,0,t,s).attr(r),o&&n.gradient("radialGradient",[i,AmCharts.adjustLuminosity(i,-.6)]),n};AmCharts.text=function(n,t,i,r,u,f,e,o){return f||(f="middle"),"right"==f&&(f="end"),"left"==f&&(f="start"),isNaN(o)&&(o=1),void 0!==t&&(t=String(t),AmCharts.isIE&&!AmCharts.isModern&&(t=t.replace("&amp;","&"),t=t.replace("&","&amp;"))),i={fill:i,"font-family":r,"font-size":u,opacity:o},!0===e&&(i["font-weight"]="bold"),i["text-anchor"]=f,n.text(t,i)};AmCharts.polygon=function(n,t,i,r,u,f,e,o,s,h,c){isNaN(f)&&(f=.01);isNaN(o)&&(o=u);var l=r,a=!1;for("object"==typeof l&&1<l.length&&(a=!0,l=l[0]),void 0===e&&(e=l),u={fill:l,stroke:e,"fill-opacity":u,"stroke-width":f,"stroke-opacity":o},void 0!==c&&0<c&&(u["stroke-dasharray"]=c),c=AmCharts.dx,f=AmCharts.dy,n.handDrawn&&(i=AmCharts.makeHD(t,i,n.handDrawScatter),t=i[0],i=i[1]),e=Math.round,h&&(e=AmCharts.doNothing),h="M"+(e(t[0])+c)+","+(e(i[0])+f),o=1;o<t.length;o++)h+=" L"+(e(t[o])+c)+","+(e(i[o])+f);return n=n.path(h+" Z").attr(u),a&&n.gradient("linearGradient",r,s),n};AmCharts.rect=function(n,t,i,r,u,f,e,o,s,h,c){var l,y,a,v;return isNaN(f)&&(f=0),void 0===s&&(s=0),void 0===h&&(h=270),isNaN(u)&&(u=0),l=r,y=!1,"object"==typeof l&&(l=l[0],y=!0),void 0===e&&(e=l),void 0===o&&(o=u),t=Math.round(t),i=Math.round(i),a=0,v=0,0>t&&(t=Math.abs(t),a=-t),0>i&&(i=Math.abs(i),v=-i),a+=AmCharts.dx,v+=AmCharts.dy,u={fill:l,stroke:e,"fill-opacity":u,"stroke-opacity":o},void 0!==c&&0<c&&(u["stroke-dasharray"]=c),n=n.rect(a,v,t,i,s,f).attr(u),y&&n.gradient("linearGradient",r,h),n};AmCharts.bullet=function(n,t,i,r,u,f,e,o,s,h,c){var l;"circle"==t&&(t="round");switch(t){case"round":l=AmCharts.circle(n,i/2,r,u,f,e,o);break;case"square":l=AmCharts.polygon(n,[-i/2,i/2,i/2,-i/2],[i/2,i/2,-i/2,-i/2],r,u,f,e,o,h-180);break;case"rectangle":l=AmCharts.polygon(n,[-i,i,i,-i],[i/2,i/2,-i/2,-i/2],r,u,f,e,o,h-180);break;case"diamond":l=AmCharts.polygon(n,[-i/2,0,i/2,0],[0,-i/2,0,i/2],r,u,f,e,o);break;case"triangleUp":l=AmCharts.triangle(n,i,0,r,u,f,e,o);break;case"triangleDown":l=AmCharts.triangle(n,i,180,r,u,f,e,o);break;case"triangleLeft":l=AmCharts.triangle(n,i,270,r,u,f,e,o);break;case"triangleRight":l=AmCharts.triangle(n,i,90,r,u,f,e,o);break;case"bubble":l=AmCharts.circle(n,i/2,r,u,f,e,o,!0);break;case"line":l=AmCharts.line(n,[-i/2,i/2],[0,0],r,u,f,e,o);break;case"yError":l=n.set();l.push(AmCharts.line(n,[0,0],[-i/2,i/2],r,u,f));l.push(AmCharts.line(n,[-s,s],[-i/2,-i/2],r,u,f));l.push(AmCharts.line(n,[-s,s],[i/2,i/2],r,u,f));break;case"xError":l=n.set();l.push(AmCharts.line(n,[-i/2,i/2],[0,0],r,u,f));l.push(AmCharts.line(n,[-i/2,-i/2],[-s,s],r,u,f));l.push(AmCharts.line(n,[i/2,i/2],[-s,s],r,u,f))}return l&&l.pattern(c),l};AmCharts.triangle=function(n,t,i,r,u,f,e,o){(void 0===f||0===f)&&(f=1);void 0===e&&(e="#000");void 0===o&&(o=0);r={fill:r,stroke:e,"fill-opacity":u,"stroke-width":f,"stroke-opacity":o};t/=2;var s;return 0===i&&(s=" M"+-t+","+t+" L0,"+-t+" L"+t+","+t+" Z"),180==i&&(s=" M"+-t+","+-t+" L0,"+t+" L"+t+","+-t+" Z"),90==i&&(s=" M"+-t+","+-t+" L"+t+",0 L"+-t+","+t+" Z"),270==i&&(s=" M"+-t+",0 L"+t+","+t+" L"+t+","+-t+" Z"),n.path(s).attr(r)};AmCharts.line=function(n,t,i,r,u,f,e,o,s,h,c){if(n.handDrawn&&!c)return AmCharts.handDrawnLine(n,t,i,r,u,f,e,o,s,h,c);for(f={fill:"none","stroke-width":f},void 0!==e&&0<e&&(f["stroke-dasharray"]=e),isNaN(u)||(f["stroke-opacity"]=u),r&&(f.stroke=r),r=Math.round,h&&(r=AmCharts.doNothing),h=AmCharts.dx,u=AmCharts.dy,e="M"+(r(t[0])+h)+","+(r(i[0])+u),o=1;o<t.length;o++)e+=" L"+(r(t[o])+h)+","+(r(i[o])+u);return AmCharts.VML?n.path(e,void 0,!0).attr(f):(s&&(e+=" M0,0 L0,0"),n.path(e).attr(f))};AmCharts.makeHD=function(n,t,i){for(var a,v,c=[],l=[],r=1;r<n.length;r++)for(var e=Number(n[r-1]),o=Number(t[r-1]),s=Number(n[r]),h=Number(t[r]),u=Math.sqrt(Math.pow(s-e,2)+Math.pow(h-o,2)),u=Math.round(u/50)+1,s=(s-e)/u,h=(h-o)/u,f=0;f<=u;f++)a=e+f*s+Math.random()*i,v=o+f*h+Math.random()*i,c.push(a),l.push(v);return[c,l]};AmCharts.handDrawnLine=function(n,t,i,r,u,f,e,o,s,h,c){var y=n.set();for(c=1;c<t.length;c++)for(var v=[t[c-1],t[c]],a=[i[c-1],i[c]],a=AmCharts.makeHD(v,a,n.handDrawScatter),v=a[0],a=a[1],l=1;l<v.length;l++)y.push(AmCharts.line(n,[v[l-1],v[l]],[a[l-1],a[l]],r,u,f+Math.random()*n.handDrawThickness-n.handDrawThickness/2,e,o,s,h,!0));return y};AmCharts.doNothing=function(n){return n};AmCharts.wedge=function(n,t,i,r,u,f,e,o,s,h,c,l){var a=Math.round,ut,k;f=a(f);e=a(e);o=a(o);var tt=a(e/f*o),ft=AmCharts.VML,y=359.5+f/100;359.94<y&&(y=359.94);u>=y&&(u=y);var v=1/180*Math.PI,y=t+Math.sin(r*v)*o,p=i-Math.cos(r*v)*tt,w=t+Math.sin(r*v)*f,b=i-Math.cos(r*v)*e,d=t+Math.sin((r+u)*v)*f,g=i-Math.cos((r+u)*v)*e,nt=t+Math.sin((r+u)*v)*o,v=i-Math.cos((r+u)*v)*tt,it={fill:AmCharts.adjustLuminosity(h.fill,-.2),"stroke-opacity":0,"fill-opacity":h["fill-opacity"]},rt=0;if(180<Math.abs(u)&&(rt=1),r=n.set(),ft&&(y=a(10*y),w=a(10*w),d=a(10*d),nt=a(10*nt),p=a(10*p),b=a(10*b),g=a(10*g),v=a(10*v),t=a(10*t),s=a(10*s),i=a(10*i),f*=10,e*=10,o*=10,tt*=10,1>Math.abs(u)&&1>=Math.abs(d-w)&&1>=Math.abs(g-b)&&(ut=!0)),u="",l&&(it["fill-opacity"]=0,it["stroke-opacity"]=h["stroke-opacity"]/2,it.stroke=h.stroke),0<s&&(k=" M"+y+","+(p+s)+" L"+w+","+(b+s),ft?(ut||(k+=" A"+(t-f)+","+(s+i-e)+","+(t+f)+","+(s+i+e)+","+w+","+(b+s)+","+d+","+(g+s)),k+=" L"+nt+","+(v+s),0<o&&(ut||(k+=" B"+(t-o)+","+(s+i-tt)+","+(t+o)+","+(s+i+tt)+","+nt+","+(s+v)+","+y+","+(s+p)))):(k+=" A"+f+","+e+",0,"+rt+",1,"+d+","+(g+s)+" L"+nt+","+(v+s),0<o&&(k+=" A"+o+","+tt+",0,"+rt+",0,"+y+","+(p+s))),k=n.path(k+" Z",void 0,void 0,"1000,1000").attr(it),r.push(k),k=n.path(" M"+y+","+p+" L"+y+","+(p+s)+" L"+w+","+(b+s)+" L"+w+","+b+" L"+y+","+p+" Z",void 0,void 0,"1000,1000").attr(it),s=n.path(" M"+d+","+g+" L"+d+","+(g+s)+" L"+nt+","+(v+s)+" L"+nt+","+v+" L"+d+","+g+" Z",void 0,void 0,"1000,1000").attr(it),r.push(k),r.push(s)),ft?(ut||(u=" A"+a(t-f)+","+a(i-e)+","+a(t+f)+","+a(i+e)+","+a(w)+","+a(b)+","+a(d)+","+a(g)),f=" M"+a(y)+","+a(p)+" L"+a(w)+","+a(b)+u+" L"+a(nt)+","+a(v)):f=" M"+y+","+p+" L"+w+","+b+(" A"+f+","+e+",0,"+rt+",1,"+d+","+g)+" L"+nt+","+v,0<o&&(ft?ut||(f+=" B"+(t-o)+","+(i-tt)+","+(t+o)+","+(i+tt)+","+nt+","+v+","+y+","+p):f+=" A"+o+","+tt+",0,"+rt+",0,"+y+","+p),n.handDrawn&&(t=AmCharts.line(n,[y,w],[p,b],h.stroke,h.thickness*Math.random()*n.handDrawThickness,h["stroke-opacity"]),r.push(t)),n=n.path(f+" Z",void 0,void 0,"1000,1000").attr(h),c){for(t=[],i=0;i<c.length;i++)t.push(AmCharts.adjustLuminosity(h.fill,c[i]));0<t.length&&n.gradient("linearGradient",t)}return n.pattern(l),r.wedge=n,r.push(n),r};AmCharts.adjustLuminosity=function(n,t){n=String(n).replace(/[^0-9a-f]/gi,"");6>n.length&&(n=String(n[0])+String(n[0])+String(n[1])+String(n[1])+String(n[2])+String(n[2]));t=t||0;for(var u="#",i,r=0;3>r;r++)i=parseInt(n.substr(2*r,2),16),i=Math.round(Math.min(Math.max(0,i+i*t),255)).toString(16),u+=("00"+i).substr(i.length);return u};AmCharts.Bezier=AmCharts.Class({construct:function(n,t,i,r,u,f,e,o,s,h){for("object"==typeof e&&(e=e[0]),"object"==typeof o&&(o=o[0]),0==o&&(e="none"),f={fill:e,"fill-opacity":o,"stroke-width":f},void 0!==s&&0<s&&(f["stroke-dasharray"]=s),isNaN(u)||(f["stroke-opacity"]=u),r&&(f.stroke=r),r="M"+Math.round(t[0])+","+Math.round(i[0]),u=[],s=0;s<t.length;s++)u.push({x:Number(t[s]),y:Number(i[s])});1<u.length&&(t=this.interpolate(u),r+=this.drawBeziers(t));h?r+=h:AmCharts.VML||(r+="M0,0 L0,0");this.path=n.path(r).attr(f);this.node=this.path.node},interpolate:function(n){var u=[],e;u.push({x:n[0].x,y:n[0].y});var f=n[1].x-n[0].x,i=n[1].y-n[0].y,o=AmCharts.bezierX,s=AmCharts.bezierY;for(u.push({x:n[0].x+f/o,y:n[0].y+i/s}),e=1;e<n.length-1;e++){var r=n[e-1],t=n[e],i=n[e+1];isNaN(i.x)&&(i=t);isNaN(t.x)&&(t=r);isNaN(r.x)&&(r=t);f=i.x-t.x;i=i.y-r.y;r=t.x-r.x;r>f&&(r=f);u.push({x:t.x-r/o,y:t.y-i/s});u.push({x:t.x,y:t.y});u.push({x:t.x+r/o,y:t.y+i/s})}return i=n[n.length-1].y-n[n.length-2].y,f=n[n.length-1].x-n[n.length-2].x,u.push({x:n[n.length-1].x-f/o,y:n[n.length-1].y-i/s}),u.push({x:n[n.length-1].x,y:n[n.length-1].y}),u},drawBeziers:function(n){for(var i="",t=0;t<(n.length-1)/3;t++)i+=this.drawBezierMidpoint(n[3*t],n[3*t+1],n[3*t+2],n[3*t+3]);return i},drawBezierMidpoint:function(n,t,i,r){var u=Math.round,e=this.getPointOnSegment(n,t,.75),o=this.getPointOnSegment(r,i,.75),s=(r.x-n.x)/16,h=(r.y-n.y)/16,f=this.getPointOnSegment(n,t,.375);return n=this.getPointOnSegment(e,o,.375),n.x-=s,n.y-=h,t=this.getPointOnSegment(o,e,.375),t.x+=s,t.y+=h,i=this.getPointOnSegment(r,i,.375),s=this.getMiddle(f,n),e=this.getMiddle(e,o),o=this.getMiddle(t,i),f=" Q"+u(f.x)+","+u(f.y)+","+u(s.x)+","+u(s.y),f+=" Q"+u(n.x)+","+u(n.y)+","+u(e.x)+","+u(e.y),f+=" Q"+u(t.x)+","+u(t.y)+","+u(o.x)+","+u(o.y),f+(" Q"+u(i.x)+","+u(i.y)+","+u(r.x)+","+u(r.y))},getMiddle:function(n,t){return{x:(n.x+t.x)/2,y:(n.y+t.y)/2}},getPointOnSegment:function(n,t,i){return{x:n.x+(t.x-n.x)*i,y:n.y+(t.y-n.y)*i}}});AmCharts.AmDraw=AmCharts.Class({construct:function(n,t,i,r){AmCharts.SVG_NS="http://www.w3.org/2000/svg";AmCharts.SVG_XLINK="http://www.w3.org/1999/xlink";AmCharts.hasSVG=!!document.createElementNS&&!!document.createElementNS(AmCharts.SVG_NS,"svg").createSVGRect;1>t&&(t=10);1>i&&(i=10);this.div=n;this.width=t;this.height=i;this.rBin=document.createElement("div");AmCharts.hasSVG?(AmCharts.SVG=!0,t=this.createSvgElement("svg"),n.appendChild(t),this.container=t,this.addDefs(r),this.R=new AmCharts.SVGRenderer(this)):AmCharts.isIE&&AmCharts.VMLRenderer&&(AmCharts.VML=!0,AmCharts.vmlStyleSheet||(document.namespaces.add("amvml","urn:schemas-microsoft-com:vml"),31>document.styleSheets.length?(t=document.createStyleSheet(),t.addRule(".amvml","behavior:url(#default#VML); display:inline-block; antialias:true"),AmCharts.vmlStyleSheet=t):document.styleSheets[0].addRule(".amvml","behavior:url(#default#VML); display:inline-block; antialias:true")),this.container=n,this.R=new AmCharts.VMLRenderer(this,r),this.R.disableSelection(n))},createSvgElement:function(n){return document.createElementNS(AmCharts.SVG_NS,n)},circle:function(n,t,i,r){var u=new AmCharts.AmDObject("circle",this);return u.attr({r:i,cx:n,cy:t}),this.addToContainer(u.node,r),u},ellipse:function(n,t,i,r,u){var f=new AmCharts.AmDObject("ellipse",this);return f.attr({rx:i,ry:r,cx:n,cy:t}),this.addToContainer(f.node,u),f},setSize:function(n,t){0<n&&0<t&&(this.container.style.width=n+"px",this.container.style.height=t+"px")},rect:function(n,t,i,r,u,f,e){var o=new AmCharts.AmDObject("rect",this);return AmCharts.VML&&(u=Math.round(100*u/Math.min(i,r)),i+=2*f,r+=2*f,o.bw=f,o.node.style.marginLeft=-f,o.node.style.marginTop=-f),1>i&&(i=1),1>r&&(r=1),o.attr({x:n,y:t,width:i,height:r,rx:u,ry:u,"stroke-width":f}),this.addToContainer(o.node,e),o},image:function(n,t,i,r,u,f){var e=new AmCharts.AmDObject("image",this);return e.attr({x:t,y:i,width:r,height:u}),this.R.path(e,n),this.addToContainer(e.node,f),e},addToContainer:function(n,t){t||(t=this.container);t.appendChild(n)},text:function(n,t,i){return this.R.text(n,t,i)},path:function(n,t,i,r){var u=new AmCharts.AmDObject("path",this);return r||(r="100,100"),u.attr({cs:r}),i?u.attr({dd:n}):u.attr({d:n}),this.addToContainer(u.node,t),u},set:function(n){return this.R.set(n)},remove:function(n){if(n){var t=this.rBin;t.appendChild(n);t.innerHTML=""}},renderFix:function(){var n=this.container,i=n.style,t;try{t=n.getScreenCTM()||n.createSVGMatrix()}catch(r){t=n.createSVGMatrix()}n=1-t.e%1;t=1-t.f%1;.5<n&&--n;.5<t&&--t;n&&(i.left=n+"px");t&&(i.top=t+"px")},update:function(){this.R.update()},addDefs:function(n){if(AmCharts.hasSVG){var i=this.createSvgElement("desc"),t=this.container;t.setAttribute("version","1.1");t.style.position="absolute";this.setSize(this.width,this.height);AmCharts.rtl&&(t.setAttribute("direction","rtl"),t.style.left="auto",t.style.right="0px");i.appendChild(document.createTextNode("JavaScript chart by amCharts "+n.version));t.appendChild(i);n.defs&&(i=this.createSvgElement("defs"),t.appendChild(i),AmCharts.parseDefs(n.defs,i),this.defs=i)}}});AmCharts.AmDObject=AmCharts.Class({construct:function(n,t){this.D=t;this.R=t.R;this.node=this.R.create(this,n);this.y=this.x=0;this.scale=1},attr:function(n){return this.R.attr(this,n),this},getAttr:function(n){return this.node.getAttribute(n)},setAttr:function(n,t){return this.R.setAttr(this,n,t),this},clipRect:function(n,t,i,r){this.R.clipRect(this,n,t,i,r)},translate:function(n,t,i,r){r||(n=Math.round(n),t=Math.round(t));this.R.move(this,n,t,i);this.x=n;this.y=t;this.scale=i;this.angle&&this.rotate(this.angle)},rotate:function(n,t){this.R.rotate(this,n,t);this.angle=n},animate:function(n,t,i){var r,u,f;for(r in n)n.hasOwnProperty(r)&&(u=r,f=n[r],i=AmCharts.getEffect(i),this.R.animate(this,u,f,t,i))},push:function(n){var t,i;n&&(t=this.node,t.appendChild(n.node),i=n.clipPath,i&&t.appendChild(i),(n=n.grad)&&t.appendChild(n))},text:function(n){this.R.setText(this,n)},remove:function(){this.R.remove(this)},clear:function(){var n=this.node;if(n.hasChildNodes())for(;1<=n.childNodes.length;)n.removeChild(n.firstChild)},hide:function(){this.setAttr("visibility","hidden")},show:function(){this.setAttr("visibility","visible")},getBBox:function(){return this.R.getBBox(this)},toFront:function(){var n=this.node,t;n&&(this.prevNextNode=n.nextSibling,t=n.parentNode,t&&t.appendChild(n))},toPrevious:function(){var n=this.node;n&&this.prevNextNode&&(n=n.parentNode)&&n.insertBefore(this.prevNextNode,null)},toBack:function(){var n=this.node,t,i;n&&(this.prevNextNode=n.nextSibling,t=n.parentNode,t&&(i=t.firstChild,i&&t.insertBefore(n,i)))},mouseover:function(n){return this.R.addListener(this,"mouseover",n),this},mouseout:function(n){return this.R.addListener(this,"mouseout",n),this},click:function(n){return this.R.addListener(this,"click",n),this},dblclick:function(n){return this.R.addListener(this,"dblclick",n),this},mousedown:function(n){return this.R.addListener(this,"mousedown",n),this},mouseup:function(n){return this.R.addListener(this,"mouseup",n),this},touchstart:function(n){return this.R.addListener(this,"touchstart",n),this},touchend:function(n){return this.R.addListener(this,"touchend",n),this},contextmenu:function(n){return this.node.addEventListener?this.node.addEventListener("contextmenu",n,!0):this.R.addListener(this,"contextmenu",n),this},stop:function(){AmCharts.removeFromArray(this.R.animations,this.an_x);AmCharts.removeFromArray(this.R.animations,this.an_y)},length:function(){return this.node.childNodes.length},gradient:function(n,t,i){this.R.gradient(this,n,t,i)},pattern:function(n,t){n&&this.R.pattern(this,n,t)}});AmCharts.VMLRenderer=AmCharts.Class({construct:function(n,t){this.chart=t;this.D=n;this.cNames={circle:"oval",ellipse:"oval",rect:"roundrect",path:"shape"};this.styleMap={x:"left",y:"top",width:"width",height:"height","font-family":"fontFamily","font-size":"fontSize",visibility:"visibility"}},create:function(n,t){var i,r,u;return"group"==t?(i=document.createElement("div"),n.type="div"):"text"==t?(i=document.createElement("div"),n.type="text"):"image"==t?(i=document.createElement("img"),n.type="image"):(n.type="shape",n.shapeType=this.cNames[t],i=document.createElement("amvml:"+this.cNames[t]),r=document.createElement("amvml:stroke"),i.appendChild(r),n.stroke=r,u=document.createElement("amvml:fill"),i.appendChild(u),n.fill=u,u.className="amvml",r.className="amvml",i.className="amvml"),i.style.position="absolute",i.style.top=0,i.style.left=0,i},path:function(n,t){n.node.setAttribute("src",t)},setAttr:function(n,t,i){var e,f;if(void 0!==i){8===document.documentMode&&(e=!0);var o=n.node,u=n.type,r=o.style;if("r"==t&&(r.width=2*i,r.height=2*i),"oval"==n.shapeType&&("rx"==t&&(r.width=2*i),"ry"==t&&(r.height=2*i)),"roundrect"==n.shapeType&&("width"!=t&&"height"!=t||--i),"cursor"==t&&(r.cursor=i),"cx"==t&&(r.left=i-AmCharts.removePx(r.width)/2),"cy"==t&&(r.top=i-AmCharts.removePx(r.height)/2),f=this.styleMap[t],void 0!==f&&(r[f]=i),"text"==u&&("text-anchor"==t&&(n.anchor=i,f=o.clientWidth,"end"==i&&(r.marginLeft=-f+"px"),"middle"==i&&(r.marginLeft=-(f/2)+"px",r.textAlign="center"),"start"==i&&(r.marginLeft="0px")),"fill"==t&&(r.color=i),"font-weight"==t&&(r.fontWeight=i)),r=n.children)for(f=0;f<r.length;f++)r[f].setAttr(t,i);"shape"==u&&("cs"==t&&(o.style.width="100px",o.style.height="100px",o.setAttribute("coordsize",i)),"d"==t&&o.setAttribute("path",this.svgPathToVml(i)),"dd"==t&&o.setAttribute("path",i),u=n.stroke,n=n.fill,"stroke"==t&&(e?u.color=i:u.setAttribute("color",i)),"stroke-width"==t&&(e?u.weight=i:u.setAttribute("weight",i)),"stroke-opacity"==t&&(e?u.opacity=i:u.setAttribute("opacity",i)),"stroke-dasharray"==t&&(r="solid",0<i&&3>i&&(r="dot"),3<=i&&6>=i&&(r="dash"),6<i&&(r="longdash"),e?u.dashstyle=r:u.setAttribute("dashstyle",r)),("fill-opacity"==t||"opacity"==t)&&(0===i?e?n.on=!1:n.setAttribute("on",!1):e?n.opacity=i:n.setAttribute("opacity",i)),"fill"==t&&(e?n.color=i:n.setAttribute("color",i)),"rx"==t&&(e?o.arcSize=i+"%":o.setAttribute("arcsize",i+"%")))}},attr:function(n,t){for(var i in t)t.hasOwnProperty(i)&&this.setAttr(n,i,t[i])},text:function(n,t,i){var r=new AmCharts.AmDObject("text",this.D),u=r.node;return u.style.whiteSpace="pre",u.innerHTML=n,this.D.addToContainer(u,i),this.attr(r,t),r},getBBox:function(n){return this.getBox(n.node)},getBox:function(n){var h=n.offsetLeft,c=n.offsetTop,o=n.offsetWidth,s=n.offsetHeight,i,r,u,e,t,f;if(n.hasChildNodes()){for(e=0;e<n.childNodes.length;e++)i=this.getBox(n.childNodes[e]),t=i.x,isNaN(t)||(isNaN(r)?r=t:t<r&&(r=t)),f=i.y,isNaN(f)||(isNaN(u)?u=f:f<u&&(u=f)),t=i.width+t,isNaN(t)||(o=Math.max(o,t)),i=i.height+f,isNaN(i)||(s=Math.max(s,i));0>r&&(h+=r);0>u&&(c+=u)}return{x:h,y:c,width:o,height:s}},setText:function(n,t){var i=n.node;i&&(i.innerHTML=t);this.setAttr(n,"text-anchor",n.anchor)},addListener:function(n,t,i){n.node["on"+t]=i},move:function(n,t,i){var r=n.node,u=r.style;"text"==n.type&&(i-=AmCharts.removePx(u.fontSize)/2-1);"oval"==n.shapeType&&(t-=AmCharts.removePx(u.width)/2,i-=AmCharts.removePx(u.height)/2);n=n.bw;isNaN(n)||(t-=n,i-=n);isNaN(t)||isNaN(i)||(r.style.left=t+"px",r.style.top=i+"px")},svgPathToVml:function(n){var l=n.split(" "),r,t,e;for(n="",t=Math.round,e=0;e<l.length;e++){var f=l[e],u=f.substring(0,1),f=f.substring(1),i=f.split(","),o=t(i[0])+","+t(i[1]);if("M"==u&&(n+=" m "+o),"L"==u&&(n+=" l "+o),"Z"==u&&(n+=" x e"),"Q"==u){var a=r.length,c=r[a-1],s=i[0],h=i[1],o=i[2],v=i[3];r=t(r[a-2]/3+2/3*s);c=t(c/3+2/3*h);s=t(2/3*s+o/3);h=t(2/3*h+v/3);n+=" c "+r+","+c+","+s+","+h+","+o+","+v}"A"==u&&(n+=" wa "+f);"B"==u&&(n+=" at "+f);r=i}return n},animate:function(n,t,i,r,u){var f=n.node,e=this.chart,o;"translate"==t&&(t=i.split(","),i=t[1],o=f.offsetTop,e.animate(n,"left",f.offsetLeft,t[0],r,u,"px"),e.animate(n,"top",o,i,r,u,"px"))},clipRect:function(n,t,i,r,u){n=n.node;0===t&&0===i?(n.style.width=r+"px",n.style.height=u+"px",n.style.overflow="hidden"):n.style.clip="rect("+i+"px "+(t+r)+"px "+(i+u)+"px "+t+"px)"},rotate:function(n,t,i){var r;if(0!==Number(t)){r=n.node;n=r.style;i||(i=this.getBGColor(r.parentNode));n.backgroundColor=i;n.paddingLeft=1;i=t*Math.PI/180;var f=Math.cos(i),e=Math.sin(i),o=AmCharts.removePx(n.left),s=AmCharts.removePx(n.top),u=r.offsetWidth,r=r.offsetHeight;t/=Math.abs(t);n.left=o+u/2-u/2*Math.cos(i)-t*r/2*Math.sin(i)+3;n.top=s-t*u/2*Math.sin(i)+t*r/2*Math.sin(i);n.cssText=n.cssText+"; filter:progid:DXImageTransform.Microsoft.Matrix(M11='"+f+"', M12='"+-e+"', M21='"+e+"', M22='"+f+"', sizingmethod='auto expand');"}},getBGColor:function(n){var t="#FFFFFF",i;return n.style&&(i=n.style.backgroundColor,""!==i?t=i:n.parentNode&&(t=this.getBGColor(n.parentNode))),t},set:function(n){var i=new AmCharts.AmDObject("group",this.D),t;if(this.D.container.appendChild(i.node),n)for(t=0;t<n.length;t++)i.push(n[t]);return i},gradient:function(n,t,i,r){var f="",u,e;for("radialGradient"==t&&(t="gradientradial",i.reverse()),"linearGradient"==t&&(t="gradient"),u=0;u<i.length;u++)e=Math.round(100*u/(i.length-1)),f=f+(e+"% "+i[u]),u<i.length-1&&(f+=",");n=n.fill;90==r?r=0:270==r?r=180:180==r?r=90:0===r&&(r=270);8===document.documentMode?(n.type=t,n.angle=r):(n.setAttribute("type",t),n.setAttribute("angle",r));f&&(n.colors.value=f)},remove:function(n){n.clipPath&&this.D.remove(n.clipPath);this.D.remove(n.node)},disableSelection:function(n){void 0!==typeof n.onselectstart&&(n.onselectstart=function(){return!1});n.style.cursor="default"},pattern:function(n,t){var u=n.node,i=n.fill,r="none";t.color&&(r=t.color);u.fillColor=r;8===document.documentMode?(i.type="tile",i.src=t.url):(i.setAttribute("type","tile"),i.setAttribute("src",t.url))},update:function(){}});AmCharts.SVGRenderer=AmCharts.Class({construct:function(n){this.D=n;this.animations=[]},create:function(n,t){return document.createElementNS(AmCharts.SVG_NS,t)},attr:function(n,t){for(var i in t)t.hasOwnProperty(i)&&this.setAttr(n,i,t[i])},setAttr:function(n,t,i){void 0!==i&&n.node.setAttribute(t,i)},animate:function(n,t,i,r,u){var f=n.node;n["an_"+t]&&AmCharts.removeFromArray(this.animations,n["an_"+t]);"translate"==t?(f=(f=f.getAttribute("transform"))?String(f).substring(10,f.length-1):"0,0",f=f.split(", ").join(" "),f=f.split(" ").join(","),0===f&&(f="0,0")):f=Number(f.getAttribute(t));i={obj:n,frame:0,attribute:t,from:f,to:i,time:r,effect:u};this.animations.push(i);n["an_"+t]=i},update:function(){for(var h=this.animations,f=h.length-1;0<=f;f--){var n=h[f],e=1e3*n.time/AmCharts.updateRate,o=n.frame+1,s=n.obj,u=n.attribute,i,t,r;o<=e?(n.frame++,"translate"==u?(i=n.from.split(","),u=Number(i[0]),i=Number(i[1]),isNaN(i)&&(i=0),t=n.to.split(","),r=Number(t[0]),t=Number(t[1]),r=0==r-u?r:Math.round(AmCharts[n.effect](0,o,u,r-u,e)),n=0==t-i?t:Math.round(AmCharts[n.effect](0,o,i,t-i,e)),u="transform",n="translate("+r+","+n+")"):(t=Number(n.from),i=Number(n.to),r=i-t,n=AmCharts[n.effect](0,o,t,r,e),isNaN(n)&&(n=i),0===r&&this.animations.splice(f,1)),this.setAttr(s,u,n)):("translate"==u?(t=n.to.split(","),r=Number(t[0]),t=Number(t[1]),s.translate(r,t)):(i=Number(n.to),this.setAttr(s,u,i)),this.animations.splice(f,1))}},getBBox:function(n){if(n=n.node)try{return n.getBBox()}catch(t){}return{width:0,height:0,x:0,y:0}},path:function(n,t){n.node.setAttributeNS(AmCharts.SVG_XLINK,"xlink:href",t)},clipRect:function(n,t,i,r,u){var f=n.node,e=n.clipPath,o;e&&this.D.remove(e);o=f.parentNode;o&&(f=document.createElementNS(AmCharts.SVG_NS,"clipPath"),e=AmCharts.getUniqueId(),f.setAttribute("id",e),this.D.rect(t,i,r,u,0,0,f),o.appendChild(f),t="#",AmCharts.baseHref&&!AmCharts.isIE&&(t=this.removeTarget(window.location.href)+t),this.setAttr(n,"clip-path","url("+t+e+")"),this.clipPathC++,n.clipPath=f)},text:function(n,t,i){var u=new AmCharts.AmDObject("text",this.D),f,e,r;for(n=String(n).split("\n"),f=t["font-size"],e=0;e<n.length;e++)r=this.create(null,"tspan"),r.appendChild(document.createTextNode(n[e])),r.setAttribute("y",(f+2)*e+Math.round(f/2)),r.setAttribute("x",0),r.style.fontSize=f+"px",u.node.appendChild(r);return u.node.setAttribute("y",Math.round(f/2)),this.attr(u,t),this.D.addToContainer(u.node,i),u},setText:function(n,t){var i=n.node;i&&(i.removeChild(i.firstChild),i.appendChild(document.createTextNode(t)))},move:function(n,t,i,r){isNaN(t)&&(t=0);isNaN(i)&&(i=0);t="translate("+t+","+i+")";r&&(t=t+" scale("+r+")");this.setAttr(n,"transform",t)},rotate:function(n,t){var r=n.node.getAttribute("transform"),i="rotate("+t+")";r&&(i=r+" "+i);this.setAttr(n,"transform",i)},set:function(n){var i=new AmCharts.AmDObject("g",this.D),t;if(this.D.container.appendChild(i.node),n)for(t=0;t<n.length;t++)i.push(n[t]);return i},addListener:function(n,t,i){n.node["on"+t]=i},gradient:function(n,t,i,r){var o=n.node,f=n.grad;if(f&&this.D.remove(f),t=document.createElementNS(AmCharts.SVG_NS,t),f=AmCharts.getUniqueId(),t.setAttribute("id",f),!isNaN(r)){var u=0,e=0,s=0,h=0;90==r?s=100:270==r?h=100:180==r?u=100:0===r&&(e=100);t.setAttribute("x1",u+"%");t.setAttribute("x2",e+"%");t.setAttribute("y1",s+"%");t.setAttribute("y2",h+"%")}for(r=0;r<i.length;r++)u=document.createElementNS(AmCharts.SVG_NS,"stop"),e=100*r/(i.length-1),0===r&&(e=0),u.setAttribute("offset",e+"%"),u.setAttribute("stop-color",i[r]),t.appendChild(u);o.parentNode.appendChild(t);i="#";AmCharts.baseHref&&!AmCharts.isIE&&(i=this.removeTarget(window.location.href)+i);o.setAttribute("fill","url("+i+f+")");n.grad=t},removeTarget:function(n){return urlArr=n.split("#"),urlArr[0]},pattern:function(n,t,i){var h=n.node,r,o,s,u,f;isNaN(i)&&(i=1);r=n.patternNode;r&&this.D.remove(r);var r=document.createElementNS(AmCharts.SVG_NS,"pattern"),c=AmCharts.getUniqueId(),e=t;t.url&&(e=t.url);o=Number(t.width);isNaN(o)&&(o=4);s=Number(t.height);isNaN(s)&&(s=4);o/=i;s/=i;i=t.x;isNaN(i)&&(i=0);u=-Math.random()*Number(t.randomX);isNaN(u)||(i=u);u=t.y;isNaN(u)&&(u=0);f=-Math.random()*Number(t.randomY);isNaN(f)||(u=f);r.setAttribute("id",c);r.setAttribute("width",o);r.setAttribute("height",s);r.setAttribute("patternUnits","userSpaceOnUse");r.setAttribute("xlink:href",e);t.color&&(f=document.createElementNS(AmCharts.SVG_NS,"rect"),f.setAttributeNS(null,"height",o),f.setAttributeNS(null,"width",s),f.setAttributeNS(null,"fill",t.color),r.appendChild(f));this.D.image(e,0,0,o,s,r).translate(i,u);e="#";AmCharts.baseHref&&!AmCharts.isIE&&(e=this.removeTarget(window.location.href)+e);h.setAttribute("fill","url("+e+c+")");n.patternNode=r;h.parentNode.appendChild(r)},remove:function(n){n.clipPath&&this.D.remove(n.clipPath);n.grad&&this.D.remove(n.grad);n.patternNode&&this.D.remove(n.patternNode);this.D.remove(n.node)}});AmCharts.AmDSet=AmCharts.Class({construct:function(){this.create("g")},attr:function(n){this.R.attr(this.node,n)},move:function(n,t){this.R.move(this.node,n,t)}});AmCharts.AmLegend=AmCharts.Class({construct:function(n){this.enabled=!0;this.cname="AmLegend";this.createEvents("rollOverMarker","rollOverItem","rollOutMarker","rollOutItem","showItem","hideItem","clickMarker","rollOverItem","rollOutItem","clickLabel");this.position="bottom";this.borderColor=this.color="#000000";this.borderAlpha=0;this.markerLabelGap=5;this.verticalGap=10;this.align="left";this.horizontalGap=0;this.spacing=10;this.markerDisabledColor="#AAB3B3";this.markerType="square";this.markerSize=16;this.markerBorderThickness=this.markerBorderAlpha=1;this.marginBottom=this.marginTop=0;this.marginLeft=this.marginRight=20;this.autoMargins=!0;this.valueWidth=50;this.switchable=!0;this.switchType="x";this.switchColor="#FFFFFF";this.rollOverColor="#CC0000";this.reversedOrder=!1;this.labelText="[[title]]";this.valueText="[[value]]";this.useMarkerColorForLabels=!1;this.rollOverGraphAlpha=1;this.textClickEnabled=!1;this.equalWidths=!0;this.dateFormat="DD-MM-YYYY";this.backgroundColor="#FFFFFF";this.backgroundAlpha=0;this.useGraphSettings=!1;this.showEntries=!0;AmCharts.applyTheme(this,n,this.cname)},setData:function(n){this.legendData=n;this.invalidateSize()},invalidateSize:function(){this.destroy();this.entries=[];this.valueLabels=[];var n=this.legendData;this.enabled&&(AmCharts.ifArray(n)||AmCharts.ifArray(this.data))&&this.drawLegend()},drawLegend:function(){var n=this.chart,i=this.position,r=this.width,o=n.divRealWidth,t=n.divRealHeight,u=this.div,f=this.legendData,e;if(this.data&&(f=this.data),isNaN(this.fontSize)&&(this.fontSize=n.fontSize),"right"==i||"left"==i?(this.maxColumns=1,this.autoMargins&&(this.marginLeft=this.marginRight=10)):this.autoMargins&&(this.marginRight=n.marginRight,this.marginLeft=n.marginLeft,e=n.autoMarginOffset,"bottom"==i?(this.marginBottom=e,this.marginTop=0):(this.marginTop=e,this.marginBottom=0)),r=void 0!==r?AmCharts.toCoordinate(r,o):n.realWidth,"outside"==i?(r=u.offsetWidth,t=u.offsetHeight,u.clientHeight&&(r=u.clientWidth,t=u.clientHeight)):(isNaN(r)||(u.style.width=r+"px"),u.className="amChartsLegend "+n.classNamePrefix+"-legend-div"),this.divWidth=r,(i=this.container)?(i.container.innerHTML="",u.appendChild(i.container),i.width=r,i.height=t,i.addDefs(n)):i=new AmCharts.AmDraw(u,r,t,n),this.container=i,this.lx=0,this.ly=8,t=this.markerSize,t>this.fontSize&&(this.ly=t/2-1),0<t&&(this.lx+=t+this.markerLabelGap),this.titleWidth=0,(t=this.title)&&(t=AmCharts.text(this.container,t,this.color,n.fontFamily,this.fontSize,"start",!0),AmCharts.setCN(n,t,"legend-title"),t.translate(this.marginLeft,this.marginTop+this.verticalGap+this.ly+1),n=t.getBBox(),this.titleWidth=n.width+15,this.titleHeight=n.height+6),this.index=this.maxLabelWidth=0,this.showEntries){for(n=0;n<f.length;n++)this.createEntry(f[n]);for(n=this.index=0;n<f.length;n++)this.createValue(f[n])}this.arrangeEntries();this.updateValues()},arrangeEntries:function(){var t=this.position,e=this.marginLeft+this.titleWidth,s=this.marginRight,it=this.marginTop,rt=this.marginBottom,u=this.horizontalGap,g=this.div,a=this.divWidth,o=this.maxColumns,k=this.verticalGap,i=this.spacing,ut=a-s-e,nt=0,v=0,tt=this.container,y,p,h,n,r,f,b,l;for(this.set&&this.set.remove(),y=tt.set(),this.set=y,p=tt.set(),y.push(p),h=this.entries,r=0;r<h.length;r++)n=h[r].getBBox(),f=n.width,f>nt&&(nt=f),n=n.height,n>v&&(v=n);var f=v=0,d=u,w=0,c=0;for(r=0;r<h.length;r++)b=h[r],this.reversedOrder&&(b=h[h.length-r-1]),n=b.getBBox(),this.equalWidths?l=u+f*(nt+i+this.markerLabelGap):(l=d,d=d+n.width+u+i),n.height>c&&(c=n.height),l+n.width>ut&&0<r&&0!==f&&(v++,f=0,l=u,d=l+n.width+u+i,w=w+c+k,c=0),b.translate(l,w),f++,!isNaN(o)&&f>=o&&(f=0,v++,w=w+c+k,c=0),p.push(b);n=p.getBBox();o=n.height+2*k-1;"left"==t||"right"==t?(i=n.width+2*u,a=i+e+s,g.style.width=a+"px",this.ieW=a):i=a-e-s-1;s=AmCharts.polygon(this.container,[0,i,i,0],[0,0,o,o],this.backgroundColor,this.backgroundAlpha,1,this.borderColor,this.borderAlpha);AmCharts.setCN(this.chart,s,"legend-bg");y.push(s);y.translate(e,it);s.toBack();e=u;("top"==t||"bottom"==t||"absolute"==t||"outside"==t)&&("center"==this.align?e=u+(i-n.width)/2:"right"==this.align&&(e=u+i-n.width));p.translate(e,k+1);this.titleHeight>o&&(o=this.titleHeight);t=o+it+rt+1;0>t&&(t=0);t>this.chart.divRealHeight&&(g.style.top="0px");g.style.height=Math.round(t)+"px";tt.setSize(this.divWidth,t)},createEntry:function(n){var f,t,u,a,e,r,c,y,h;if(!1!==n.visibleInLegend){f=this.chart;t=n.markerType;n.legendEntryWidth=this.markerSize;t||(t=this.markerType);u=n.color;a=n.alpha;n.legendKeyColor&&(u=n.legendKeyColor());n.legendKeyAlpha&&(a=n.legendKeyAlpha());!0===n.hidden&&(e=u=this.markerDisabledColor);r=n.pattern;c=n.customMarker;c||(c=this.customMarker);var s=this.container,i=this.markerSize,o=0,v=0,l=i/2;this.useGraphSettings?(t=n.type,this.switchType=void 0,"line"==t||"step"==t||"smoothedLine"==t||"ohlc"==t?(r=s.set(),n.hidden||(u=n.lineColorR,e=n.bulletBorderColorR),o=AmCharts.line(s,[0,2*i],[i/2,i/2],u,n.lineAlpha,n.lineThickness,n.dashLength),AmCharts.setCN(f,o,"graph-stroke"),r.push(o),n.bullet&&(n.hidden||(u=n.bulletColorR),o=AmCharts.bullet(s,n.bullet,n.bulletSize,u,n.bulletAlpha,n.bulletBorderThickness,e,n.bulletBorderAlpha))&&(AmCharts.setCN(f,o,"graph-bullet"),o.translate(i+1,i/2),r.push(o)),l=0,o=i,v=i/3):(n.getGradRotation&&(y=n.getGradRotation()),o=n.fillColorsR,!0===n.hidden&&(o=u),(r=this.createMarker("rectangle",o,n.fillAlphas,n.lineThickness,u,n.lineAlpha,y,r))&&(l=i,r.translate(l,i/2)),o=i),AmCharts.setCN(f,r,"graph-"+t),AmCharts.setCN(f,r,"graph-"+n.id)):c?(f.path&&(c=f.path+c),r=s.image(c,0,0,i,i)):(r=this.createMarker(t,u,a,void 0,void 0,void 0,void 0,r))&&r.translate(i/2,i/2);AmCharts.setCN(f,r,"legend-marker");this.addListeners(r,n);s=s.set([r]);this.switchable&&n.switchable&&s.setAttr("cursor","pointer");void 0!=n.id&&AmCharts.setCN(f,s,"legend-item-"+n.id);AmCharts.setCN(f,s,n.className,!0);(e=this.switchType)&&"none"!=e&&("x"==e?(t=this.createX(),t.translate(i/2,i/2)):t=this.createV(),t.dItem=n,!0!==n.hidden?"x"==e?t.hide():t.show():"x"!=e&&t.hide(),this.switchable||t.hide(),this.addListeners(t,n),n.legendSwitch=t,s.push(t),AmCharts.setCN(f,t,"legend-switch"));e=this.color;n.showBalloon&&this.textClickEnabled&&void 0!==this.selectedColor&&(e=this.selectedColor);this.useMarkerColorForLabels&&(e=u);!0===n.hidden&&(e=this.markerDisabledColor);u=AmCharts.massReplace(this.labelText,{"[[title]]":n.title});t=this.fontSize;r&&(i<=t&&r.translate(l,i/2+this.ly-t/2+(t+2-i)/2-v),n.legendEntryWidth=r.getBBox().width);u&&(u=AmCharts.fixBrakes(u),n.legendTextReal=u,h=this.labelWidth,h=isNaN(h)?AmCharts.text(this.container,u,e,f.fontFamily,t,"start"):AmCharts.wrappedText(this.container,u,e,f.fontFamily,t,"start",!1,h,0),AmCharts.setCN(f,h,"legend-label"),h.translate(this.lx+o,this.ly),s.push(h),f=h.getBBox().width,this.maxLabelWidth<f&&(this.maxLabelWidth=f));this.entries[this.index]=s;n.legendEntry=this.entries[this.index];n.legendLabel=h;this.index++}},addListeners:function(n,t){var i=this;n&&n.mouseover(function(n){i.rollOverMarker(t,n)}).mouseout(function(n){i.rollOutMarker(t,n)}).click(function(n){i.clickMarker(t,n)})},rollOverMarker:function(n,t){this.switchable&&this.dispatch("rollOverMarker",n,t);this.dispatch("rollOverItem",n,t)},rollOutMarker:function(n,t){this.switchable&&this.dispatch("rollOutMarker",n,t);this.dispatch("rollOutItem",n,t)},clickMarker:function(n,t){this.switchable&&(!0===n.hidden?this.dispatch("showItem",n,t):this.dispatch("hideItem",n,t));this.dispatch("clickMarker",n,t)},rollOverLabel:function(n,t){n.hidden||(this.textClickEnabled&&n.legendLabel&&n.legendLabel.attr({fill:this.rollOverColor}),this.dispatch("rollOverItem",n,t))},rollOutLabel:function(n,t){if(!n.hidden){if(this.textClickEnabled&&n.legendLabel){var i=this.color;void 0!==this.selectedColor&&n.showBalloon&&(i=this.selectedColor);this.useMarkerColorForLabels&&(i=n.lineColor,void 0===i&&(i=n.color));n.legendLabel.attr({fill:i})}this.dispatch("rollOutItem",n,t)}},clickLabel:function(n,t){this.textClickEnabled?n.hidden||this.dispatch("clickLabel",n,t):this.switchable&&(!0===n.hidden?this.dispatch("showItem",n,t):this.dispatch("hideItem",n,t))},dispatch:function(n,t,i){this.fire(n,{type:n,dataItem:t,target:this,event:i,chart:this.chart})},createValue:function(n){var t=this,r=t.fontSize,f=t.chart,u,e,i;if(!1!==n.visibleInLegend){if(u=t.maxLabelWidth,t.forceWidth&&(u=t.labelWidth),t.equalWidths||(t.valueAlign="left"),"left"==t.valueAlign&&(u=n.legendEntry.getBBox().width),e=u,t.valueText&&0<t.valueWidth){i=t.color;t.useMarkerColorForValues&&(i=n.color,n.legendKeyColor&&(i=n.legendKeyColor()));!0===n.hidden&&(i=t.markerDisabledColor);var s=t.valueText,u=u+t.lx+t.markerLabelGap+t.valueWidth,o="end";"left"==t.valueAlign&&(u-=t.valueWidth,o="start");i=AmCharts.text(t.container,s,i,t.chart.fontFamily,r,o);AmCharts.setCN(f,i,"legend-value");i.translate(u,t.ly);t.entries[t.index].push(i);e+=t.valueWidth+2*t.markerLabelGap;i.dItem=n;t.valueLabels.push(i)}t.index++;f=t.markerSize;f<r+7&&(f=r+7,AmCharts.VML&&(f+=3));r=t.container.rect(n.legendEntryWidth,0,e,f,0,0).attr({stroke:"none",fill:"#fff","fill-opacity":.005});r.dItem=n;t.entries[t.index-1].push(r);r.mouseover(function(i){t.rollOverLabel(n,i)}).mouseout(function(i){t.rollOutLabel(n,i)}).click(function(i){t.clickLabel(n,i)})}},createV:function(){var n=this.markerSize;return AmCharts.polygon(this.container,[n/5,n/2,n-n/5,n/2],[n/3,n-n/5,n/5,n/1.7],this.switchColor)},createX:function(){var n=(this.markerSize-4)/2,t={stroke:this.switchColor,"stroke-width":3},i=this.container,r=AmCharts.line(i,[-n,n],[-n,n]).attr(t),n=AmCharts.line(i,[-n,n],[n,-n]).attr(t);return this.container.set([r,n])},createMarker:function(n,t,i,r,u,f,e,o){var s=this.markerSize,h=this.container;return u||(u=this.markerBorderColor),u||(u=t),isNaN(r)&&(r=this.markerBorderThickness),isNaN(f)&&(f=this.markerBorderAlpha),AmCharts.bullet(h,n,s,t,i,r,u,f,s,e,o)},validateNow:function(){this.invalidateSize()},updateValues:function(){for(var o=this.valueLabels,e=this.chart,s=this.data,r,i,u=0;u<o.length;u++){var f=o[u],n=f.dItem,t=" ";s?n.value?f.text(n.value):f.text(""):(void 0!==n.type?(r=n.currentDataItem,i=this.periodValueText,n.legendPeriodValueText&&(i=n.legendPeriodValueText),r?(t=this.valueText,n.legendValueText&&(t=n.legendValueText),t=e.formatString(t,r)):i&&(t=e.formatPeriodString(i,n))):t=e.formatString(this.valueText,n),(i=this.valueFunction)&&(r&&(n=r),t=i(n,t)),f.text(t))}},renderFix:function(){if(!AmCharts.VML){var n=this.container;n&&n.renderFix()}},destroy:function(){this.div.innerHTML="";AmCharts.remove(this.set)}});AmCharts.formatMilliseconds=function(n,t){if(-1!=n.indexOf("fff")){var i=t.getMilliseconds(),r=String(i);10>i&&(r="00"+i);10<=i&&100>i&&(r="0"+i);n=n.replace(/fff/g,r)}return n};AmCharts.extractPeriod=function(n){var t=AmCharts.stripNumbers(n),i=1;return t!=n&&(i=Number(n.slice(0,n.indexOf(t)))),{period:t,count:i}};AmCharts.getDate=function(n,t,i){return date=n instanceof Date?AmCharts.newDate(n,i):t&&isNaN(n)?AmCharts.stringToDate(n,t):new Date(n)};AmCharts.newDate=function(n,t){return t&&"fff"!=t?new Date(n):AmCharts.useUTC?new Date(n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate(),n.getUTCHours(),n.getUTCMinutes(),n.getUTCSeconds(),n.getUTCMilliseconds()):new Date(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds())};AmCharts.resetDateToMin=function(n,t,i,r){void 0===r&&(r=1);var c,h,s,o,e,f,u;AmCharts.useUTC?(c=n.getUTCFullYear(),h=n.getUTCMonth(),s=n.getUTCDate(),o=n.getUTCHours(),e=n.getUTCMinutes(),f=n.getUTCSeconds(),u=n.getUTCMilliseconds(),n=n.getUTCDay()):(c=n.getFullYear(),h=n.getMonth(),s=n.getDate(),o=n.getHours(),e=n.getMinutes(),f=n.getSeconds(),u=n.getMilliseconds(),n=n.getDay());switch(t){case"YYYY":c=Math.floor(c/i)*i;h=0;s=1;u=f=e=o=0;break;case"MM":h=Math.floor(h/i)*i;s=1;u=f=e=o=0;break;case"WW":s=n>=r?s-n+r:s-(7+n)+r;u=f=e=o=0;break;case"DD":u=f=e=o=0;break;case"hh":o=Math.floor(o/i)*i;u=f=e=0;break;case"mm":e=Math.floor(e/i)*i;u=f=0;break;case"ss":f=Math.floor(f/i)*i;u=0;break;case"fff":u=Math.floor(u/i)*i}return AmCharts.useUTC?(n=new Date,n.setUTCFullYear(c,h,s),n.setUTCHours(o,e,f,u)):n=new Date(c,h,s,o,e,f,u),n};AmCharts.getPeriodDuration=function(n,t){void 0===t&&(t=1);var i;switch(n){case"YYYY":i=316224e5;break;case"MM":i=26784e5;break;case"WW":i=6048e5;break;case"DD":i=864e5;break;case"hh":i=36e5;break;case"mm":i=6e4;break;case"ss":i=1e3;break;case"fff":i=1}return i*t};AmCharts.intervals={s:{nextInterval:"ss",contains:1e3},ss:{nextInterval:"mm",contains:60,count:0},mm:{nextInterval:"hh",contains:60,count:1},hh:{nextInterval:"DD",contains:24,count:2},DD:{nextInterval:"",contains:Infinity,count:3}};AmCharts.getMaxInterval=function(n,t){var i=AmCharts.intervals;return n>=i[t].contains?(n=Math.round(n/i[t].contains),t=i[t].nextInterval,AmCharts.getMaxInterval(n,t)):"ss"==t?i[t].nextInterval:t};AmCharts.dayNames="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" ");AmCharts.shortDayNames="Sun Mon Tue Wed Thu Fri Sat".split(" ");AmCharts.monthNames="January February March April May June July August September October November December".split(" ");AmCharts.shortMonthNames="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ");AmCharts.getWeekNumber=function(n){n=new Date(n);n.setHours(0,0,0);n.setDate(n.getDate()+4-(n.getDay()||7));var t=new Date(n.getFullYear(),0,1);return Math.ceil(((n-t)/864e5+1)/7)};AmCharts.stringToDate=function(n,t){var i={},r=[{pattern:"YYYY",period:"year"},{pattern:"YY",period:"year"},{pattern:"MM",period:"month"},{pattern:"M",period:"month"},{pattern:"DD",period:"date"},{pattern:"D",period:"date"},{pattern:"JJ",period:"hours"},{pattern:"J",period:"hours"},{pattern:"HH",period:"hours"},{pattern:"H",period:"hours"},{pattern:"KK",period:"hours"},{pattern:"K",period:"hours"},{pattern:"LL",period:"hours"},{pattern:"L",period:"hours"},{pattern:"NN",period:"minutes"},{pattern:"N",period:"minutes"},{pattern:"SS",period:"seconds"},{pattern:"S",period:"seconds"},{pattern:"QQQ",period:"milliseconds"},{pattern:"QQ",period:"milliseconds"},{pattern:"Q",period:"milliseconds"}],h=!0,o=t.indexOf("AA"),f,e,u,s;for(-1!=o&&(n.substr(o,2),"pm"==n.toLowerCase&&(h=!1)),o=t,u=0;u<r.length;u++)e=r[u].period,i[e]=0,"date"==e&&(i[e]=1);for(u=0;u<r.length;u++)(f=r[u].pattern,e=r[u].period,-1!=t.indexOf(f))&&(s=AmCharts.getFromDateString(f,n,o),t=t.replace(f,""),("KK"==f||"K"==f||"LL"==f||"L"==f)&&(h||(s+=12)),i[e]=s);return AmCharts.useUTC?(r=new Date,r.setUTCFullYear(i.year,i.month,i.date),r.setUTCHours(i.hours,i.minutes,i.seconds,i.milliseconds)):r=new Date(i.year,i.month,i.date,i.hours,i.minutes,i.seconds,i.milliseconds),r};AmCharts.getFromDateString=function(n,t,i){if(void 0!==t)return i=i.indexOf(n),t=String(t),t=t.substr(i,n.length),"0"==t.charAt(0)&&(t=t.substr(1,t.length-1)),t=Number(t),isNaN(t)&&(t=0),-1!=n.indexOf("M")&&t--,t};AmCharts.formatDate=function(n,t,i){var a,s,h,l,c,f,e,o,y,v,p,r,u;return i||(i=AmCharts),o=AmCharts.getWeekNumber(n),AmCharts.useUTC?(a=n.getUTCFullYear(),s=n.getUTCMonth(),h=n.getUTCDate(),l=n.getUTCDay(),c=n.getUTCHours(),f=n.getUTCMinutes(),e=n.getUTCSeconds(),n=n.getUTCMilliseconds()):(a=n.getFullYear(),s=n.getMonth(),h=n.getDate(),l=n.getDay(),c=n.getHours(),f=n.getMinutes(),e=n.getSeconds(),n=n.getMilliseconds()),y=String(a).substr(2,2),v=s+1,9>s&&(v="0"+v),p="0"+l,t=t.replace(/W/g,o),o=c,24==o&&(o=0),r=o,10>r&&(r="0"+r),t=t.replace(/JJ/g,r),t=t.replace(/J/g,o),r=c,0===r&&(r=24,-1!=t.indexOf("H")&&h--),o=h,10>h&&(o="0"+h),u=r,10>u&&(u="0"+u),t=t.replace(/HH/g,u),t=t.replace(/H/g,r),r=c,11<r&&(r-=12),u=r,10>u&&(u="0"+u),t=t.replace(/KK/g,u),t=t.replace(/K/g,r),r=c,0===r&&(r=12),12<r&&(r-=12),u=r,10>u&&(u="0"+u),t=t.replace(/LL/g,u),t=t.replace(/L/g,r),r=f,10>r&&(r="0"+r),t=t.replace(/NN/g,r),t=t.replace(/N/g,f),f=e,10>f&&(f="0"+f),t=t.replace(/SS/g,f),t=t.replace(/S/g,e),e=n,10>e&&(e="00"+e),100>e&&(e="0"+e),f=n,10>f&&(f="00"+f),t=t.replace(/QQQ/g,e),t=t.replace(/QQ/g,f),t=t.replace(/Q/g,n),t=12>c?t.replace(/A/g,"am"):t.replace(/A/g,"pm"),t=t.replace(/YYYY/g,"@IIII@"),t=t.replace(/YY/g,"@II@"),t=t.replace(/MMMM/g,"@XXXX@"),t=t.replace(/MMM/g,"@XXX@"),t=t.replace(/MM/g,"@XX@"),t=t.replace(/M/g,"@X@"),t=t.replace(/DD/g,"@RR@"),t=t.replace(/D/g,"@R@"),t=t.replace(/EEEE/g,"@PPPP@"),t=t.replace(/EEE/g,"@PPP@"),t=t.replace(/EE/g,"@PP@"),t=t.replace(/E/g,"@P@"),t=t.replace(/@IIII@/g,a),t=t.replace(/@II@/g,y),t=t.replace(/@XXXX@/g,i.monthNames[s]),t=t.replace(/@XXX@/g,i.shortMonthNames[s]),t=t.replace(/@XX@/g,v),t=t.replace(/@X@/g,s+1),t=t.replace(/@RR@/g,o),t=t.replace(/@R@/g,h),t=t.replace(/@PPPP@/g,i.dayNames[l]),t=t.replace(/@PPP@/g,i.shortDayNames[l]),t=t.replace(/@PP@/g,p),t.replace(/@P@/g,l)};AmCharts.changeDate=function(n,t,i,r,u){if(AmCharts.useUTC)return AmCharts.changeUTCDate(n,t,i,r,u);var f=-1;void 0===r&&(r=!0);void 0===u&&(u=!1);!0===r&&(f=1);switch(t){case"YYYY":n.setFullYear(n.getFullYear()+i*f);r||u||n.setDate(n.getDate()+1);break;case"MM":t=n.getMonth();n.setMonth(n.getMonth()+i*f);n.getMonth()>t+i*f&&n.setDate(n.getDate()-1);r||u||n.setDate(n.getDate()+1);break;case"DD":n.setDate(n.getDate()+i*f);break;case"WW":n.setDate(n.getDate()+i*f*7);break;case"hh":n.setHours(n.getHours()+i*f);break;case"mm":n.setMinutes(n.getMinutes()+i*f);break;case"ss":n.setSeconds(n.getSeconds()+i*f);break;case"fff":n.setMilliseconds(n.getMilliseconds()+i*f)}return n};AmCharts.changeUTCDate=function(n,t,i,r,u){var f=-1;void 0===r&&(r=!0);void 0===u&&(u=!1);!0===r&&(f=1);switch(t){case"YYYY":n.setUTCFullYear(n.getUTCFullYear()+i*f);r||u||n.setUTCDate(n.getUTCDate()+1);break;case"MM":t=n.getUTCMonth();n.setUTCMonth(n.getUTCMonth()+i*f);n.getUTCMonth()>t+i*f&&n.setUTCDate(n.getUTCDate()-1);r||u||n.setUTCDate(n.getUTCDate()+1);break;case"DD":n.setUTCDate(n.getUTCDate()+i*f);break;case"WW":n.setUTCDate(n.getUTCDate()+i*f*7);break;case"hh":n.setUTCHours(n.getUTCHours()+i*f);break;case"mm":n.setUTCMinutes(n.getUTCMinutes()+i*f);break;case"ss":n.setUTCSeconds(n.getUTCSeconds()+i*f);break;case"fff":n.setUTCMilliseconds(n.getUTCMilliseconds()+i*f)}return n};AmCharts.AmSerialChart=AmCharts.Class({inherits:AmCharts.AmRectangularChart,construct:function(n){this.type="serial";AmCharts.AmSerialChart.base.construct.call(this,n);this.cname="AmSerialChart";this.theme=n;this.createEvents("changed");this.columnSpacing=5;this.columnSpacing3D=0;this.columnWidth=.8;this.updateScrollbar=!0;var t=new AmCharts.CategoryAxis(n);t.chart=this;this.categoryAxis=t;this.zoomOutOnDataUpdate=!0;this.mouseWheelZoomEnabled=this.mouseWheelScrollEnabled=this.rotate=this.skipZoom=!1;this.minSelectedTime=0;AmCharts.applyTheme(this,n,this.cname)},initChart:function(){var n,i,t;for(AmCharts.AmSerialChart.base.initChart.call(this),this.updateCategoryAxis(this.categoryAxis,this.rotate,"categoryAxis"),this.dataChanged&&(this.updateData(),this.dataChanged=!1,this.dispatchDataUpdated=!0),n=this.chartCursor,n&&(n.updateData(),n.fullWidth&&(n.fullRectSet=this.cursorLineSet)),n=this.countColumns(),i=this.graphs,t=0;t<i.length;t++)i[t].columnCount=n;this.updateScrollbar=!0;this.drawChart();this.autoMargins&&!this.marginsUpdated&&(this.marginsUpdated=!0,this.measureMargins())},handleWheelReal:function(n,t){if(!this.wheelBusy){var i=this.categoryAxis,u=i.parseDates,r=i.minDuration(),f=i=1;this.mouseWheelZoomEnabled?t||(i=-1):t&&(i=-1);var e=this.chartData.length,o=this.lastTime,s=this.firstTime;0>n?u?(e=this.endTime-this.startTime,u=this.startTime+i*r,r=this.endTime+f*r,0<f&&0<i&&r>=o&&(r=o,u=o-e),this.zoomToDates(new Date(u),new Date(r))):(0<f&&0<i&&this.end>=e-1&&(i=f=0),u=this.start+i,r=this.end+f,this.zoomToIndexes(u,r)):u?(e=this.endTime-this.startTime,u=this.startTime-i*r,r=this.endTime-f*r,0<f&&0<i&&u<=s&&(u=s,r=s+e),this.zoomToDates(new Date(u),new Date(r))):(0<f&&0<i&&1>this.start&&(i=f=0),u=this.start-i,r=this.end-f,this.zoomToIndexes(u,r))}},validateData:function(n){this.marginsUpdated=!1;this.zoomOutOnDataUpdate&&!n&&(this.endTime=this.end=this.startTime=this.start=NaN);AmCharts.AmSerialChart.base.validateData.call(this)},drawChart:function(){var i,t,n;AmCharts.AmSerialChart.base.drawChart.call(this);i=this.chartData;AmCharts.ifArray(i)?(n=this.chartScrollbar,n&&n.draw(),0<this.realWidth&&0<this.realHeight&&(i=i.length-1,n=this.categoryAxis,n.parseDates&&!n.equalSpacing?(n=this.startTime,t=this.endTime,isNaN(n)||isNaN(t))&&(n=this.firstTime,t=this.lastTime):(n=this.start,t=this.end,isNaN(n)||isNaN(t))&&(n=0,t=i),this.endTime=this.startTime=this.end=this.start=void 0,this.zoom(n,t))):this.cleanChart();this.dispDUpd();this.chartCreated=!0},cleanChart:function(){AmCharts.callMethod("destroy",[this.valueAxes,this.graphs,this.categoryAxis,this.chartScrollbar,this.chartCursor])},updateCategoryAxis:function(n,t,i){n.chart=this;n.id=i;n.rotate=t;n.axisRenderer=AmCharts.RecAxis;n.guideFillRenderer=AmCharts.RecFill;n.axisItemRenderer=AmCharts.RecItem;n.setOrientation(!this.rotate);n.x=this.marginLeftReal;n.y=this.marginTopReal;n.dx=this.dx;n.dy=this.dy;n.width=this.plotAreaWidth-1;n.height=this.plotAreaHeight-1;n.viW=this.plotAreaWidth-1;n.viH=this.plotAreaHeight-1;n.viX=this.marginLeftReal;n.viY=this.marginTopReal;n.marginsChanged=!0},updateValueAxes:function(){var r,t,i,n;for(AmCharts.AmSerialChart.base.updateValueAxes.call(this),r=this.valueAxes,t=0;t<r.length;t++)i=r[t],n=this.rotate,i.rotate=n,i.setOrientation(n),n=this.categoryAxis,(!n.startOnAxis||n.parseDates)&&(i.expandMinMax=!0)},updateData:function(){this.parseData();for(var i=this.graphs,n=this.chartData,t=0;t<i.length;t++)i[t].data=n;0<n.length&&(this.firstTime=this.getStartTime(n[0].time),this.lastTime=this.getEndTime(n[n.length-1].time))},getStartTime:function(n){var t=this.categoryAxis;return AmCharts.resetDateToMin(new Date(n),t.minPeriod,1,t.firstDayOfWeek).getTime()},getEndTime:function(n){var t=AmCharts.extractPeriod(this.categoryAxis.minPeriod);return AmCharts.changeDate(new Date(n),t.period,t.count,!0).getTime()-1},updateMargins:function(){AmCharts.AmSerialChart.base.updateMargins.call(this);var n=this.chartScrollbar;n&&(this.getScrollbarPosition(n,this.rotate,this.categoryAxis.position),this.adjustMargins(n,this.rotate))},updateScrollbars:function(){AmCharts.AmSerialChart.base.updateScrollbars.call(this);this.updateChartScrollbar(this.chartScrollbar,this.rotate)},zoom:function(n,t){var i=this.categoryAxis;i.parseDates&&!i.equalSpacing?this.timeZoom(n,t):this.indexZoom(n,t);this.updateLegendValues()},timeZoom:function(n,t){var r=this.maxSelectedTime,i,u,o;if(isNaN(r)||(t!=this.endTime&&t-n>r&&(n=t-r,this.updateScrollbar=!0),n!=this.startTime&&t-n>r&&(t=n+r,this.updateScrollbar=!0)),i=this.minSelectedTime,0<i&&t-n<i&&(o=Math.round(n+(t-n)/2),i=Math.round(i/2),n=o-i,t=o+i),u=this.chartData,o=this.categoryAxis,AmCharts.ifArray(u)&&(n!=this.startTime||t!=this.endTime)){var f=o.minDuration(),i=this.firstTime,e=this.lastTime;n||(n=i,isNaN(r)||(n=e-r));t||(t=e);n>e&&(n=e);t<i&&(t=i);n<i&&(n=i);t>e&&(t=e);t<n&&(t=n+f);t-n<f/5&&(t<e?t=n+f/5:n=t-f/5);this.startTime=n;this.endTime=t;r=u.length-1;f=this.getClosestIndex(u,"time",n,!0,0,r);u=this.getClosestIndex(u,"time",t,!1,f,r);o.timeZoom(n,t);o.zoom(f,u);this.start=AmCharts.fitToBounds(f,0,r);this.end=AmCharts.fitToBounds(u,0,r);this.zoomAxesAndGraphs();this.zoomScrollbar();n!=i||t!=e?this.showZB(!0):this.showZB(!1);this.updateColumnsDepth();this.dispatchTimeZoomEvent()}},updateAfterValueZoom:function(){this.zoomAxesAndGraphs();this.zoomScrollbar();this.updateColumnsDepth()},indexZoom:function(n,t){var i=this.maxSelectedSeries,r;isNaN(i)||(t!=this.end&&t-n>i&&(n=t-i,this.updateScrollbar=!0),n!=this.start&&t-n>i&&(t=n+i,this.updateScrollbar=!0));(n!=this.start||t!=this.end)&&(r=this.chartData.length-1,isNaN(n)&&(n=0,isNaN(i)||(n=r-i)),isNaN(t)&&(t=r),t<n&&(t=n),t>r&&(t=r),n>r&&(n=r-1),0>n&&(n=0),this.start=n,this.end=t,this.categoryAxis.zoom(n,t),this.zoomAxesAndGraphs(),this.zoomScrollbar(),0!==n||t!=this.chartData.length-1?this.showZB(!0):this.showZB(!1),this.updateColumnsDepth(),this.dispatchIndexZoomEvent())},updateGraphs:function(){var i,t,n;for(AmCharts.AmSerialChart.base.updateGraphs.call(this),i=this.graphs,t=0;t<i.length;t++)n=i[t],n.columnWidthReal=this.columnWidth,n.categoryAxis=this.categoryAxis,AmCharts.isString(n.fillToGraph)&&(n.fillToGraph=this.getGraphById(n.fillToGraph))},updateColumnsDepth:function(){var n,t=this.graphs,i,r,u;for(AmCharts.remove(this.columnsSet),this.columnsArray=[],n=0;n<t.length;n++)if(i=t[n],r=i.columnsArray,r)for(u=0;u<r.length;u++)this.columnsArray.push(r[u]);if(this.columnsArray.sort(this.compareDepth),0<this.columnsArray.length){for(t=this.container.set(),this.columnSet.push(t),n=0;n<this.columnsArray.length;n++)t.push(this.columnsArray[n].column.set);i&&t.translate(i.x,i.y);this.columnsSet=t}},compareDepth:function(n,t){return n.depth>t.depth?1:-1},zoomScrollbar:function(){var n=this.chartScrollbar,t=this.categoryAxis;n&&this.updateScrollbar&&n.enabled&&(n.dragger.stop(),t.parseDates&&!t.equalSpacing?n.timeZoom(this.startTime,this.endTime):n.zoom(this.start,this.end),this.updateScrollbar=!0)},updateTrendLines:function(){for(var i=this.trendLines,n,t=0;t<i.length;t++)n=i[t],n=AmCharts.processObject(n,AmCharts.TrendLine,this.theme),i[t]=n,n.chart=this,n.id||(n.id="trendLineAuto"+t+"_"+(new Date).getTime()),AmCharts.isString(n.valueAxis)&&(n.valueAxis=this.getValueAxisById(n.valueAxis)),n.valueAxis||(n.valueAxis=this.valueAxes[0]),n.categoryAxis=this.categoryAxis},zoomAxesAndGraphs:function(){if(!this.scrollbarOnly){for(var t=this.valueAxes,n=0;n<t.length;n++)t[n].zoom(this.start,this.end);for(t=this.graphs,n=0;n<t.length;n++)t[n].zoom(this.start,this.end);this.zoomTrendLines();(n=this.chartCursor)&&n.zoom(this.start,this.end,this.startTime,this.endTime)}},countColumns:function(){for(var t=0,s=this.valueAxes.length,o=this.graphs.length,n,i,f=!1,r,e,u=0;u<s;u++){if(i=this.valueAxes[u],e=i.stackType,"100%"==e||"regular"==e)for(f=!1,r=0;r<o;r++)n=this.graphs[r],n.tcc=1,n.valueAxis==i&&"column"==n.type&&(!f&&n.stackable&&(t++,f=!0),(!n.stackable&&n.clustered||n.newStack)&&t++,n.columnIndex=t-1,n.clustered||(n.columnIndex=0));if("none"==e||"3d"==e){for(f=!1,r=0;r<o;r++)n=this.graphs[r],n.valueAxis==i&&"column"==n.type&&(n.clustered?(n.tcc=1,n.newStack&&(t=0),n.hidden||(n.columnIndex=t,t++)):n.hidden||(f=!0,n.tcc=1,n.columnIndex=0));f&&0==t&&(t=1)}if("3d"==e){for(i=1,u=0;u<o;u++)n=this.graphs[u],n.newStack&&i++,n.depthCount=i,n.tcc=t;t=i}}return t},parseData:function(){AmCharts.AmSerialChart.base.parseData.call(this);this.parseSerialData(this.dataProvider)},getCategoryIndexByValue:function(n){for(var i=this.chartData,r,t=0;t<i.length;t++)i[t].category==n&&(r=t);return r},handleCursorChange:function(n){this.updateLegendValues(n.index)},handleCursorZoom:function(n){this.updateScrollbar=!0;this.zoom(n.start,n.end)},handleScrollbarZoom:function(n){this.updateScrollbar=!1;this.zoom(n.start,n.end)},dispatchTimeZoomEvent:function(){var n;if(this.prevStartTime!=this.startTime||this.prevEndTime!=this.endTime){n={type:"zoomed"};n.startDate=new Date(this.startTime);n.endDate=new Date(this.endTime);n.startIndex=this.start;n.endIndex=this.end;this.startIndex=this.start;this.endIndex=this.end;this.startDate=n.startDate;this.endDate=n.endDate;this.prevStartTime=this.startTime;this.prevEndTime=this.endTime;var t=this.categoryAxis,i=AmCharts.extractPeriod(t.minPeriod).period,t=t.dateFormatsObject[i];n.startValue=AmCharts.formatDate(n.startDate,t,this);n.endValue=AmCharts.formatDate(n.endDate,t,this);n.chart=this;n.target=this;this.fire(n.type,n)}},dispatchIndexZoomEvent:function(){var t,n;(this.prevStartIndex!=this.start||this.prevEndIndex!=this.end)&&(this.startIndex=this.start,this.endIndex=this.end,t=this.chartData,!AmCharts.ifArray(t)||isNaN(this.start)||isNaN(this.end)||(n={chart:this,target:this,type:"zoomed"},n.startIndex=this.start,n.endIndex=this.end,n.startValue=t[this.start].category,n.endValue=t[this.end].category,this.categoryAxis.parseDates&&(this.startTime=t[this.start].time,this.endTime=t[this.end].time,n.startDate=new Date(this.startTime),n.endDate=new Date(this.endTime)),this.prevStartIndex=this.start,this.prevEndIndex=this.end,this.fire(n.type,n)))},updateLegendValues:function(n){for(var r=this.graphs,i,t=0;t<r.length;t++)i=r[t],i.currentDataItem=isNaN(n)?void 0:this.chartData[n].axes[i.valueAxis.id].graphs[i.id];this.legend&&this.legend.updateValues()},getClosestIndex:function(n,t,i,r,u,f){0>u&&(u=0);f>n.length-1&&(f=n.length-1);var e=u+Math.round((f-u)/2),o=n[e][t];return i==o?e:1>=f-u?r?u:(r=n[f][t],Math.abs(n[u][t]-i)<Math.abs(r-i)?u:f):i==o?e:i<o?this.getClosestIndex(n,t,i,r,u,e):this.getClosestIndex(n,t,i,r,e,f)},zoomToIndexes:function(n,t){var r,i;this.updateScrollbar=!0;r=this.chartData;r&&(i=r.length,0<i&&(0>n&&(n=0),t>i-1&&(t=i-1),i=this.categoryAxis,i.parseDates&&!i.equalSpacing?this.zoom(r[n].time,this.getEndTime(r[t].time)):this.zoom(n,t)))},zoomToDates:function(n,t){var i,r;this.updateScrollbar=!0;i=this.chartData;this.categoryAxis.equalSpacing?(r=this.getClosestIndex(i,"time",n.getTime(),!0,0,i.length),t=AmCharts.resetDateToMin(t,this.categoryAxis.minPeriod,1),i=this.getClosestIndex(i,"time",t.getTime(),!1,0,i.length),this.zoom(r,i)):this.zoom(n.getTime(),t.getTime())},zoomToCategoryValues:function(n,t){this.updateScrollbar=!0;this.zoom(this.getCategoryIndexByValue(n),this.getCategoryIndexByValue(t))},formatPeriodString:function(n,t){var e,i,r;if(t){var g=["value","open","low","high","close"],nt="value open low high close average sum count".split(" "),rt=t.valueAxis,ut=this.chartData,y=t.numberFormatter;for(y||(y=this.nf),e=0;e<g.length;e++){for(var o=g[e],f=0,p=0,w,tt,s,h,c,u=0,b=0,k,it,l,a,v,d=this.start;d<=this.end;d++)if(i=ut[d],i&&(i=i.axes[rt.id].graphs[t.id])){if(i.values&&(r=i.values[o],this.rotate?(0>i.x||i.x>i.graph.height)&&(r=NaN):(0>i.x||i.x>i.graph.width)&&(r=NaN),!isNaN(r))){isNaN(w)&&(w=r);tt=r;(isNaN(s)||s>r)&&(s=r);(isNaN(h)||h<r)&&(h=r);c=AmCharts.getDecimals(f);var ft=AmCharts.getDecimals(r),f=f+r,f=AmCharts.roundTo(f,Math.max(c,ft));p++;c=f/p}i.percents&&(i=i.percents[o],!isNaN(i))&&(isNaN(k)&&(k=i),it=i,(isNaN(l)||l>i)&&(l=i),(isNaN(a)||a<i)&&(a=i),v=AmCharts.getDecimals(u),r=AmCharts.getDecimals(i),u+=i,u=AmCharts.roundTo(u,Math.max(v,r)),b++,v=u/b)}u={open:k,close:it,high:a,low:l,average:v,sum:u,count:b};n=AmCharts.formatValue(n,{open:w,close:tt,high:h,low:s,average:c,sum:f,count:p},nt,y,o+"\\.",this.usePrefixes,this.prefixesOfSmallNumbers,this.prefixesOfBigNumbers);n=AmCharts.formatValue(n,u,nt,this.pf,"percents\\."+o+"\\.")}}return AmCharts.cleanFromEmpty(n)},formatString:function(n,t,i){var e=t.graph,f,r,u;return-1!=n.indexOf("[[category]]")&&(f=t.serialDataItem.category,this.categoryAxis.parseDates&&(r=this.balloonDateFormat,u=this.chartCursor,u&&(r=u.categoryBalloonDateFormat),-1!=n.indexOf("[[category]]")&&(r=AmCharts.formatDate(f,r,this),-1!=r.indexOf("fff")&&(r=AmCharts.formatMilliseconds(r,f)),f=r)),n=n.replace(/\[\[category\]\]/g,String(f))),f=e.numberFormatter,f||(f=this.nf),r=t.graph.valueAxis,(u=r.duration)&&!isNaN(t.values.value)&&(u=AmCharts.formatDuration(t.values.value,u,"",r.durationUnits,r.maxInterval,f),n=n.replace(RegExp("\\[\\[value\\]\\]","g"),u)),"date"==r.type&&(r=AmCharts.formatDate(new Date(t.values.value),e.dateFormat,this),u=RegExp("\\[\\[value\\]\\]","g"),n=n.replace(u,r),r=AmCharts.formatDate(new Date(t.values.open),e.dateFormat,this),u=RegExp("\\[\\[open\\]\\]","g"),n=n.replace(u,r)),e="value open low high close total".split(" "),r=this.pf,n=AmCharts.formatValue(n,t.percents,e,r,"percents\\."),n=AmCharts.formatValue(n,t.values,e,f,"",this.usePrefixes,this.prefixesOfSmallNumbers,this.prefixesOfBigNumbers),n=AmCharts.formatValue(n,t.values,["percents"],r),-1!=n.indexOf("[[")&&(n=AmCharts.formatDataContextValue(n,t.dataContext)),AmCharts.AmSerialChart.base.formatString.call(this,n,t,i)},addChartScrollbar:function(n){AmCharts.callMethod("destroy",[this.chartScrollbar]);n&&(n.chart=this,this.listenTo(n,"zoomed",this.handleScrollbarZoom));this.rotate?void 0===n.width&&(n.width=n.scrollbarHeight):void 0===n.height&&(n.height=n.scrollbarHeight);this.chartScrollbar=n},removeChartScrollbar:function(){AmCharts.callMethod("destroy",[this.chartScrollbar]);this.chartScrollbar=null},handleReleaseOutside:function(n){AmCharts.AmSerialChart.base.handleReleaseOutside.call(this,n);AmCharts.callMethod("handleReleaseOutside",[this.chartScrollbar])}});AmCharts.Cuboid=AmCharts.Class({construct:function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w){this.set=n.set();this.container=n;this.h=Math.round(i);this.w=Math.round(t);this.dx=r;this.dy=u;this.colors=f;this.alpha=e;this.bwidth=o;this.bcolor=s;this.balpha=h;this.dashLength=v;this.topRadius=p;this.pattern=y;this.rotate=a;this.bcn=w;a?0>t&&0===c&&(c=180):0>i&&270==c&&(c=90);this.gradientRotation=c;0===r&&0===u&&(this.cornerRadius=l);this.draw()},draw:function(){var yt=this.set,c,d,ot,ut,ft,st,v,ht,ct,wt,h,p,w,g,rt,lt,at,vt;yt.clear();var i=this.container,nt=i.chart,n=this.w,t=this.h,u=this.dx,f=this.dy,a=this.colors,r=this.alpha,e=this.bwidth,o=this.bcolor,s=this.balpha,tt=this.gradientRotation,pt=this.cornerRadius,k=this.dashLength,et=this.pattern,b=this.topRadius,it=this.bcn,y=a,l=a;for("object"==typeof a&&(y=a[0],l=a[a.length-1]),wt=r,et&&(r=0),rt=this.rotate,(0<Math.abs(u)||0<Math.abs(f))&&(isNaN(b)?(v=l,l=AmCharts.adjustLuminosity(y,-.2),l=AmCharts.adjustLuminosity(y,-.2),c=AmCharts.polygon(i,[0,u,n+u,n,0],[0,f,f,0,0],l,r,1,o,0,tt),0<s&&(ct=AmCharts.line(i,[0,u,n+u],[0,f,f],o,s,e,k)),d=AmCharts.polygon(i,[0,0,n,n,0],[0,t,t,0,0],l,r,1,o,0,tt),d.translate(u,f),0<s&&(ot=AmCharts.line(i,[u,u],[f,f+t],o,s,e,k)),ut=AmCharts.polygon(i,[0,0,u,u,0],[0,t,t+f,f,0],l,r,1,o,0,tt),ft=AmCharts.polygon(i,[n,n,n+u,n+u,n],[0,t,t+f,f,0],l,r,1,o,0,tt),0<s&&(st=AmCharts.line(i,[n,n+u,n+u,n],[0,f,t+f,t],o,s,e,k)),l=AmCharts.adjustLuminosity(v,.2),v=AmCharts.polygon(i,[0,u,n+u,n,0],[t,t+f,t+f,t,t],l,r,1,o,0,tt),0<s&&(ht=AmCharts.line(i,[0,u,n+u],[t,t+f,t+f],o,s,e,k))):(rt?(lt=t/2,l=u/2,vt=t/2,at=n+u/2,p=Math.abs(t/2),h=Math.abs(u/2)):(l=n/2,lt=f/2,at=n/2,vt=t+f/2+1,h=Math.abs(n/2),p=Math.abs(f/2)),w=h*b,g=p*b,.1<h&&.1<h&&(c=AmCharts.circle(i,h,y,r,e,o,s,!1,p),c.translate(l,lt)),.1<w&&.1<w&&(v=AmCharts.circle(i,w,AmCharts.adjustLuminosity(y,.5),r,e,o,s,!1,g),v.translate(at,vt)))),r=wt,1>Math.abs(t)&&(t=0),1>Math.abs(n)&&(n=0),!isNaN(b)&&(0<Math.abs(u)||0<Math.abs(f))?(a=[y],a={fill:a,stroke:o,"stroke-width":e,"stroke-opacity":s,"fill-opacity":r},rt?(r="M0,0 L"+n+","+(t/2-t/2*b),e=" B",0<n&&(e=" A"),AmCharts.VML?(r+=e+Math.round(n-w)+","+Math.round(t/2-g)+","+Math.round(n+w)+","+Math.round(t/2+g)+","+n+",0,"+n+","+t,r=r+(" L0,"+t)+(e+Math.round(-h)+","+Math.round(t/2-p)+","+Math.round(h)+","+Math.round(t/2+p)+",0,"+t+",0,0")):(r+="A"+w+","+g+",0,0,0,"+n+","+(t-t/2*(1-b))+"L0,"+t,r+="A"+h+","+p+",0,0,1,0,0"),h=90):(e=n/2-n/2*b,r="M0,0 L"+e+","+t,AmCharts.VML?(r="M0,0 L"+e+","+t,e=" B",0>t&&(e=" A"),r+=e+Math.round(n/2-w)+","+Math.round(t-g)+","+Math.round(n/2+w)+","+Math.round(t+g)+",0,"+t+","+n+","+t,r+=" L"+n+",0",r+=e+Math.round(n/2+h)+","+Math.round(p)+","+Math.round(n/2-h)+","+Math.round(-p)+","+n+",0,0,0"):(r+="A"+w+","+g+",0,0,0,"+(n-n/2*(1-b))+","+t+"L"+n+",0",r+="A"+h+","+p+",0,0,1,0,0"),h=180),i=i.path(r).attr(a),i.gradient("linearGradient",[y,AmCharts.adjustLuminosity(y,-.3),AmCharts.adjustLuminosity(y,-.3),y],h),rt?i.translate(u/2,0):i.translate(0,f/2)):i=0===t?AmCharts.line(i,[0,n],[0,0],o,s,e,k):0===n?AmCharts.line(i,[0,0],[0,t],o,s,e,k):0<pt?AmCharts.rect(i,n,t,a,r,e,o,s,pt,tt,k):AmCharts.polygon(i,[0,0,n,n,0],[0,t,t,0,0],a,r,e,o,s,tt,!1,k),n=isNaN(b)?0>t?[c,ct,d,ot,ut,ft,st,v,ht,i]:[v,ht,d,ot,ut,ft,c,ct,st,i]:rt?0<n?[c,i,v]:[v,i,c]:0>t?[c,i,v]:[v,i,c],AmCharts.setCN(nt,i,it+"front"),AmCharts.setCN(nt,d,it+"back"),AmCharts.setCN(nt,v,it+"top"),AmCharts.setCN(nt,c,it+"bottom"),AmCharts.setCN(nt,ut,it+"left"),AmCharts.setCN(nt,ft,it+"right"),c=0;c<n.length;c++)(d=n[c])&&(yt.push(d),AmCharts.setCN(nt,d,it+"element"));et&&i.pattern(et)},width:function(n){isNaN(n)&&(n=0);this.w=Math.round(n);this.draw()},height:function(n){isNaN(n)&&(n=0);this.h=Math.round(n);this.draw()},animateHeight:function(n,t){var i=this;i.easing=t;i.totalFrames=Math.round(1e3*n/AmCharts.updateRate);i.rh=i.h;i.frame=0;i.height(1);setTimeout(function(){i.updateHeight.call(i)},AmCharts.updateRate)},updateHeight:function(){var n=this,t;n.frame++;t=n.totalFrames;n.frame<=t&&(t=n.easing(0,n.frame,1,n.rh-1,t),n.height(t),setTimeout(function(){n.updateHeight.call(n)},AmCharts.updateRate))},animateWidth:function(n,t){var i=this;i.easing=t;i.totalFrames=Math.round(1e3*n/AmCharts.updateRate);i.rw=i.w;i.frame=0;i.width(1);setTimeout(function(){i.updateWidth.call(i)},AmCharts.updateRate)},updateWidth:function(){var n=this,t;n.frame++;t=n.totalFrames;n.frame<=t&&(t=n.easing(0,n.frame,1,n.rw-1,t),n.width(t),setTimeout(function(){n.updateWidth.call(n)},AmCharts.updateRate))}});AmCharts.CategoryAxis=AmCharts.Class({inherits:AmCharts.AxisBase,construct:function(n){this.cname="CategoryAxis";AmCharts.CategoryAxis.base.construct.call(this,n);this.minPeriod="DD";this.equalSpacing=this.parseDates=!1;this.position="bottom";this.startOnAxis=!1;this.firstDayOfWeek=1;this.gridPosition="middle";this.markPeriodChange=this.boldPeriodBeginning=!0;this.safeDistance=30;this.centerLabelOnFullPeriod=!0;AmCharts.applyTheme(this,n,this.cname)},draw:function(){var f,n,c,h,v,o,nt,g,tt,a,it;if(AmCharts.CategoryAxis.base.draw.call(this),this.generateDFObject(),f=this.chart.chartData,this.data=f,AmCharts.ifArray(f)){c=this.chart;"scrollbar"!=this.id?(AmCharts.setCN(c,this.set,"category-axis"),AmCharts.setCN(c,this.labelsSet,"category-axis"),AmCharts.setCN(c,this.axisLine.axisSet,"category-axis")):this.bcn=this.id+"-";var e=this.start,y=this.labelFrequency,p=0,t=this.end-e+1,w=this.gridCountR,d=this.showFirstLabel,i=this.showLastLabel,u="",u=AmCharts.extractPeriod(this.minPeriod),a=AmCharts.getPeriodDuration(u.period,u.count),b,l,s,k,r;if(b=this.rotate,n=this.firstDayOfWeek,h=this.boldPeriodBeginning,o=AmCharts.resetDateToMin(new Date(f[f.length-1].time+1.05*a),this.minPeriod,1,n).getTime(),this.firstTime=c.firstTime,this.endTime>o&&(this.endTime=o),r=this.minorGridEnabled,o=this.gridAlpha,this.parseDates&&!this.equalSpacing)this.lastTime=f[f.length-1].time,this.maxTime=AmCharts.resetDateToMin(new Date(this.lastTime+1.05*a),this.minPeriod,1,n).getTime(),this.timeDifference=this.endTime-this.startTime,this.parseDatesDraw();else if(this.parseDates){if(this.parseDates&&this.equalSpacing){if(p=this.start,this.startTime=this.data[this.start].time,this.endTime=this.data[this.end].time,this.timeDifference=this.endTime-this.startTime,e=this.choosePeriod(0),y=e.period,b=e.count,f=AmCharts.getPeriodDuration(y,b),f<a&&(y=u.period,b=u.count,f=a),l=y,"WW"==l&&(l="DD"),this.stepWidth=this.getStepWidth(t),w=Math.ceil(this.timeDifference/f)+1,u=AmCharts.resetDateToMin(new Date(this.startTime-f),y,b,n).getTime(),this.cellWidth=this.getStepWidth(t),t=Math.round(u/f),e=-1,t/2==Math.round(t/2)&&(e=-2,u-=f),t=this.start,t/2==Math.round(t/2)&&t--,0>t&&(t=0),f=this.end+2,f>=this.data.length&&(f=this.data.length),g=!1,g=!d,this.previousPos=-1e3,20<this.labelRotation&&(this.safeDistance=5),tt=t,this.data[t].time!=AmCharts.resetDateToMin(new Date(this.data[t].time),y,b,n).getTime())for(a=0,it=u,n=t;n<f;n++)k=this.data[n].time,this.checkPeriodChange(y,b,k,it)&&(a++,2<=a&&(tt=n,n=f),it=k);if(r&&1<b&&(v=this.chooseMinorFrequency(b),AmCharts.getPeriodDuration(y,v)),0<this.gridCountR)for(n=t;n<f;n++)(k=this.data[n].time,this.checkPeriodChange(y,b,k,u)&&n>=tt)?(t=this.getCoordinate(n-this.start),r=!1,this.nextPeriod[l]&&(r=this.checkPeriodChange(this.nextPeriod[l],1,k,u,l)),a=!1,r&&this.markPeriodChange?(r=this.dateFormatsObject[this.nextPeriod[l]],a=!0):r=this.dateFormatsObject[l],u=AmCharts.formatDate(new Date(k),r,c),(n!=e||d)&&(n!=w||i)||(u=" "),g?g=!1:(h||(a=!1),t-this.previousPos>this.safeDistance*Math.cos(this.labelRotation*Math.PI/180)&&(this.labelFunction&&(u=this.labelFunction(u,new Date(k),this,y,b,s)),this.boldLabels&&(a=!0),s=new this.axisItemRenderer(this,t,u,void 0,void 0,void 0,void 0,a),r=s.graphics(),this.pushAxisItem(s),r=r.getBBox().width,AmCharts.isModern||(r-=t),this.previousPos=t+r)),s=u=k):isNaN(v)||(this.checkPeriodChange(y,v,k,nt)&&(this.gridAlpha=this.minorGridAlpha,t=this.getCoordinate(n-this.start),r=new this.axisItemRenderer(this,t),this.pushAxisItem(r),nt=k),this.gridAlpha=o)}}else if(this.cellWidth=this.getStepWidth(t),t<w&&(w=t),p+=this.start,this.stepWidth=this.getStepWidth(t),0<w)for(w=Math.floor(t/w),v=this.chooseMinorFrequency(w),t=p,t/2==Math.round(t/2)&&t--,0>t&&(t=0),nt=0,this.end-t+1>=this.autoRotateCount&&(this.labelRotation=this.autoRotateAngle),n=t;n<=this.end+2;n++){if(h=!1,0<=n&&n<this.data.length?(l=this.data[n],u=l.category,h=l.forceShow):u="",r&&!isNaN(v))if(n/v==Math.round(n/v)||h)n/w==Math.round(n/w)||h||(this.gridAlpha=this.minorGridAlpha,u=void 0);else continue;else if(n/w!=Math.round(n/w)&&!h)continue;t=this.getCoordinate(n-p);s=0;"start"==this.gridPosition&&(t-=this.cellWidth/2,s=this.cellWidth/2);h=!0;f=s;"start"==this.tickPosition&&(f=0,h=!1,s=0);(n!=e||d)&&(n!=this.end||i)||(u=void 0);Math.round(nt/y)!=nt/y&&(u=void 0);nt++;g=this.cellWidth;b&&(g=NaN);this.labelFunction&&l&&(u=this.labelFunction(u,l,this));u=AmCharts.fixBrakes(u);a=!1;this.boldLabels&&(a=!0);n>this.end&&"start"==this.tickPosition&&(u=" ");s=new this.axisItemRenderer(this,t,u,h,g,s,void 0,a,f,!1,l.labelColor,l.className);s.serialDataItem=l;this.pushAxisItem(s);this.gridAlpha=o}for(n=0;n<this.data.length;n++)(d=this.data[n])&&(i=this.parseDates&&!this.equalSpacing?Math.round((d.time-this.startTime)*this.stepWidth+this.cellWidth/2):this.getCoordinate(n-p),d.x[this.id]=i);for(d=this.guides.length,n=0;n<d;n++)i=this.guides[n],r=h=r=o=e=NaN,v=i.above,i.toCategory&&(h=c.getCategoryIndexByValue(i.toCategory),isNaN(h)||(e=this.getCoordinate(h-p),i.expand&&(e+=this.cellWidth/2),s=new this.axisItemRenderer(this,e,"",!0,NaN,NaN,i),this.pushAxisItem(s,v))),i.category&&(r=c.getCategoryIndexByValue(i.category),isNaN(r)||(o=this.getCoordinate(r-p),i.expand&&(o-=this.cellWidth/2),r=(e-o)/2,s=new this.axisItemRenderer(this,o,i.label,!0,NaN,r,i),this.pushAxisItem(s,v))),r=c.dataDateFormat,i.toDate&&(i.toDate=AmCharts.getDate(i.toDate,r,this.minPeriod),this.equalSpacing?(h=c.getClosestIndex(this.data,"time",i.toDate.getTime(),!1,0,this.data.length-1),isNaN(h)||(e=this.getCoordinate(h-p))):e=(i.toDate.getTime()-this.startTime)*this.stepWidth,s=new this.axisItemRenderer(this,e,"",!0,NaN,NaN,i),this.pushAxisItem(s,v)),i.date&&(i.date=AmCharts.getDate(i.date,r,this.minPeriod),this.equalSpacing?(r=c.getClosestIndex(this.data,"time",i.date.getTime(),!1,0,this.data.length-1),isNaN(r)||(o=this.getCoordinate(r-p))):o=(i.date.getTime()-this.startTime)*this.stepWidth,r=(e-o)/2,h=!0,i.toDate&&(h=!1),s="H"==this.orientation?new this.axisItemRenderer(this,o,i.label,h,2*r,NaN,i):new this.axisItemRenderer(this,o,i.label,!1,NaN,r,i),this.pushAxisItem(s,v)),(0<e||0<o)&&(e<this.width||o<this.width)&&(e=new this.guideFillRenderer(this,o,e,i),o=e.graphics(),this.pushAxisItem(e,v),i.graphics=o,o.index=n,i.balloonText&&this.addEventListeners(o,i))}this.axisCreated=!0;c=this.x;p=this.y;this.set.translate(c,p);this.labelsSet.translate(c,p);this.positionTitle();(c=this.axisLine.set)&&c.toFront();c=this.getBBox().height;2<c-this.previousHeight&&this.autoWrap&&!this.parseDates&&(this.axisCreated=this.chart.marginsUpdated=!1);this.previousHeight=c},xToIndex:function(n){var i=this.data,t=this.chart,f=t.rotate,u=this.stepWidth,r;return this.parseDates&&!this.equalSpacing?(n=this.startTime+Math.round(n/u)-this.minDuration()/2,t=t.getClosestIndex(i,"time",n,!1,this.start,this.end+1)):(this.startOnAxis||(n-=u/2),t=this.start+Math.round(n/u)),t=AmCharts.fitToBounds(t,0,i.length-1),i[t]&&(r=i[t].x[this.id]),f?r>this.height+1&&t--:r>this.width+1&&t--,0>r&&t++,AmCharts.fitToBounds(t,0,i.length-1)},dateToCoordinate:function(n){return this.parseDates&&!this.equalSpacing?(n.getTime()-this.startTime)*this.stepWidth:this.parseDates&&this.equalSpacing?(n=this.chart.getClosestIndex(this.data,"time",n.getTime(),!1,0,this.data.length-1),this.getCoordinate(n-this.start)):NaN},categoryToCoordinate:function(n){return this.chart?(n=this.chart.getCategoryIndexByValue(n),this.getCoordinate(n-this.start)):NaN},coordinateToDate:function(n){return this.equalSpacing?(n=this.xToIndex(n),new Date(this.data[n].time)):new Date(this.startTime+n/this.stepWidth)},getCoordinate:function(n){return n*=this.stepWidth,this.startOnAxis||(n+=this.stepWidth/2),Math.round(n)}});AmCharts.themes.light={themeName:"light",AmChart:{color:"#000000",backgroundColor:"#FFFFFF"},AmCoordinateChart:{colors:["#67b7dc","#fdd400","#84b761","#cc4748","#cd82ad","#2f4074","#448e4d","#b7b83f","#b9783f","#b93e3d","#913167"]},AmStockChart:{colors:["#67b7dc","#fdd400","#84b761","#cc4748","#cd82ad","#2f4074","#448e4d","#b7b83f","#b9783f","#b93e3d","#913167"]},AmSlicedChart:{colors:["#67b7dc","#fdd400","#84b761","#cc4748","#cd82ad","#2f4074","#448e4d","#b7b83f","#b9783f","#b93e3d","#913167"],outlineAlpha:1,outlineThickness:2,labelTickColor:"#000000",labelTickAlpha:.3},AmRectangularChart:{zoomOutButtonColor:"#000000",zoomOutButtonRollOverAlpha:.15,zoomOutButtonImage:"lens.png"},AxisBase:{axisColor:"#000000",axisAlpha:.3,gridAlpha:.1,gridColor:"#000000"},ChartScrollbar:{backgroundColor:"#000000",backgroundAlpha:.12,graphFillAlpha:.5,graphLineAlpha:0,selectedBackgroundColor:"#FFFFFF",selectedBackgroundAlpha:.4,gridAlpha:.15},ChartCursor:{cursorColor:"#000000",color:"#FFFFFF",cursorAlpha:.5},AmLegend:{color:"#000000"},AmGraph:{lineAlpha:.9},GaugeArrow:{color:"#000000",alpha:.8,nailAlpha:0,innerRadius:"40%",nailRadius:15,startWidth:15,borderAlpha:.8,nailBorderAlpha:0},GaugeAxis:{tickColor:"#000000",tickAlpha:1,tickLength:15,minorTickLength:8,axisThickness:3,axisColor:"#000000",axisAlpha:1,bandAlpha:.8},TrendLine:{lineColor:"#c03246",lineAlpha:.8},AreasSettings:{alpha:.8,color:"#67b7dc",colorSolid:"#003767",unlistedAreasAlpha:.4,unlistedAreasColor:"#000000",outlineColor:"#FFFFFF",outlineAlpha:.5,outlineThickness:.5,rollOverColor:"#3c5bdc",rollOverOutlineColor:"#FFFFFF",selectedOutlineColor:"#FFFFFF",selectedColor:"#f15135",unlistedAreasOutlineColor:"#FFFFFF",unlistedAreasOutlineAlpha:.5},LinesSettings:{color:"#000000",alpha:.8},ImagesSettings:{alpha:.8,labelColor:"#000000",color:"#000000",labelRollOverColor:"#3c5bdc"},ZoomControl:{buttonRollOverColor:"#3c5bdc",buttonFillColor:"#3994e2",buttonBorderColor:"#3994e2",buttonFillAlpha:.8,gridBackgroundColor:"#FFFFFF",buttonBorderAlpha:0,buttonCornerRadius:2,gridColor:"#FFFFFF",gridBackgroundColor:"#000000",buttonIconAlpha:.6,gridAlpha:.6,buttonSize:20},SmallMap:{mapColor:"#000000",rectangleColor:"#f15135",backgroundColor:"#FFFFFF",backgroundAlpha:.7,borderThickness:1,borderAlpha:.8},PeriodSelector:{color:"#000000"},PeriodButton:{color:"#000000",background:"transparent",opacity:.7,border:"1px solid rgba(0, 0, 0, .3)",MozBorderRadius:"5px",borderRadius:"5px",margin:"1px",outline:"none",boxSizing:"border-box"},PeriodButtonSelected:{color:"#000000",backgroundColor:"#b9cdf5",border:"1px solid rgba(0, 0, 0, .3)",MozBorderRadius:"5px",borderRadius:"5px",margin:"1px",outline:"none",opacity:1,boxSizing:"border-box"},PeriodInputField:{color:"#000000",background:"transparent",border:"1px solid rgba(0, 0, 0, .3)",outline:"none"},DataSetSelector:{color:"#000000",selectedBackgroundColor:"#b9cdf5",rollOverBackgroundColor:"#a8b0e4"},DataSetCompareList:{color:"#000000",lineHeight:"100%",boxSizing:"initial",webkitBoxSizing:"initial",border:"1px solid rgba(0, 0, 0, .3)"},DataSetSelect:{border:"1px solid rgba(0, 0, 0, .3)",outline:"none"}};AmCharts.themes.dark={themeName:"dark",AmChart:{color:"#e7e7e7",backgroundColor:"#282828"},AmCoordinateChart:{colors:["#ae85c9","#aab9f7","#b6d2ff","#c9e6f2","#c9f0e1","#e8d685","#e0ad63","#d48652","#d27362","#495fba","#7a629b","#8881cc"]},AmStockChart:{colors:["#639dbd","#e8d685","#ae85c9","#c9f0e1","#d48652","#629b6d","#719dc3","#719dc3"]},AmSlicedChart:{outlineAlpha:1,outlineThickness:2,labelTickColor:"#FFFFFF",labelTickAlpha:.3,colors:["#495fba","#e8d685","#ae85c9","#c9f0e1","#d48652","#629b6d","#719dc3","#719dc3"]},AmRectangularChart:{zoomOutButtonColor:"#FFFFFF",zoomOutButtonRollOverAlpha:.15,zoomOutButtonImage:"lensWhite.png"},AxisBase:{axisColor:"#FFFFFF",axisAlpha:.3,gridAlpha:.1,gridColor:"#FFFFFF",dashLength:3},ChartScrollbar:{backgroundColor:"#000000",backgroundAlpha:.2,graphFillAlpha:.2,graphLineAlpha:0,graphFillColor:"#FFFFFF",selectedGraphFillColor:"#FFFFFF",selectedGraphFillAlpha:.4,selectedGraphLineColor:"#FFFFFF",selectedBackgroundColor:"#FFFFFF",selectedBackgroundAlpha:.09,gridAlpha:.15},ChartCursor:{cursorColor:"#FFFFFF",color:"#000000",cursorAlpha:.5},AmLegend:{color:"#e7e7e7"},AmGraph:{lineAlpha:.9},GaugeArrow:{color:"#FFFFFF",alpha:.8,nailAlpha:0,innerRadius:"40%",nailRadius:15,startWidth:15,borderAlpha:.8,nailBorderAlpha:0},GaugeAxis:{tickColor:"#FFFFFF",tickAlpha:1,tickLength:15,minorTickLength:8,axisThickness:3,axisColor:"#FFFFFF",axisAlpha:1,bandAlpha:.8},TrendLine:{lineColor:"#c03246",lineAlpha:.8},AreasSettings:{alpha:.8,color:"#FFFFFF",colorSolid:"#000000",unlistedAreasAlpha:.4,unlistedAreasColor:"#FFFFFF",outlineColor:"#000000",outlineAlpha:.5,outlineThickness:.5,rollOverColor:"#3c5bdc",rollOverOutlineColor:"#000000",selectedOutlineColor:"#000000",selectedColor:"#f15135",unlistedAreasOutlineColor:"#000000",unlistedAreasOutlineAlpha:.5},LinesSettings:{color:"#FFFFFF",alpha:.8},ImagesSettings:{alpha:.8,labelColor:"#FFFFFF",color:"#FFFFFF",labelRollOverColor:"#3c5bdc"},ZoomControl:{buttonRollOverColor:"#3c5bdc",buttonFillColor:"#f15135",buttonFillAlpha:.8,gridBackgroundColor:"#FFFFFF",buttonBorderAlpha:0,buttonCornerRadius:2,gridAlpha:.5,gridBackgroundColor:"#FFFFFF",homeIconFile:"homeIconWhite.gif",buttonIconAlpha:.6,gridAlpha:.2,buttonSize:20},SmallMap:{mapColor:"#FFFFFF",rectangleColor:"#FFFFFF",backgroundColor:"#000000",backgroundAlpha:.7,borderThickness:1,borderAlpha:.8},PeriodSelector:{color:"#e7e7e7"},PeriodButton:{color:"#e7e7e7",background:"transparent",opacity:.7,border:"1px solid rgba(255, 255, 255, .15)",MozBorderRadius:"5px",borderRadius:"5px",margin:"1px",outline:"none",boxSizing:"border-box"},PeriodButtonSelected:{color:"#e7e7e7",backgroundColor:"rgba(255, 255, 255, 0.1)",border:"1px solid rgba(255, 255, 255, .3)",MozBorderRadius:"5px",borderRadius:"5px",margin:"1px",outline:"none",opacity:1,boxSizing:"border-box"},PeriodInputField:{color:"#e7e7e7",background:"transparent",border:"1px solid rgba(255, 255, 255, .15)",outline:"none"},DataSetSelector:{color:"#e7e7e7",selectedBackgroundColor:"rgba(255, 255, 255, .25)",rollOverBackgroundColor:"rgba(255, 255, 255, .15)"},DataSetCompareList:{color:"#e7e7e7",lineHeight:"100%",boxSizing:"initial",webkitBoxSizing:"initial",border:"1px solid rgba(255, 255, 255, .15)"},DataSetSelect:{border:"1px solid rgba(255, 255, 255, .15)",outline:"none"}};AmCharts.AmStockChart=AmCharts.Class({construct:function(n){this.type="stock";this.cname="AmStockChart";AmCharts.addChart(this);this.version="3.14.0";this.theme=n;this.createEvents("zoomed","rollOverStockEvent","rollOutStockEvent","clickStockEvent","panelRemoved","dataUpdated","init","rendered","drawn","resized");this.colors="#FF6600 #FCD202 #B0DE09 #0D8ECF #2A0CD0 #CD0D74 #CC0000 #00CC00 #0000CC #DDDDDD #999999 #333333 #990000".split(" ");this.firstDayOfWeek=1;this.glueToTheEnd=!1;this.dataSetCounter=-1;this.zoomOutOnDataSetChange=!1;this.panels=[];this.dataSets=[];this.chartCursors=[];this.comparedDataSets=[];this.classNamePrefix="amcharts";this.categoryAxesSettings=new AmCharts.CategoryAxesSettings(n);this.valueAxesSettings=new AmCharts.ValueAxesSettings(n);this.panelsSettings=new AmCharts.PanelsSettings(n);this.chartScrollbarSettings=new AmCharts.ChartScrollbarSettings(n);this.chartCursorSettings=new AmCharts.ChartCursorSettings(n);this.stockEventsSettings=new AmCharts.StockEventsSettings(n);this.legendSettings=new AmCharts.LegendSettings(n);this.balloon=new AmCharts.AmBalloon(n);this.previousEndDate=new Date(0);this.previousStartDate=new Date(0);this.dataSetCount=this.graphCount=0;this.chartCreated=!1;this.extendToFullPeriod=!0;AmCharts.applyTheme(this,n,this.cname)},write:function(n){var t=this.theme,i;this.initHC||(AmCharts.callInitHandler(this),this.initHC=!0);AmCharts.applyLang(this.language,this);this.chartCursors=[];i=this.exportConfig;i&&AmCharts.AmExport&&!this.AmExport&&(this.AmExport=new AmCharts.AmExport(this,i));this.amExport&&AmCharts.AmExport&&(this.AmExport=AmCharts.extend(this.amExport,new AmCharts.AmExport(this),!0));this.AmExport&&this.AmExport.init();this.chartRendered=!1;n="object"!=typeof n?document.getElementById(n):n;this.zoomOutOnDataSetChange&&(this.endDate=this.startDate=void 0);this.categoryAxesSettings=AmCharts.processObject(this.categoryAxesSettings,AmCharts.CategoryAxesSettings,t);this.valueAxesSettings=AmCharts.processObject(this.valueAxesSettings,AmCharts.ValueAxesSettings,t);this.chartCursorSettings=AmCharts.processObject(this.chartCursorSettings,AmCharts.ChartCursorSettings,t);this.chartScrollbarSettings=AmCharts.processObject(this.chartScrollbarSettings,AmCharts.ChartScrollbarSettings,t);this.legendSettings=AmCharts.processObject(this.legendSettings,AmCharts.LegendSettings,t);this.panelsSettings=AmCharts.processObject(this.panelsSettings,AmCharts.PanelsSettings,t);this.stockEventsSettings=AmCharts.processObject(this.stockEventsSettings,AmCharts.StockEventsSettings,t);this.dataSetSelector&&(this.dataSetSelector=AmCharts.processObject(this.dataSetSelector,AmCharts.DataSetSelector,t));this.periodSelector&&(this.periodSelector=AmCharts.processObject(this.periodSelector,AmCharts.PeriodSelector,t));n.innerHTML="";this.div=n;this.measure();this.createLayout();this.updateDataSets();this.addDataSetSelector();this.addPeriodSelector();this.addPanels();this.updatePanels();this.addChartScrollbar();this.updateData();this.skipDefault||this.setDefaultPeriod()},setDefaultPeriod:function(n){var t=this.periodSelector;t&&(this.animationPlayed=!1,t.setDefaultPeriod(n))},validateSize:function(){this.measurePanels()},updateDataSets:function(){for(var r=this.mainDataSet,i=this.dataSets,n,t=0;t<i.length;t++)n=i[t],n=AmCharts.processObject(n,AmCharts.DataSet),i[t]=n,n.id||(this.dataSetCount++,n.id="ds"+this.dataSetCount),void 0===n.color&&(n.color=this.colors.length-1>t?this.colors[t]:AmCharts.randomColor());!r&&AmCharts.ifArray(i)&&(this.mainDataSet=this.dataSets[0])},updateEvents:function(n){AmCharts.ifArray(n.stockEvents)&&AmCharts.parseEvents(n,this.panels,this.stockEventsSettings,this.firstDayOfWeek,this,this.dataDateFormat)},getLastDate:function(n){return n=AmCharts.getDate(n,this.dataDateFormat,"fff"),new Date(AmCharts.changeDate(n,this.categoryAxesSettings.minPeriod,1,!0).getTime()-1)},getFirstDate:function(n){return n=AmCharts.getDate(n,this.dataDateFormat,"fff"),new Date(AmCharts.resetDateToMin(n,this.categoryAxesSettings.minPeriod,1,this.firstDayOfWeek))},updateData:function(){var n=this.mainDataSet,t,i,r;n&&(t=this.categoryAxesSettings,-1==AmCharts.getItemIndex(t.minPeriod,t.groupToPeriods)&&t.groupToPeriods.unshift(t.minPeriod),i=n.dataProvider,AmCharts.ifArray(i)?(r=n.categoryField,this.firstDate=this.getFirstDate(i[0][r]),this.lastDate=this.getLastDate(i[i.length-1][r]),this.periodSelector&&this.periodSelector.setRanges(this.firstDate,this.lastDate),n.dataParsed||(AmCharts.parseStockData(n,t.minPeriod,t.groupToPeriods,this.firstDayOfWeek,this.dataDateFormat),n.dataParsed=!0),this.updateComparingData(),this.updateEvents(n)):this.lastDate=this.firstDate=void 0,this.glueToTheEnd&&this.startDate&&this.endDate&&this.lastDate&&(AmCharts.getPeriodDuration(t.minPeriod),this.startDate=new Date(this.startDate.getTime()+(this.lastDate.getTime()-this.endDate.getTime())),this.endDate=this.lastDate,this.updateScrollbar=!0),this.updatePanelsWithNewData());n={type:"dataUpdated",chart:this};this.fire(n.type,n)},updateComparingData:function(){for(var i=this.comparedDataSets,r=this.categoryAxesSettings,n,t=0;t<i.length;t++)n=i[t],n.dataParsed||(AmCharts.parseStockData(n,r.minPeriod,r.groupToPeriods,this.firstDayOfWeek,this.dataDateFormat),n.dataParsed=!0),this.updateEvents(n)},createLayout:function(){var t=this.div,n,u,r=this.classNamePrefix,i=document.createElement("div");i.style.position="relative";this.containerDiv=i;i.className=r+"-stock-div";t.appendChild(i);(t=this.periodSelector)&&(n=t.position);(t=this.dataSetSelector)&&(u=t.position);("left"==n||"left"==u)&&(t=document.createElement("div"),t.className=r+"-left-div",t.style.cssFloat="left",t.style.styleFloat="left",t.style.width="0px",t.style.position="absolute",i.appendChild(t),this.leftContainer=t);("right"==n||"right"==u)&&(n=document.createElement("div"),n.className=r+"-right-div",n.style.cssFloat="right",n.style.styleFloat="right",n.style.width="0px",i.appendChild(n),this.rightContainer=n);n=document.createElement("div");n.className=r+"-center-div";i.appendChild(n);this.centerContainer=n;i=document.createElement("div");i.className=r+"-panels-div";n.appendChild(i);this.panelsContainer=i},addPanels:function(){var i,n,t;for(this.measurePanels(),i=this.panels,n=0;n<i.length;n++)t=i[n],t=AmCharts.processObject(t,AmCharts.StockPanel,this.theme,!0),i[n]=t,this.addStockPanel(t,n);this.panelsAdded=!0},measurePanels:function(){var n,t,f,e,r,i,u;if(this.measure(),n=this.chartScrollbarSettings,t=this.divRealHeight,this.div&&(f=this.panelsSettings.panelSpacing,n.enabled&&(t-=n.height),(n=this.periodSelector)&&!n.vertical&&(n=n.offsetHeight,t-=n+f),(n=this.dataSetSelector)&&!n.vertical&&(n=n.offsetHeight,t-=n+f),t!=this.prevPH)){for(n=this.panels,0<t&&(this.panelsContainer.style.height=t+"px"),e=0,r=0;r<n.length;r++)(i=n[r])&&(u=i.percentHeight,isNaN(u)&&(u=100/n.length,i.percentHeight=u),e+=u);for(this.panelsHeight=Math.max(t-f*(n.length-1),0),r=0;r<n.length;r++)(i=n[r])&&(i.percentHeight=i.percentHeight/e*100,i.panelBox&&(i.panelBox.style.height=Math.round(i.percentHeight*this.panelsHeight/100)+"px"));this.prevPH=t}},addStockPanel:function(n,t){var r=this.panelsSettings,i=document.createElement("div");0<t&&!this.panels[t-1].showCategoryAxis&&(i.style.marginTop=r.panelSpacing+"px");n.panelBox=i;n.stockChart=this;n.id||(n.id="stockPanel"+t);i.className="amChartsPanel "+this.classNamePrefix+"-stock-panel-div "+this.classNamePrefix+"-stock-panel-div-"+n.id;n.pathToImages=this.pathToImages;i.style.height=Math.round(n.percentHeight*this.panelsHeight/100)+"px";i.style.width="100%";this.panelsContainer.appendChild(i);0<r.backgroundAlpha&&(i.style.backgroundColor=r.backgroundColor);(i=n.stockLegend)&&(i=AmCharts.processObject(i,AmCharts.StockLegend,this.theme),i.container=void 0,i.title=n.title,i.marginLeft=r.marginLeft,i.marginRight=r.marginRight,i.verticalGap=3,i.position="top",AmCharts.copyProperties(this.legendSettings,i),n.addLegend(i,i.divId));n.zoomOutText="";this.addCursor(n)},enableCursors:function(n){for(var i=this.chartCursors,t=0;t<i.length;t++)i[t].enabled=n},updatePanels:function(){for(var t=this.panels,n=0;n<t.length;n++)this.updatePanel(t[n]);this.mainDataSet&&this.updateGraphs();this.currentPeriod=void 0},updatePanel:function(n){var t,i,r,u;for(n.seriesIdField="amCategoryIdField",n.dataProvider=[],n.chartData=[],n.graphs=[],t=n.categoryAxis,i=this.categoryAxesSettings,AmCharts.copyProperties(this.panelsSettings,n),AmCharts.copyProperties(i,t),t.parseDates=!0,n.addClassNames=this.addClassNames,n.classNamePrefix=this.classNamePrefix,n.zoomOutOnDataUpdate=!1,n.mouseWheelScrollEnabled=this.mouseWheelScrollEnabled,n.dataDateFormat=this.dataDateFormat,n.language=this.language,n.showCategoryAxis?"top"==t.position?n.marginTop=i.axisHeight:n.marginBottom=i.axisHeight:(n.categoryAxis.labelsEnabled=!1,n.chartCursor&&(n.chartCursor.categoryBalloonEnabled=!1)),i=n.valueAxes,r=i.length,0===r&&(u=new AmCharts.ValueAxis(this.theme),n.addValueAxis(u)),t=new AmCharts.AmBalloon(this.theme),AmCharts.copyProperties(this.balloon,t),n.balloon=t,i=n.valueAxes,r=i.length,t=0;t<r;t++)u=i[t],AmCharts.copyProperties(this.valueAxesSettings,u);n.listenersAdded=!1;n.write(n.panelBox)},zoom:function(n,t){this.zoomChart(n,t)},zoomOut:function(){this.zoomChart(this.firstDate,this.lastDate)},updatePanelsWithNewData:function(){var r=this.mainDataSet,t=this.scrollbarChart,i,u,n;if(r){for(i=this.panels,this.currentPeriod=void 0,u=0;u<i.length;u++)n=i[u],n.categoryField=r.categoryField,0===r.dataProvider.length&&(n.dataProvider=[]),n.scrollbarChart=t;t&&(i=this.categoryAxesSettings,u=i.minPeriod,t.categoryField=r.categoryField,0<r.dataProvider.length?(n=this.chartScrollbarSettings.usePeriod,t.dataProvider=n?r.agregatedDataProviders[n]:r.agregatedDataProviders[u]):t.dataProvider=[],n=t.categoryAxis,n.minPeriod=u,n.firstDayOfWeek=this.firstDayOfWeek,n.equalSpacing=i.equalSpacing,n.axisAlpha=0,n.markPeriodChange=i.markPeriodChange,t.bbsetr=!0,t.validateData(),i=this.panelsSettings,t.maxSelectedTime=i.maxSelectedTime,t.minSelectedTime=i.minSelectedTime);0<r.dataProvider.length&&this.zoomChart(this.startDate,this.endDate)}this.panelDataInvalidated=!1},addChartScrollbar:function(){var f=this.chartScrollbarSettings,t=this.scrollbarChart,u,i,e,r;if(t&&(t.clear(),t.destroy()),f.enabled){var u=this.panelsSettings,n=this.categoryAxesSettings,t=new AmCharts.AmSerialChart(this.theme);if(t.language=this.language,t.pathToImages=this.pathToImages,t.autoMargins=!1,this.scrollbarChart=t,t.id="scrollbarChart",t.scrollbarOnly=!0,t.zoomOutText="",t.marginLeft=u.marginLeft,t.marginRight=u.marginRight,t.marginTop=0,t.marginBottom=0,u=n.dateFormats,i=t.categoryAxis,i.boldPeriodBeginning=n.boldPeriodBeginning,u&&(i.dateFormats=n.dateFormats),i.labelsEnabled=!1,i.parseDates=!0,n=f.graph,AmCharts.isString(n)){for(u=this.panels,i=0;i<u.length;i++)e=AmCharts.getObjById(u[i].stockGraphs,f.graph),e&&(n=e);f.graph=n}n&&(r=new AmCharts.AmGraph(this.theme),r.valueField=n.valueField,r.periodValue=n.periodValue,r.type=n.type,r.connect=n.connect,r.minDistance=f.minDistance,t.addGraph(r));n=new AmCharts.ChartScrollbar(this.theme);t.addChartScrollbar(n);AmCharts.copyProperties(f,n);n.scrollbarHeight=f.height;n.graph=r;this.listenTo(n,"zoomed",this.handleScrollbarZoom);r=document.createElement("div");r.className=this.classNamePrefix+"-scrollbar-chart-div";r.style.height=f.height+"px";n=this.periodSelectorContainer;u=this.periodSelector;i=this.centerContainer;"bottom"==f.position?u?"bottom"==u.position?i.insertBefore(r,n):i.appendChild(r):i.appendChild(r):u?"top"==u.position?i.insertBefore(r,n.nextSibling):i.insertBefore(r,i.firstChild):i.insertBefore(r,i.firstChild);t.write(r)}},handleScrollbarZoom:function(n){if(this.skipScrollbarEvent)this.skipScrollbarEvent=!1;else{var i=n.endDate,t={};t.startDate=n.startDate;t.endDate=i;this.updateScrollbar=!1;this.handleZoom(t)}},addPeriodSelector:function(){var t=this.periodSelector,f,r,i,n;if(t){r=this.categoryAxesSettings.minPeriod;t.minDuration=AmCharts.getPeriodDuration(r);t.minPeriod=r;t.chart=this;i=this.dataSetSelector;r=this.dssContainer;i&&(f=i.position);i=this.panelsSettings.panelSpacing;n=document.createElement("div");this.periodSelectorContainer=n;var e=this.leftContainer,o=this.rightContainer,u=this.centerContainer,s=this.panelsContainer,h=t.width+2*i+"px";switch(t.position){case"left":e.style.width=t.width+"px";e.appendChild(n);u.style.paddingLeft=h;break;case"right":u.style.marginRight=h;o.appendChild(n);o.style.width=t.width+"px";break;case"top":s.style.clear="both";u.insertBefore(n,s);n.style.paddingBottom=i+"px";n.style.overflow="hidden";break;case"bottom":n.style.marginTop=i+"px";"bottom"==f?u.insertBefore(n,r):u.appendChild(n)}this.listenTo(t,"changed",this.handlePeriodSelectorZoom);t.write(n)}},addDataSetSelector:function(){var n=this.dataSetSelector;if(n){n.chart=this;n.dataProvider=this.dataSets;var o=n.position,r=this.panelsSettings.panelSpacing,t=document.createElement("div");this.dssContainer=t;var u=this.leftContainer,f=this.rightContainer,i=this.centerContainer,e=this.panelsContainer,r=n.width+2*r+"px";switch(o){case"left":u.style.width=n.width+"px";u.appendChild(t);i.style.paddingLeft=r;break;case"right":i.style.marginRight=r;f.appendChild(t);f.style.width=n.width+"px";break;case"top":e.style.clear="both";i.insertBefore(t,e);t.style.overflow="hidden";break;case"bottom":i.appendChild(t)}n.write(t)}},handlePeriodSelectorZoom:function(n){var t=this.scrollbarChart;t&&(t.updateScrollbar=!0);n.predefinedPeriod?(this.predefinedStart=n.startDate,this.predefinedEnd=n.endDate):this.predefinedEnd=this.predefinedStart=null;this.zoomChart(n.startDate,n.endDate)},addCursor:function(n){var i=this.chartCursorSettings,t;i.enabled&&(t=new AmCharts.ChartCursor(this.theme),AmCharts.copyProperties(i,t),n.chartCursor&&AmCharts.copyProperties(n.chartCursor,t),n.removeChartCursor(),n.addChartCursor(t),this.listenTo(t,"changed",this.handleCursorChange),this.listenTo(t,"onHideCursor",this.hideChartCursor),this.listenTo(t,"zoomed",this.handleCursorZoom),this.chartCursors.push(t))},hideChartCursor:function(){for(var i=this.chartCursors,n,t=0;t<i.length;t++)n=i[t],n.hideCursor(!1),(n=n.chart)&&n.updateLegendValues()},handleCursorZoom:function(n){var t=this.scrollbarChart,i,r,u;t&&(t.updateScrollbar=!0);t={};this.categoryAxesSettings.equalSpacing?(r=this.mainDataSet.categoryField,u=this.mainDataSet.agregatedDataProviders[this.currentPeriod],i=new Date(u[n.start][r]),n=new Date(u[n.end][r])):(i=new Date(n.start),n=new Date(n.end));t.startDate=i;t.endDate=n;this.handleZoom(t)},handleZoom:function(n){this.zoomChart(n.startDate,n.endDate)},zoomChart:function(n,t){var f=new Date(n),i=this,o=i.firstDate,r=i.lastDate,u=i.currentPeriod,l=i.categoryAxesSettings,s=l.minPeriod,a=i.panelsSettings,h=i.periodSelector,v=i.panels,p=i.comparedGraphs,w=i.scrollbarChart,y=i.firstDayOfWeek,e,c;if(o&&r){for(n||(n=o),t||(t=r),u&&(e=AmCharts.extractPeriod(u),n.getTime()==t.getTime()&&e!=s&&(t=AmCharts.changeDate(t,e.period,e.count),t.setTime(t.getTime()-1))),n.getTime()<o.getTime()&&(n=o),n.getTime()>r.getTime()&&(n=r),t.getTime()<o.getTime()&&(t=o),t.getTime()>r.getTime()&&(t=r),e=AmCharts.getItemIndex(s,l.groupToPeriods),l=u,u=i.choosePeriod(e,n,t),i.currentPeriod=u,e=AmCharts.extractPeriod(u),c=AmCharts.getPeriodDuration(e.period,e.count),AmCharts.getPeriodDuration(s),1>t.getTime()-n.getTime()&&(n=new Date(t.getTime()-1)),s=AmCharts.newDate(n),i.extendToFullPeriod&&(s.getTime()-o.getTime()<.1*c&&(s=AmCharts.resetDateToMin(n,e.period,e.count,y)),r.getTime()-t.getTime()<.1*c&&(t=AmCharts.resetDateToMin(r,e.period,e.count,y),t=AmCharts.changeDate(t,e.period,e.count,!0))),o=0;o<v.length;o++)r=v[o],r.chartCursor&&r.chartCursor.panning&&(s=f);for(o=0;o<v.length;o++){if(r=v[o],u!=l){for(f=0;f<p.length;f++)c=p[f].graph,c.dataProvider=c.dataSet.agregatedDataProviders[u];f=r.categoryAxis;f.firstDayOfWeek=y;f.minPeriod=u;r.dataProvider=i.mainDataSet.agregatedDataProviders[u];(f=r.chartCursor)&&(f.categoryBalloonDateFormat=i.chartCursorSettings.categoryBalloonDateFormat(e.period),r.showCategoryAxis||(f.categoryBalloonEnabled=!1));r.startTime=s.getTime();r.endTime=t.getTime();r.validateData(!0)}f=!1;r.chartCursor&&r.chartCursor.panning&&(f=!0);f||(r.startTime=void 0,r.endTime=void 0,r.zoomToDates(s,t));0<a.startDuration&&i.animationPlayed&&!f?(r.startDuration=0,r.animateAgain()):0<a.startDuration&&!f&&r.animateAgain()}i.animationPlayed=!0;AmCharts.extractPeriod(u);a=new Date(t);w&&i.updateScrollbar&&(w.zoomToDates(n,a),i.skipScrollbarEvent=!0,setTimeout(function(){i.resetSkip.call(i)},100));i.updateScrollbar=!0;i.startDate=n;i.endDate=t;h&&h.zoom(n,t);(n.getTime()!=i.previousStartDate.getTime()||t.getTime()!=i.previousEndDate.getTime())&&(h={type:"zoomed"},h.startDate=n,h.endDate=t,h.chart=i,h.period=u,i.fire(h.type,h),i.previousStartDate=new Date(n),i.previousEndDate=new Date(t))}i.eventsHidden&&i.showHideEvents(!1);i.chartCreated||(u="init",i.fire(u,{type:u,chart:i}));i.chartRendered||(u="rendered",i.fire(u,{type:u,chart:i}),i.chartRendered=!0);u="drawn";i.fire(u,{type:u,chart:i});i.chartCreated=!0;i.animationPlayed=!0},resetSkip:function(){this.skipScrollbarEvent=!1},updateGraphs:function(){var g,k,r,h,c,e,a,n,t,v,s,l,u,f,y,p,nt,tt,d,w,o,i,b;if(this.getSelections(),0<this.dataSets.length)for(g=this.panels,this.comparedGraphs=[],k=0;k<g.length;k++){for(r=g[k],h=r.valueAxes,c=0;c<h.length;c++)e=h[c],e.prevLog&&(e.logarithmic=e.prevLog),e.recalculateToPercents="always"==r.recalculateToPercents?!0:!1;for(h=this.mainDataSet,c=this.comparedDataSets,e=r.stockGraphs,r.graphs=[],a=0;a<e.length;a++){for(n=e[a],n=AmCharts.processObject(n,AmCharts.StockGraph,this.theme),e[a]=n,(!n.title||n.resetTitleOnDataSetChange)&&(n.title=h.title,n.resetTitleOnDataSetChange=!0),n.useDataSetColors&&(n.lineColor=h.color,n.fillColors=void 0,n.bulletColor=void 0),t=!1,v=h.fieldMappings,s=0;s<v.length;s++)l=v[s],u=n.valueField,u&&l.toField==u&&(t=!0),(u=n.openField)&&l.toField==u&&(t=!0),(u=n.closeField)&&l.toField==u&&(t=!0),(u=n.lowField)&&l.toField==u&&(t=!0);if(r.addGraph(n),t||(n.visibleInLegend=!1),u=!1,"always"==r.recalculateToPercents&&(u=!0),f=r.stockLegend,f&&(f=AmCharts.processObject(f,AmCharts.StockLegend,this.theme),r.stockLegend=f,y=f.valueTextComparing,p=f.valueTextRegular,nt=f.periodValueTextComparing,tt=f.periodValueTextRegular),n.comparable&&(d=c.length,n.valueAxis))for(0<d&&n.valueAxis.logarithmic&&"never"!=r.recalculateToPercents&&(n.valueAxis.logarithmic=!1,n.valueAxis.prevLog=!0),0<d&&"whenComparing"==r.recalculateToPercents&&(n.valueAxis.recalculateToPercents=!0),f&&n.valueAxis&&!0===n.valueAxis.recalculateToPercents&&(u=!0),w=0;w<d;w++){for(o=c[w],i=n.comparedGraphs[o.id],i||(i=new AmCharts.AmGraph(this.theme),i.id="comparedGraph"+w+"_"+a+o.id),i.periodValue=n.periodValue,i.dataSet=o,i.behindColumns=n.behindColumns,n.comparedGraphs[o.id]=i,i.seriesIdField="amCategoryIdField",i.connect=n.connect,i.showBalloon=n.showBalloon,b=n.compareField,b||(b=n.valueField),t=!1,v=o.fieldMappings,s=0;s<v.length;s++)l=v[s],l.toField==b&&(t=!0);t&&(i.valueField=b,i.title=o.title,i.lineColor=o.color,n.compareGraphLineColor&&(i.lineColor=n.compareGraphLineColor),n.compareGraphType&&(i.type=n.compareGraphType),t=n.compareGraphLineThickness,isNaN(t)||(i.lineThickness=t),t=n.compareGraphDashLength,isNaN(t)||(i.dashLength=t),t=n.compareGraphLineAlpha,isNaN(t)||(i.lineAlpha=t),t=n.compareGraphCornerRadiusTop,isNaN(t)||(i.cornerRadiusTop=t),t=n.compareGraphCornerRadiusBottom,isNaN(t)||(i.cornerRadiusBottom=t),t=n.compareGraphBalloonColor,isNaN(t)||(i.balloonColor=t),t=n.compareGraphBulletColor,isNaN(t)||(i.bulletColor=t),(t=n.compareGraphFillColors)&&(i.fillColors=t),(t=n.compareGraphNegativeFillColors)&&(i.negativeFillColors=t),(t=n.compareGraphFillAlphas)&&(i.fillAlphas=t),(t=n.compareGraphNegativeFillAlphas)&&(i.negativeFillAlphas=t),(t=n.compareGraphBullet)&&(i.bullet=t),(t=n.compareGraphNumberFormatter)&&(i.numberFormatter=t),t=n.compareGraphPrecision,isNaN(t)||(i.precision=t),(t=n.compareGraphBalloonText)&&(i.balloonText=t),t=n.compareGraphBulletSize,isNaN(t)||(i.bulletSize=t),t=n.compareGraphBulletAlpha,isNaN(t)||(i.bulletAlpha=t),t=n.compareGraphBulletBorderAlpha,isNaN(t)||(i.bulletBorderAlpha=t),(t=n.compareGraphBulletBorderColor)&&(i.bulletBorderColor=t),t=n.compareGraphBulletBorderThickness,isNaN(t)||(i.bulletBorderThickness=t),i.visibleInLegend=n.compareGraphVisibleInLegend,i.balloonFunction=n.compareGraphBalloonFunction,i.hideBulletsCount=n.hideBulletsCount,i.valueAxis=n.valueAxis,f&&(u&&y?(i.legendValueText=y,i.legendPeriodValueText=nt):(p&&(i.legendValueText=p),i.legendPeriodValueText=tt)),r.showComparedOnTop?r.graphs.push(i):r.graphs.unshift(i),this.comparedGraphs.push({graph:i,dataSet:o}))}f&&(u&&y?(n.legendValueText=y,n.legendPeriodValueText=nt):(p&&(n.legendValueText=p),n.legendPeriodValueText=tt))}}},choosePeriod:function(n,t,i){var r=this.categoryAxesSettings,f=r.groupToPeriods,u=f[n],s=f[n+1],e=AmCharts.extractPeriod(u),e=AmCharts.getPeriodDuration(e.period,e.count),h=t.getTime(),c=i.getTime(),o=r.maxSeries;return r.alwaysGroup&&u==r.minPeriod&&(u=r.groupToPeriods[1],1<f.length&&(u=f[1])),(c-h)/e>o&&0<o&&s?this.choosePeriod(n+1,t,i):u},handleCursorChange:function(n){var r=n.target,f=n.position,e=n.zooming,u,i,t;for(n=n.index,u=this.chartCursors,i=0;i<u.length;i++)t=u[i],t!=r&&f&&(t.isZooming(e),t.previousMousePosition=NaN,t.forceShow=!0,t.initialMouse=r.initialMouse,t.selectionPosX=r.selectionPosX,t.setPosition(f,!1,n))},getSelections:function(){for(var r=[],i=this.dataSets,t,n=0;n<i.length;n++)t=i[n],t.compared&&r.push(t);for(this.comparedDataSets=r,i=this.panels,n=0;n<i.length;n++)t=i[n],"never"!=t.recalculateToPercents&&0<r.length?t.hideDrawingIcons(!0):t.drawingIconsEnabled&&t.hideDrawingIcons(!1)},addPanel:function(n){this.panels.push(n);this.prevPH=void 0;AmCharts.removeChart(n);AmCharts.addChart(n)},addPanelAt:function(n,t){this.panels.splice(t,0,n);this.prevPH=void 0;AmCharts.removeChart(n);AmCharts.addChart(n)},removePanel:function(n){var i=this.panels,t,r;for(this.prevPH=void 0,t=i.length-1;0<=t;t--)i[t]==n&&(r={type:"panelRemoved",panel:n,chart:this},this.fire(r.type,r),i.splice(t,1),n.destroy(),n.clear())},validateData:function(){this.resetDataParsed();this.updateDataSets();this.mainDataSet.compared=!1;this.updateGraphs();this.updateData();var n=this.dataSetSelector;n&&n.write(n.div)},resetDataParsed:function(){for(var t=this.dataSets,n=0;n<t.length;n++)t[n].dataParsed=!1},validateNow:function(n){this.skipDefault=!0;this.chartRendered=!1;this.prevPH=void 0;this.clear(!0);this.initTO&&clearTimeout(this.initTO);n&&this.resetDataParsed();this.write(this.div)},hideStockEvents:function(){this.showHideEvents(!1);this.eventsHidden=!0},showStockEvents:function(){this.showHideEvents(!0);this.eventsHidden=!1},showHideEvents:function(n){for(var f=this.panels,r,i,u,t=0;t<f.length;t++)for(r=f[t].graphs,i=0;i<r.length;i++)u=r[i],!0===n?u.showCustomBullets(!0):u.hideCustomBullets(!0)},invalidateSize:function(){var n=this,t;clearTimeout(n.validateTO);t=setTimeout(function(){n.validateNow()},5);n.validateTO=t},measure:function(){var n=this.div,t,i;n&&(t=n.offsetWidth,i=n.offsetHeight,n.clientHeight&&(t=n.clientWidth,i=n.clientHeight),this.divRealWidth=t,this.divRealHeight=i)},handleResize:function(){var n=this,t=setTimeout(function(){n.validateSizeReal()},150);n.initTO=t},validateSizeReal:function(){this.previousWidth=this.divRealWidth;this.previousHeight=this.divRealHeight;this.measure();(this.divRealWidth!=this.previousWidth||this.divRealHeight!=this.previousHeight)&&(0<this.divRealWidth&&0<this.divRealHeight&&this.fire("resized",{type:"resized",chart:this}),this.divRealHeight!=this.previousHeight&&this.validateNow())},clear:function(n){var t=this.panels,i,r;if(t)for(i=0;i<t.length;i++)r=t[i],n||(r.cleanChart(),r.destroy()),r.clear(n);(t=this.scrollbarChart)&&t.clear();(t=this.div)&&(t.innerHTML="");n||(this.div=null,AmCharts.deleteObject(this))}});AmCharts.StockEvent=AmCharts.Class({construct:function(){}});AmCharts.DataSet=AmCharts.Class({construct:function(){this.cname="DataSet";this.fieldMappings=[];this.dataProvider=[];this.agregatedDataProviders=[];this.stockEvents=[];this.compared=!1;this.showInCompare=this.showInSelect=!0}});AmCharts.PeriodSelector=AmCharts.Class({construct:function(n){this.cname="PeriodSelector";this.theme=n;this.createEvents("changed");this.inputFieldsEnabled=!0;this.position="bottom";this.width=180;this.fromText="From: ";this.toText="to: ";this.periodsText="Zoom: ";this.periods=[];this.inputFieldWidth=100;this.dateFormat="DD-MM-YYYY";this.hideOutOfScopePeriods=!0;AmCharts.applyTheme(this,n,this.cname)},zoom:function(n,t){var i=this.chart;this.inputFieldsEnabled&&(this.startDateField.value=AmCharts.formatDate(n,this.dateFormat,i),this.endDateField.value=AmCharts.formatDate(t,this.dateFormat,i));this.markButtonAsSelected()},write:function(n){var t=this,s=t.chart.classNamePrefix,o,f,h,c,r,i,u,l,e;if(n.className="amChartsPeriodSelector "+s+"-period-selector-div",o=t.width,f=t.position,t.width=void 0,t.position=void 0,AmCharts.applyStyles(n.style,t),t.width=o,t.position=f,t.div=n,n.innerHTML="",o=t.theme,f=t.position,f="top"==f||"bottom"==f?!1:!0,t.vertical=f,h=0,c=0,t.inputFieldsEnabled&&(r=document.createElement("div"),n.appendChild(r),u=document.createTextNode(AmCharts.lang.fromText||t.fromText),r.appendChild(u),f?AmCharts.addBr(r):(r.style.styleFloat="left",r.style.display="inline"),i=document.createElement("input"),i.className="amChartsInputField "+s+"-start-date-input",o&&AmCharts.applyStyles(i.style,o.PeriodInputField),i.style.textAlign="center",i.onblur=function(n){t.handleCalChange(n)},AmCharts.isNN&&i.addEventListener("keypress",function(n){t.handleCalendarChange.call(t,n)},!0),AmCharts.isIE&&i.attachEvent("onkeypress",function(n){t.handleCalendarChange.call(t,n)}),r.appendChild(i),t.startDateField=i,f?(u=t.width-6+"px",AmCharts.addBr(r)):(u=t.inputFieldWidth+"px",l=document.createTextNode(" "),r.appendChild(l)),i.style.width=u,i=document.createTextNode(AmCharts.lang.toText||t.toText),r.appendChild(i),f&&AmCharts.addBr(r),i=document.createElement("input"),i.className="amChartsInputField "+s+"-end-date-input",o&&AmCharts.applyStyles(i.style,o.PeriodInputField),i.style.textAlign="center",i.onblur=function(){t.handleCalChange()},AmCharts.isNN&&i.addEventListener("keypress",function(n){t.handleCalendarChange.call(t,n)},!0),AmCharts.isIE&&i.attachEvent("onkeypress",function(n){t.handleCalendarChange.call(t,n)}),r.appendChild(i),t.endDateField=i,f?AmCharts.addBr(r):h=i.offsetHeight+2,u&&(i.style.width=u)),r=t.periods,AmCharts.ifArray(r)){for(u=document.createElement("div"),f||(u.style.cssFloat="right",u.style.styleFloat="right",u.style.display="inline"),n.appendChild(u),f&&AmCharts.addBr(u),n=document.createTextNode(AmCharts.lang.periodsText||t.periodsText),u.appendChild(n),t.periodContainer=u,n=0;n<r.length;n++)i=r[n],e=document.createElement("input"),e.type="button",e.value=i.label,e.period=i.period,e.count=i.count,e.periodObj=i,e.className="amChartsButton "+s+"-period-input",o&&AmCharts.applyStyles(e.style,o.PeriodButton),f&&(e.style.width=t.width-1+"px"),e.style.boxSizing="border-box",u.appendChild(e),t.addEventListeners(e),i.button=e;!f&&e&&(c=e.offsetHeight);t.offsetHeight=Math.max(h,c)}},addEventListeners:function(n){var t=this;AmCharts.isNN&&n.addEventListener("click",function(n){t.handlePeriodChange.call(t,n)},!0);AmCharts.isIE&&n.attachEvent("onclick",function(n){t.handlePeriodChange.call(t,n)})},getPeriodDates:function(){for(var t=this.periods,n=0;n<t.length;n++)this.selectPeriodButton(t[n],!0)},handleCalendarChange:function(n){13==n.keyCode&&this.handleCalChange(n)},handleCalChange:function(n){var i=this.dateFormat,r=AmCharts.stringToDate(this.startDateField.value,i),i=this.chart.getLastDate(AmCharts.stringToDate(this.endDateField.value,i)),t;try{this.startDateField.blur();this.endDateField.blur()}catch(u){}r&&i&&(t={type:"changed"},t.startDate=r,t.endDate=i,t.chart=this.chart,t.event=n,this.fire(t.type,t))},handlePeriodChange:function(n){this.selectPeriodButton((n.srcElement?n.srcElement:n.target).periodObj,!1,n)},setRanges:function(n,t){this.firstDate=n;this.lastDate=t;this.getPeriodDates()},selectPeriodButton:function(n,t,i){var s=n.button,h=s.count,e=s.period,a=this.chart,r,u,f=this.firstDate,o=this.lastDate,c,l=this.theme;f&&o&&("MAX"==e?(r=f,u=o):"YTD"==e?(r=new Date,r.setMonth(0,1),r.setHours(0,0,0,0),0===h&&r.setDate(r.getDate()-1),u=this.lastDate):"YYYY"==e||"MM"==e?this.selectFromStart?(r=f,u=new Date(f),u.setMonth(u.getMonth()+h)):(r=new Date(o),AmCharts.changeDate(r,e,h,!1),r.setDate(r.getDate()-1),u=o,r.setTime(r.getTime()+1)):(c=AmCharts.getPeriodDuration(e,h),this.selectFromStart?(r=f,u=new Date(f.getTime()+c-1)):(r=new Date(o.getTime()-c+1),u=o)),n.startTime=r.getTime(),this.hideOutOfScopePeriods&&(s.style.display=t&&n.startTime<f.getTime()?"none":"inline"),r.getTime()>o.getTime()&&(c=AmCharts.getPeriodDuration("DD",1),r=new Date(o.getTime()-c)),r.getTime()<f.getTime()&&(r=f),"YTD"==e&&(n.startTime=r.getTime()),n.endTime=u.getTime(),t||(this.skipMark=!0,this.unselectButtons(),s.className="amChartsButtonSelected "+a.classNamePrefix+"-period-input-selected",l&&AmCharts.applyStyles(s.style,l.PeriodButtonSelected),n={type:"changed"},n.startDate=r,n.endDate=u,n.predefinedPeriod=e,n.chart=this.chart,n.count=h,n.event=i,this.fire(n.type,n)))},markButtonAsSelected:function(){var i,n,f;if(!this.skipMark){var r=this.chart,e=this.periods,o=r.startDate.getTime(),u=r.endDate.getTime(),t=this.lastDate.getTime();for(u>t&&(u=t),t=this.theme,this.unselectButtons(),i=e.length-1;0<=i;i--)n=e[i],f=n.button,n.startTime&&n.endTime&&o==n.startTime&&u==n.endTime&&(this.unselectButtons(),f.className="amChartsButtonSelected "+r.classNamePrefix+"-period-input-selected",t&&AmCharts.applyStyles(f.style,t.PeriodButtonSelected))}this.skipMark=!1},unselectButtons:function(){for(var u=this.chart,i=this.periods,r=this.theme,t,n=i.length-1;0<=n;n--)t=i[n].button,t.className="amChartsButton "+u.classNamePrefix+"-period-input",r&&AmCharts.applyStyles(t.style,r.PeriodButton)},setDefaultPeriod:function(){for(var i=this.periods,t,n=0;n<i.length;n++)t=i[n],t.selected&&this.selectPeriodButton(t)}});AmCharts.StockGraph=AmCharts.Class({inherits:AmCharts.AmGraph,construct:function(n){AmCharts.StockGraph.base.construct.call(this,n);this.cname="StockGraph";this.useDataSetColors=!0;this.periodValue="Close";this.compareGraphType="line";this.compareGraphVisibleInLegend=!0;this.comparable=this.resetTitleOnDataSetChange=!1;this.comparedGraphs={};this.showEventsOnComparedGraphs=!1;AmCharts.applyTheme(this,n,this.cname)}});AmCharts.StockPanel=AmCharts.Class({inherits:AmCharts.AmSerialChart,construct:function(n){AmCharts.StockPanel.base.construct.call(this,n);this.cname="StockPanel";this.theme=n;this.showCategoryAxis=this.showComparedOnTop=!0;this.recalculateToPercents="whenComparing";this.panelHeaderPaddingBottom=this.panelHeaderPaddingLeft=this.panelHeaderPaddingRight=this.panelHeaderPaddingTop=0;this.trendLineAlpha=1;this.trendLineColor="#00CC00";this.trendLineColorHover="#CC0000";this.trendLineThickness=2;this.trendLineDashLength=0;this.stockGraphs=[];this.drawingIconsEnabled=!1;this.iconSize=38;this.autoMargins=this.allowTurningOff=this.eraseAll=this.erasingEnabled=this.drawingEnabled=!1;AmCharts.applyTheme(this,n,this.cname)},initChart:function(n){AmCharts.StockPanel.base.initChart.call(this,n);this.drawingIconsEnabled&&this.createDrawIcons();(n=this.chartCursor)&&this.listenTo(n,"draw",this.handleDraw)},addStockGraph:function(n){return this.stockGraphs.push(n),n},handleCursorZoom:function(n){this.chartCursor&&this.chartCursor.pan&&AmCharts.StockPanel.base.handleCursorZoom.call(this,n)},removeStockGraph:function(n){for(var i=this.stockGraphs,t=i.length-1;0<=t;t--)i[t]==n&&i.splice(t,1)},createDrawIcons:function(){var t=this,n=t.iconSize,i=t.container,e=t.pathToImages,h=t.realWidth-2*n-1-t.marginRight,r=AmCharts.rect(i,n,n,"#000",.005),u=AmCharts.rect(i,n,n,"#000",.005),o,f,s;u.translate(n+1,0);o=i.image(e+"pencilIcon.png",0,0,n,n);AmCharts.setCN(t,o,"pencil");t.pencilButton=o;u.setAttr("cursor","pointer");r.setAttr("cursor","pointer");r.mouseup(function(){t.handlePencilClick()});f=i.image(e+"pencilIconH.png",0,0,n,n);AmCharts.setCN(t,f,"pencil-pushed");t.pencilButtonPushed=f;t.drawingEnabled||f.hide();s=i.image(e+"eraserIcon.png",n+1,0,n,n);AmCharts.setCN(t,s,"eraser");t.eraserButton=s;u.mouseup(function(){t.handleEraserClick()});r.touchend&&(r.touchend(function(){t.handlePencilClick()}),u.touchend(function(){t.handleEraserClick()}));n=i.image(e+"eraserIconH.png",n+1,0,n,n);AmCharts.setCN(t,n,"eraser-pushed");t.eraserButtonPushed=n;t.erasingEnabled||n.hide();i=i.set([o,f,s,n,r,u]);AmCharts.setCN(t,i,"drawing-tools");i.translate(h,1);this.hideIcons&&i.hide()},handlePencilClick:function(){var t=!this.drawingEnabled,n;this.disableDrawing(!t);this.erasingEnabled=!1;n=this.eraserButtonPushed;n&&n.hide();n=this.pencilButtonPushed;t?n&&n.show():(n&&n.hide(),this.setMouseCursor("auto"))},disableDrawing:function(n){this.drawingEnabled=!n;var t=this.chartCursor;this.stockChart.enableCursors(n);t&&t.enableDrawing(!n)},handleEraserClick:function(){var n,t,i;if(this.disableDrawing(!0),n=this.pencilButtonPushed,n&&n.hide(),n=this.eraserButtonPushed,this.eraseAll){for(n=this.trendLines,t=n.length-1;0<=t;t--)i=n[t],i.isProtected||this.removeTrendLine(i);this.validateNow()}else(this.erasingEnabled=t=!this.erasingEnabled)?(n&&n.show(),this.setTrendColorHover(this.trendLineColorHover),this.setMouseCursor("auto")):(n&&n.hide(),this.setTrendColorHover())},setTrendColorHover:function(n){for(var r=this.trendLines,i,t=r.length-1;0<=t;t--)i=r[t],i.isProtected||(i.rollOverColor=n)},handleDraw:function(n){var i=this.drawOnAxis,t;AmCharts.isString(i)&&(i=this.getValueAxisById(i));i||(i=this.valueAxes[0]);this.drawOnAxis=i;var r=this.categoryAxis,u=n.initialX,f=n.finalX,e=n.initialY;n=n.finalY;t=new AmCharts.TrendLine(this.theme);t.initialDate=r.coordinateToDate(u);t.finalDate=r.coordinateToDate(f);t.initialValue=i.coordinateToValue(e);t.finalValue=i.coordinateToValue(n);t.lineAlpha=this.trendLineAlpha;t.lineColor=this.trendLineColor;t.lineThickness=this.trendLineThickness;t.dashLength=this.trendLineDashLength;t.valueAxis=i;t.categoryAxis=r;this.addTrendLine(t);this.listenTo(t,"click",this.handleTrendClick);this.validateNow()},hideDrawingIcons:function(n){(this.hideIcons=n)&&this.disableDrawing(n)},handleTrendClick:function(n){this.erasingEnabled&&(n=n.trendLine,this.eraseAll||n.isProtected||this.removeTrendLine(n),this.validateNow())},handleWheelReal:function(n,t){var u=this.scrollbarChart,r,i;!this.wheelBusy&&u&&(r=1,t&&(r=-1),u=u.chartScrollbar,i=this.categoryAxis.minDuration(),0>n?(r=this.startTime+r*i,i=this.endTime+1*i):(r=this.startTime-r*i,i=this.endTime-1*i),r<this.firstTime&&(r=this.firstTime),i>this.lastTime&&(i=this.lastTime),r<i&&u.timeZoom(r,i,!0))}});AmCharts.CategoryAxesSettings=AmCharts.Class({construct:function(n){this.cname="CategoryAxesSettings";this.minPeriod="DD";this.equalSpacing=!1;this.axisHeight=28;this.tickLength=this.axisAlpha=0;this.gridCount=10;this.maxSeries=150;this.groupToPeriods="ss 10ss 30ss mm 10mm 30mm hh DD WW MM YYYY".split(" ");this.markPeriodChange=this.autoGridCount=!0;AmCharts.applyTheme(this,n,this.cname)}});AmCharts.ChartCursorSettings=AmCharts.Class({construct:function(n){this.cname="ChartCursorSettings";this.enabled=!0;this.bulletsEnabled=this.valueBalloonsEnabled=!1;this.graphBulletSize=1;this.categoryBalloonDateFormats=[{period:"YYYY",format:"YYYY"},{period:"MM",format:"MMM, YYYY"},{period:"WW",format:"MMM DD, YYYY"},{period:"DD",format:"MMM DD, YYYY"},{period:"hh",format:"JJ:NN"},{period:"mm",format:"JJ:NN"},{period:"ss",format:"JJ:NN:SS"},{period:"fff",format:"JJ:NN:SS"}];AmCharts.applyTheme(this,n,this.cname)},categoryBalloonDateFormat:function(n){for(var i=this.categoryBalloonDateFormats,r,t=0;t<i.length;t++)i[t].period==n&&(r=i[t].format);return r}});AmCharts.ChartScrollbarSettings=AmCharts.Class({construct:function(n){this.cname="ChartScrollbarSettings";this.height=40;this.enabled=!0;this.color="#FFFFFF";this.updateOnReleaseOnly=this.autoGridCount=!0;this.hideResizeGrips=!1;this.position="bottom";this.minDistance=1;AmCharts.applyTheme(this,n,this.cname)}});AmCharts.LegendSettings=AmCharts.Class({construct:function(n){this.cname="LegendSettings";this.marginBottom=this.marginTop=0;this.usePositiveNegativeOnPercentsOnly=!0;this.positiveValueColor="#00CC00";this.negativeValueColor="#CC0000";this.autoMargins=this.equalWidths=this.textClickEnabled=!1;AmCharts.applyTheme(this,n,this.cname)}});AmCharts.PanelsSettings=AmCharts.Class({construct:function(n){this.cname="PanelsSettings";this.marginBottom=this.marginTop=this.marginRight=this.marginLeft=0;this.backgroundColor="#FFFFFF";this.backgroundAlpha=0;this.panelSpacing=8;this.panEventsEnabled=!0;this.creditsPosition="top-right";AmCharts.applyTheme(this,n,this.cname)}});AmCharts.StockEventsSettings=AmCharts.Class({construct:function(n){this.cname="StockEventsSettings";this.type="sign";this.backgroundAlpha=1;this.backgroundColor="#DADADA";this.borderAlpha=1;this.borderColor="#888888";this.balloonColor=this.rollOverColor="#CC0000";AmCharts.applyTheme(this,n,this.cname)}});AmCharts.ValueAxesSettings=AmCharts.Class({construct:function(n){this.cname="ValueAxesSettings";this.tickLength=0;this.showFirstLabel=this.autoGridCount=this.inside=!0;this.showLastLabel=!1;this.axisAlpha=0;AmCharts.applyTheme(this,n,this.cname)}});AmCharts.getItemIndex=function(n,t){for(var r=-1,i=0;i<t.length;i++)n==t[i]&&(r=i);return r};AmCharts.addBr=function(n){n.appendChild(document.createElement("br"))};AmCharts.applyStyles=function(n,t){var u,i,r;if(t&&n)for(u in n)if(i=u,r=t[i],void 0!==r)try{n[i]=r}catch(f){}};AmCharts.parseStockData=function(n,t,i,r,u){var l,p,nt;(new Date).getTime();var tt={},ft=n.dataProvider,g=n.categoryField;if(g){for(var w=AmCharts.getItemIndex(t,i),et=i.length,ot=ft.length,o,it={},h=w;h<et;h++)o=i[h],tt[o]=[];var c={},b=n.fieldMappings,rt=b.length;for(h=0;h<ot;h++){var v=ft[h],y=v[g],k=AmCharts.getDate(y,u,t),k=y instanceof Date?AmCharts.newDate(y,t):u?AmCharts.stringToDate(y,u):new Date(y),y=k.getTime(),ut={};for(o=0;o<rt;o++)ut[b[o].toField]=v[b[o].fromField];for(l=w;l<et;l++){o=i[l];var f=AmCharts.extractPeriod(o),a=f.period,d=f.count,e,s;if(l==w||y>=it[o]||!it[o]){for(c[o]={},c[o].amCategoryIdField=String(AmCharts.resetDateToMin(k,a,d,r).getTime()),p=0;p<rt;p++)f=b[p].toField,e=c[o],s=Number(ut[f]),e[f+"Count"]=0,e[f+"Sum"]=0,isNaN(s)||(e[f+"Open"]=s,e[f+"Sum"]=s,e[f+"High"]=s,e[f+"Low"]=s,e[f+"Close"]=s,e[f+"Count"]=1,e[f+"Average"]=s);if(e.dataContext=v,tt[o].push(c[o]),l>w&&(f=AmCharts.newDate(k,t),f=AmCharts.changeDate(f,a,d,!0),f=AmCharts.resetDateToMin(f,a,d,r),it[o]=f.getTime()),l==w)for(nt in v)v.hasOwnProperty(nt)&&(c[o][nt]=v[nt]);c[o][g]=AmCharts.newDate(k,t)}else for(a=0;a<rt;a++)f=b[a].toField,e=c[o],h==ot-1&&(e[g]=AmCharts.newDate(k,t)),s=Number(ut[f]),isNaN(s)||(isNaN(e[f+"Low"])&&(e[f+"Low"]=s),s<e[f+"Low"]&&(e[f+"Low"]=s),isNaN(e[f+"High"])&&(e[f+"High"]=s),s>e[f+"High"]&&(e[f+"High"]=s),e[f+"Close"]=s,d=AmCharts.getDecimals(e[f+"Sum"]),p=AmCharts.getDecimals(s),e[f+"Sum"]+=s,e[f+"Sum"]=AmCharts.roundTo(e[f+"Sum"],Math.max(d,p)),e[f+"Count"]++,e[f+"Average"]=e[f+"Sum"]/e[f+"Count"])}}}n.agregatedDataProviders=tt};AmCharts.parseEvents=function(n,t,i,r,u,f){for(var b=n.stockEvents,tt=n.agregatedDataProviders,rt=t.length,v,k,l,h,y,e,a,p,d,w,ut,g,nt,ft,c,et,o,it,s=0;s<rt;s++){for(y=t[s],h=y.graphs,k=h.length,v=0;v<k;v++)l=h[v],l.customBulletField="amCustomBullet"+l.id+"_"+y.id,l.bulletConfigField="amCustomBulletConfig"+l.id+"_"+y.id;for(c=0;c<b.length;c++)(e=b[c],p=e.graph,AmCharts.isString(p)&&(p=AmCharts.getObjById(h,p)))&&(e.graph=p)}for(d in tt)if(tt.hasOwnProperty(d))for(p=tt[d],w=AmCharts.extractPeriod(d),ut=p.length,g=0;g<ut;g++)for(nt=p[g],s=nt[n.categoryField],a=s instanceof Date,f&&!a&&(s=AmCharts.stringToDate(s,f)),ft=s.getTime(),h=w.period,c=w.count,et="fff"==h?s.getTime()+1:AmCharts.resetDateToMin(AmCharts.changeDate(new Date(s),w.period,w.count),h,c,r).getTime(),s=0;s<rt;s++)for(y=t[s],h=y.graphs,k=h.length,v=0;v<k;v++)for(l=h[v],o={},o.eventDispatcher=u,o.eventObjects=[],o.letters=[],o.descriptions=[],o.shapes=[],o.backgroundColors=[],o.backgroundAlphas=[],o.borderColors=[],o.borderAlphas=[],o.colors=[],o.rollOverColors=[],o.showOnAxis=[],o.values=[],o.showAts=[],o.fontSizes=[],c=0;c<b.length;c++)e=b[c],a=e.date instanceof Date,f&&!a&&(e.date=AmCharts.stringToDate(e.date,f)),a=e.date.getTime(),it=!1,e.graph&&(e.graph.showEventsOnComparedGraphs&&e.graph.comparedGraphs[n.id]&&(it=!0),(l==e.graph||it)&&a>=ft&&a<et&&(o.eventObjects.push(e),o.letters.push(e.text),o.descriptions.push(e.description),e.type?o.shapes.push(e.type):o.shapes.push(i.type),void 0!==e.backgroundColor?o.backgroundColors.push(e.backgroundColor):o.backgroundColors.push(i.backgroundColor),isNaN(e.backgroundAlpha)?o.backgroundAlphas.push(i.backgroundAlpha):o.backgroundAlphas.push(e.backgroundAlpha),isNaN(e.borderAlpha)?o.borderAlphas.push(i.borderAlpha):o.borderAlphas.push(e.borderAlpha),void 0!==e.borderColor?o.borderColors.push(e.borderColor):o.borderColors.push(i.borderColor),void 0!==e.rollOverColor?o.rollOverColors.push(e.rollOverColor):o.rollOverColors.push(i.rollOverColor),void 0!==e.showAt?o.showAts.push(e.showAt):o.showAts.push(i.showAt),void 0!==e.fontSize&&o.fontSizes.push(e.fontSize),o.colors.push(e.color),o.values.push(e.value),!e.panel&&e.graph&&(e.panel=e.graph.chart),o.showOnAxis.push(e.showOnAxis),o.date=new Date(e.date))),0<o.shapes.length&&(e="amCustomBullet"+l.id+"_"+y.id,a="amCustomBulletConfig"+l.id+"_"+y.id,nt[e]=AmCharts.StackedBullet,nt[a]=o)};AmCharts.StockLegend=AmCharts.Class({inherits:AmCharts.AmLegend,construct:function(n){AmCharts.StockLegend.base.construct.call(this,n);this.cname="StockLegend";this.valueTextComparing="[[percents.value]]%";this.valueTextRegular="[[value]]";AmCharts.applyTheme(this,n,this.cname)},drawLegend:function(){var t=this,n;if(AmCharts.StockLegend.base.drawLegend.call(t),n=t.chart,n.allowTurningOff){var i=t.container,r=i.image(n.pathToImages+"xIcon.png",n.realWidth-19,3,19,19),n=i.image(n.pathToImages+"xIconH.png",n.realWidth-19,3,19,19);n.hide();t.xButtonHover=n;r.mouseup(function(){t.handleXClick()}).mouseover(function(){t.handleXOver()});n.mouseup(function(){t.handleXClick()}).mouseout(function(){t.handleXOut()})}},handleXOver:function(){this.xButtonHover.show()},handleXOut:function(){this.xButtonHover.hide()},handleXClick:function(){var n=this.chart,t=n.stockChart;t.removePanel(n);t.validateNow()}});AmCharts.DataSetSelector=AmCharts.Class({construct:function(n){this.cname="DataSetSelector";this.theme=n;this.createEvents("dataSetSelected","dataSetCompared","dataSetUncompared");this.position="left";this.selectText="Select:";this.comboBoxSelectText="Select...";this.compareText="Compare to:";this.width=180;this.dataProvider=[];this.listHeight=150;this.listCheckBoxSize=14;this.rollOverBackgroundColor="#b2e1ff";this.selectedBackgroundColor="#7fceff";AmCharts.applyTheme(this,n,this.cname)},write:function(n){var t=this,i,e=t.theme,o=t.chart,u,s,h,f,r,c;if(n.className="amChartsDataSetSelector "+o.classNamePrefix+"-data-set-selector-div",h=t.width,i=t.position,t.width=void 0,t.position=void 0,AmCharts.applyStyles(n.style,t),t.div=n,t.width=h,t.position=i,n.innerHTML="",h=t.position,u="top"==h||"bottom"==h?!1:!0,t.vertical=u,u&&(s=t.width+"px"),h=t.dataProvider,1<t.countDataSets("showInSelect")){for(i=document.createTextNode(AmCharts.lang.selectText||t.selectText),n.appendChild(i),u&&AmCharts.addBr(n),c=document.createElement("select"),s&&(c.style.width=s),t.selectCB=c,e&&AmCharts.applyStyles(c.style,e.DataSetSelect),c.className=o.classNamePrefix+"-data-set-select",n.appendChild(c),AmCharts.isNN&&c.addEventListener("change",function(n){t.handleDataSetChange.call(t,n)},!0),AmCharts.isIE&&c.attachEvent("onchange",function(n){t.handleDataSetChange.call(t,n)}),i=0;i<h.length;i++)if(f=h[i],!0===f.showInSelect){r=document.createElement("option");r.className=o.classNamePrefix+"-data-set-select-option";r.text=f.title;r.value=i;f==t.chart.mainDataSet&&(r.selected=!0);try{c.add(r,null)}catch(l){c.add(r)}}t.offsetHeight=c.offsetHeight}if(0<t.countDataSets("showInCompare")&&1<h.length)if(u?(AmCharts.addBr(n),AmCharts.addBr(n)):(i=document.createTextNode(" "),n.appendChild(i)),i=document.createTextNode(AmCharts.lang.compareText||t.compareText),n.appendChild(i),r=t.listCheckBoxSize,u){for(AmCharts.addBr(n),s=document.createElement("div"),n.appendChild(s),s.className="amChartsCompareList "+o.classNamePrefix+"-compare-div",e&&AmCharts.applyStyles(s.style,e.DataSetCompareList),s.style.overflow="auto",s.style.overflowX="hidden",s.style.width=t.width-2+"px",s.style.maxHeight=t.listHeight+"px",i=0;i<h.length;i++)f=h[i],!0===f.showInCompare&&f!=t.chart.mainDataSet&&(e=document.createElement("div"),e.style.padding="4px",e.style.position="relative",e.name="amCBContainer",e.className=o.classNamePrefix+"-compare-item-div",e.dataSet=f,e.style.height=r+"px",f.compared&&(e.style.backgroundColor=t.selectedBackgroundColor),s.appendChild(e),u=document.createElement("div"),u.style.width=r+"px",u.style.height=r+"px",u.style.position="absolute",u.style.backgroundColor=f.color,e.appendChild(u),u=document.createElement("div"),u.style.width="100%",u.style.position="absolute",u.style.left=r+10+"px",e.appendChild(u),f=document.createTextNode(f.title),u.style.whiteSpace="nowrap",u.style.cursor="default",u.appendChild(f),t.addEventListeners(e));AmCharts.addBr(n);AmCharts.addBr(n)}else{o=document.createElement("select");t.compareCB=o;s&&(o.style.width=s);n.appendChild(o);AmCharts.isNN&&o.addEventListener("change",function(n){t.handleCBSelect.call(t,n)},!0);AmCharts.isIE&&o.attachEvent("onchange",function(n){t.handleCBSelect.call(t,n)});r=document.createElement("option");r.text=AmCharts.lang.comboBoxSelectText||t.comboBoxSelectText;try{o.add(r,null)}catch(a){o.add(r)}for(i=0;i<h.length;i++)if(f=h[i],!0===f.showInCompare&&f!=t.chart.mainDataSet){r=document.createElement("option");r.text=f.title;r.value=i;f.compared&&(r.selected=!0);try{o.add(r,null)}catch(v){o.add(r)}}t.offsetHeight=o.offsetHeight}},addEventListeners:function(n){var t=this;AmCharts.isNN&&(n.addEventListener("mouseover",function(n){t.handleRollOver.call(t,n)},!0),n.addEventListener("mouseout",function(n){t.handleRollOut.call(t,n)},!0),n.addEventListener("click",function(n){t.handleClick.call(t,n)},!0));AmCharts.isIE&&(n.attachEvent("onmouseout",function(n){t.handleRollOut.call(t,n)}),n.attachEvent("onmouseover",function(n){t.handleRollOver.call(t,n)}),n.attachEvent("onclick",function(n){t.handleClick.call(t,n)}))},handleDataSetChange:function(){var n=this.selectCB,n=this.dataProvider[n.options[n.selectedIndex].value],t=this.chart;t.mainDataSet=n;t.zoomOutOnDataSetChange&&(t.startDate=void 0,t.endDate=void 0);t.validateData();n={type:"dataSetSelected",dataSet:n,chart:this.chart};this.fire(n.type,n)},handleRollOver:function(n){n=this.getRealDiv(n);n.dataSet.compared||(n.style.backgroundColor=this.rollOverBackgroundColor)},handleRollOut:function(n){n=this.getRealDiv(n);n.dataSet.compared||(n.style.removeProperty&&n.style.removeProperty("background-color"),n.style.removeAttribute&&n.style.removeAttribute("backgroundColor"))},handleCBSelect:function(n){for(var i=this.compareCB,r=this.dataProvider,t,u=0;u<r.length;u++)t=r[u],t.compared&&(n={type:"dataSetUncompared",dataSet:t}),t.compared=!1;r=i.selectedIndex;0<r&&(t=this.dataProvider[i.options[r].value],t.compared||(n={type:"dataSetCompared",dataSet:t}),t.compared=!0);i=this.chart;i.validateData();n.chart=i;this.fire(n.type,n)},handleClick:function(n){n=this.getRealDiv(n).dataSet;!0===n.compared?(n.compared=!1,n={type:"dataSetUncompared",dataSet:n}):(n.compared=!0,n={type:"dataSetCompared",dataSet:n});var t=this.chart;t.validateData();n.chart=t;this.fire(n.type,n)},getRealDiv:function(n){return n||(n=window.event),n=n.currentTarget?n.currentTarget:n.srcElement,"amCBContainer"==n.parentNode.name&&(n=n.parentNode),n},countDataSets:function(n){for(var i=this.dataProvider,r=0,t=0;t<i.length;t++)!0===i[t][n]&&r++;return r}});AmCharts.StackedBullet=AmCharts.Class({construct:function(){this.stackDown=!1;this.mastHeight=8;this.shapes=[];this.backgroundColors=[];this.backgroundAlphas=[];this.borderAlphas=[];this.borderColors=[];this.colors=[];this.rollOverColors=[];this.showOnAxiss=[];this.values=[];this.showAts=[];this.textColor="#000000";this.nextY=0;this.size=16},parseConfig:function(){var n=this.bulletConfig;this.eventObjects=n.eventObjects;this.letters=n.letters;this.shapes=n.shapes;this.backgroundColors=n.backgroundColors;this.backgroundAlphas=n.backgroundAlphas;this.borderColors=n.borderColors;this.borderAlphas=n.borderAlphas;this.colors=n.colors;this.rollOverColors=n.rollOverColors;this.date=n.date;this.showOnAxiss=n.showOnAxis;this.axisCoordinate=n.minCoord;this.showAts=n.showAts;this.values=n.values;this.fontSizes=n.fontSizes},write:function(n){var i,t,r;for(this.parseConfig(),this.container=n,this.bullets=[],this.fontSize=this.chart.fontSize,this.graph&&(i=this.graph.fontSize,i&&(this.fontSize=i)),i=this.letters.length,(this.mastHeight+2*(this.fontSize/2+2))*i>this.availableSpace&&(this.stackDown=!0),this.set=n.set(),n=0,t=0;t<i;t++)this.shape=this.shapes[t],this.backgroundColor=this.backgroundColors[t],this.backgroundAlpha=this.backgroundAlphas[t],this.borderAlpha=this.borderAlphas[t],this.borderColor=this.borderColors[t],this.rollOverColor=this.rollOverColors[t],this.showOnAxis=this.showOnAxiss[t],this.color=this.colors[t],this.value=this.values[t],this.showAt=this.showAts[t],r=this.fontSizes[t],isNaN(r)||(this.fontSize=r),this.addLetter(this.letters[t],n,t),this.showOnAxis||n++},addLetter:function(n,t,i){var r=this.container,f;t=r.set();var e=-1,y=this.stackDown,h=this.graph.valueAxis;this.showOnAxis&&(this.stackDown=h.reversed?!0:!1);this.stackDown&&(e=1);var o=0,l=0,c=0,s,u=this.fontSize,a=this.mastHeight,p=this.shape,v=this.textColor;void 0!==this.color&&(v=this.color);void 0===n&&(n="");n=AmCharts.fixBrakes(n);n=AmCharts.text(r,n,v,this.chart.fontFamily,this.fontSize);n.node.style.pointerEvents="none";r=n.getBBox();this.labelWidth=v=r.width;this.labelHeight=r.height;r=0;switch(p){case"sign":f=this.drawSign(t);o=a+4+u/2;r=a+u+4;1==e&&(o-=4);break;case"flag":f=this.drawFlag(t);l=v/2+3;o=a+4+u/2;r=a+u+4;1==e&&(o-=4);break;case"pin":f=this.drawPin(t);o=6+u/2;r=u+8;break;case"triangleUp":f=this.drawTriangleUp(t);o=-u-1;r=u+4;e=-1;break;case"triangleDown":f=this.drawTriangleDown(t);o=u+1;r=u+4;e=-1;break;case"triangleLeft":f=this.drawTriangleLeft(t);l=u;r=u+4;e=-1;break;case"triangleRight":f=this.drawTriangleRight(t);l=-u;e=-1;r=u+4;break;case"arrowUp":f=this.drawArrowUp(t);n.hide();break;case"arrowDown":f=this.drawArrowDown(t);n.hide();r=u+4;break;case"text":e=-1;f=this.drawTextBackground(t,n);o=this.labelHeight+3;r=u+10;break;case"round":f=this.drawCircle(t)}this.bullets[i]=f;this.showOnAxis?(s=isNaN(this.nextAxisY)?this.axisCoordinate:this.nextY,c=o*e,this.nextAxisY=s+e*r):this.value?(s=this.value,h.recalculateToPercents&&(s=s/h.recBaseValue*100-100),s=h.getCoordinate(s)-this.bulletY,c=o*e):this.showAt?(f=this.graphDataItem.values,h.recalculateToPercents&&(f=this.graphDataItem.percents),f&&(s=h.getCoordinate(f[this.showAt])-this.bulletY,c=o*e)):(s=this.nextY,c=o*e);n.translate(l,c);t.push(n);t.translate(0,s);this.addEventListeners(t,i);this.nextY=s+e*r;this.stackDown=y},addEventListeners:function(n,t){var i=this;n.click(function(){i.handleClick(t)}).mouseover(function(){i.handleMouseOver(t)}).touchend(function(){i.handleMouseOver(t,!0);i.handleClick(t)}).mouseout(function(){i.handleMouseOut(t)})},drawPin:function(n){var i=-1,t;return this.stackDown&&(i=1),t=this.fontSize+4,this.drawRealPolygon(n,[0,t/2,t/2,-t/2,-t/2,0],[0,i*t/4,i*(t+t/4),i*(t+t/4),i*t/4,0])},drawSign:function(n){var t=-1;this.stackDown&&(t=1);var r=this.mastHeight*t,u=this.fontSize/2+2,f=AmCharts.line(this.container,[0,0],[0,r],this.borderColor,this.borderAlpha,1),i=AmCharts.circle(this.container,u,this.backgroundColor,this.backgroundAlpha,1,this.borderColor,this.borderAlpha);return i.translate(0,r+u*t),n.push(f),n.push(i),this.set.push(n),i},drawFlag:function(n){var t=-1;this.stackDown&&(t=1);var i=this.fontSize+4,u=this.labelWidth+6,r=this.mastHeight,t=1==t?t*r:t*r-i,r=AmCharts.line(this.container,[0,0],[0,t],this.borderColor,this.borderAlpha,1),i=AmCharts.polygon(this.container,[0,u,u,0],[0,0,i,i],this.backgroundColor,this.backgroundAlpha,1,this.borderColor,this.borderAlpha);return i.translate(0,t),n.push(r),n.push(i),this.set.push(n),i},drawTriangleUp:function(n){var t=this.fontSize+7;return this.drawRealPolygon(n,[0,t/2,-t/2,0],[0,t,t,0])},drawArrowUp:function(n){var i=this.size,t=i/2,r=i/4;return this.drawRealPolygon(n,[0,t,r,r,-r,-r,-t,0],[0,t,t,i,i,t,t,0])},drawArrowDown:function(n){var i=this.size,t=i/2,r=i/4;return this.drawRealPolygon(n,[0,t,r,r,-r,-r,-t,0],[0,-t,-t,-i,-i,-t,-t,0])},drawTriangleDown:function(n){var t=this.fontSize+7;return this.drawRealPolygon(n,[0,t/2,-t/2,0],[0,-t,-t,0])},drawTriangleLeft:function(n){var t=this.fontSize+7;return this.drawRealPolygon(n,[0,t,t,0],[0,-t/2,t/2])},drawTriangleRight:function(n){var t=this.fontSize+7;return this.drawRealPolygon(n,[0,-t,-t,0],[0,-t/2,t/2,0])},drawRealPolygon:function(n,t,i){return t=AmCharts.polygon(this.container,t,i,this.backgroundColor,this.backgroundAlpha,1,this.borderColor,this.borderAlpha),n.push(t),this.set.push(n),t},drawCircle:function(n){return shape=AmCharts.circle(this.container,this.fontSize/2,this.backgroundColor,this.backgroundAlpha,1,this.borderColor,this.borderAlpha),n.push(shape),this.set.push(n),shape},drawTextBackground:function(n,t){var i=t.getBBox(),r=-i.width/2-5,u=i.width/2+5,i=-i.height-12;return this.drawRealPolygon(n,[r,-5,0,5,u,u,r,r],[-5,-5,0,-5,-5,i,i,-5])},handleMouseOver:function(n,t){t||this.bullets[n].attr({fill:this.rollOverColors[n]});var i=this.eventObjects[n],r={type:"rollOverStockEvent",eventObject:i,graph:this.graph,date:this.date},u=this.bulletConfig.eventDispatcher;r.chart=u;u.fire(r.type,r);i.url&&this.bullets[n].setAttr("cursor","pointer");this.chart.showBalloon(AmCharts.fixNewLines(i.description),u.stockEventsSettings.balloonColor,!0)},handleClick:function(n){n=this.eventObjects[n];var t={type:"clickStockEvent",eventObject:n,graph:this.graph,date:this.date},i=this.bulletConfig.eventDispatcher;t.chart=i;i.fire(t.type,t);t=n.urlTarget;t||(t=i.stockEventsSettings.urlTarget);AmCharts.getURL(n.url,t)},handleMouseOut:function(n){this.bullets[n].attr({fill:this.backgroundColors[n]});n={type:"rollOutStockEvent",eventObject:this.eventObjects[n],graph:this.graph,date:this.date};var t=this.bulletConfig.eventDispatcher;n.chart=t;t.fire(n.type,n)}})